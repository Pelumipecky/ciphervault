import{r as j,b as rr,d as nr}from"./vendor-CAs3YXs6.js";import{u as jt,L as re,N as or,a as wa,b as et,R as lr,c as Se,B as cr}from"./router-CpDYkdFr.js";import{c as dr}from"./supabase-BEPeJoQh.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(a){if(a.ep)return;a.ep=!0;const n=s(a);fetch(a.href,n)}})();var Na={exports:{}},bs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hr=j,ur=Symbol.for("react.element"),mr=Symbol.for("react.fragment"),fr=Object.prototype.hasOwnProperty,pr=hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gr={key:!0,ref:!0,__self:!0,__source:!0};function Sa(r,e,s){var i,a={},n=null,o=null;s!==void 0&&(n=""+s),e.key!==void 0&&(n=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)fr.call(e,i)&&!gr.hasOwnProperty(i)&&(a[i]=e[i]);if(r&&r.defaultProps)for(i in e=r.defaultProps,e)a[i]===void 0&&(a[i]=e[i]);return{$$typeof:ur,type:r,key:n,ref:o,props:a,_owner:pr.current}}bs.Fragment=mr;bs.jsx=Sa;bs.jsxs=Sa;Na.exports=bs;var t=Na.exports,Hs={},xi=rr;Hs.createRoot=xi.createRoot,Hs.hydrateRoot=xi.hydrateRoot;const ka="https://soshavvofaafteaumzjg.supabase.co",Ca="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNvc2hhdnZvZmFhZnRlYXVtempnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0ODc2NDEsImV4cCI6MjA4MDA2MzY0MX0.tV78Yn3qRdROTuMBWTkDy2Lt5YKFM-wbNQnUZS1OwBQ",xr="production",br=[!ka,!Ca].filter(Boolean);console.log("[supabaseConfig] Environment check:",{envLabel:xr,supabaseUrl:"SET",supabaseAnonKey:"SET",missingVars:br});const yr=dr(ka,Ca,{auth:{persistSession:!0,autoRefreshToken:!0}});console.log("[supabaseConfig] Supabase client initialized successfully");const vr={};var Gs=null;function jr(r){try{return crypto.getRandomValues(new Uint8Array(r))}catch{}try{return vr.randomBytes(r)}catch{}if(!Gs)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Gs(r)}function wr(r){Gs=r}function ai(r,e){if(r=r||ri,typeof r!="number")throw Error("Illegal arguments: "+typeof r+", "+typeof e);r<4?r=4:r>31&&(r=31);var s=[];return s.push("$2b$"),r<10&&s.push("0"),s.push(r.toString()),s.push("$"),s.push(hs(jr(Dt),Dt)),s.join("")}function _a(r,e,s){if(typeof e=="function"&&(s=e,e=void 0),typeof r=="function"&&(s=r,r=void 0),typeof r>"u")r=ri;else if(typeof r!="number")throw Error("illegal arguments: "+typeof r);function i(a){We(function(){try{a(null,ai(r))}catch(n){a(n)}})}if(s){if(typeof s!="function")throw Error("Illegal callback: "+typeof s);i(s)}else return new Promise(function(a,n){i(function(o,l){if(o){n(o);return}a(l)})})}function za(r,e){if(typeof e>"u"&&(e=ri),typeof e=="number"&&(e=ai(e)),typeof r!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof r+", "+typeof e);return Js(r,e)}function Ra(r,e,s,i){function a(n){typeof r=="string"&&typeof e=="number"?_a(e,function(o,l){Js(r,l,n,i)}):typeof r=="string"&&typeof e=="string"?Js(r,e,n,i):We(n.bind(this,Error("Illegal arguments: "+typeof r+", "+typeof e)))}if(s){if(typeof s!="function")throw Error("Illegal callback: "+typeof s);a(s)}else return new Promise(function(n,o){a(function(l,c){if(l){o(l);return}n(c)})})}function Pa(r,e){for(var s=r.length^e.length,i=0;i<r.length;++i)s|=r.charCodeAt(i)^e.charCodeAt(i);return s===0}function Nr(r,e){if(typeof r!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof r+", "+typeof e);return e.length!==60?!1:Pa(za(r,e.substring(0,e.length-31)),e)}function Sr(r,e,s,i){function a(n){if(typeof r!="string"||typeof e!="string"){We(n.bind(this,Error("Illegal arguments: "+typeof r+", "+typeof e)));return}if(e.length!==60){We(n.bind(this,null,!1));return}Ra(r,e.substring(0,29),function(o,l){o?n(o):n(null,Pa(l,e))},i)}if(s){if(typeof s!="function")throw Error("Illegal callback: "+typeof s);a(s)}else return new Promise(function(n,o){a(function(l,c){if(l){o(l);return}n(c)})})}function kr(r){if(typeof r!="string")throw Error("Illegal arguments: "+typeof r);return parseInt(r.split("$")[2],10)}function Cr(r){if(typeof r!="string")throw Error("Illegal arguments: "+typeof r);if(r.length!==60)throw Error("Illegal hash length: "+r.length+" != 60");return r.substring(0,29)}function _r(r){if(typeof r!="string")throw Error("Illegal arguments: "+typeof r);return Ta(r)>72}var We=typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"?scheduler.postTask.bind(scheduler):setTimeout;function Ta(r){for(var e=0,s=0,i=0;i<r.length;++i)s=r.charCodeAt(i),s<128?e+=1:s<2048?e+=2:(s&64512)===55296&&(r.charCodeAt(i+1)&64512)===56320?(++i,e+=4):e+=3;return e}function zr(r){for(var e=0,s,i,a=new Array(Ta(r)),n=0,o=r.length;n<o;++n)s=r.charCodeAt(n),s<128?a[e++]=s:s<2048?(a[e++]=s>>6|192,a[e++]=s&63|128):(s&64512)===55296&&((i=r.charCodeAt(n+1))&64512)===56320?(s=65536+((s&1023)<<10)+(i&1023),++n,a[e++]=s>>18|240,a[e++]=s>>12&63|128,a[e++]=s>>6&63|128,a[e++]=s&63|128):(a[e++]=s>>12|224,a[e++]=s>>6&63|128,a[e++]=s&63|128);return a}var ot="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Ge=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function hs(r,e){var s=0,i=[],a,n;if(e<=0||e>r.length)throw Error("Illegal len: "+e);for(;s<e;){if(a=r[s++]&255,i.push(ot[a>>2&63]),a=(a&3)<<4,s>=e){i.push(ot[a&63]);break}if(n=r[s++]&255,a|=n>>4&15,i.push(ot[a&63]),a=(n&15)<<2,s>=e){i.push(ot[a&63]);break}n=r[s++]&255,a|=n>>6&3,i.push(ot[a&63]),i.push(ot[n&63])}return i.join("")}function Ia(r,e){var s=0,i=r.length,a=0,n=[],o,l,c,d,m,f;if(e<=0)throw Error("Illegal len: "+e);for(;s<i-1&&a<e&&(f=r.charCodeAt(s++),o=f<Ge.length?Ge[f]:-1,f=r.charCodeAt(s++),l=f<Ge.length?Ge[f]:-1,!(o==-1||l==-1||(m=o<<2>>>0,m|=(l&48)>>4,n.push(String.fromCharCode(m)),++a>=e||s>=i)||(f=r.charCodeAt(s++),c=f<Ge.length?Ge[f]:-1,c==-1)||(m=(l&15)<<4>>>0,m|=(c&60)>>2,n.push(String.fromCharCode(m)),++a>=e||s>=i)));)f=r.charCodeAt(s++),d=f<Ge.length?Ge[f]:-1,m=(c&3)<<6>>>0,m|=d,n.push(String.fromCharCode(m)),++a;var g=[];for(s=0;s<a;s++)g.push(n[s].charCodeAt(0));return g}var Dt=16,ri=10,Rr=16,Pr=100,bi=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],yi=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],Ba=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Ft(r,e,s,i){var a,n=r[e],o=r[e+1];return n^=s[0],a=i[n>>>24],a+=i[256|n>>16&255],a^=i[512|n>>8&255],a+=i[768|n&255],o^=a^s[1],a=i[o>>>24],a+=i[256|o>>16&255],a^=i[512|o>>8&255],a+=i[768|o&255],n^=a^s[2],a=i[n>>>24],a+=i[256|n>>16&255],a^=i[512|n>>8&255],a+=i[768|n&255],o^=a^s[3],a=i[o>>>24],a+=i[256|o>>16&255],a^=i[512|o>>8&255],a+=i[768|o&255],n^=a^s[4],a=i[n>>>24],a+=i[256|n>>16&255],a^=i[512|n>>8&255],a+=i[768|n&255],o^=a^s[5],a=i[o>>>24],a+=i[256|o>>16&255],a^=i[512|o>>8&255],a+=i[768|o&255],n^=a^s[6],a=i[n>>>24],a+=i[256|n>>16&255],a^=i[512|n>>8&255],a+=i[768|n&255],o^=a^s[7],a=i[o>>>24],a+=i[256|o>>16&255],a^=i[512|o>>8&255],a+=i[768|o&255],n^=a^s[8],a=i[n>>>24],a+=i[256|n>>16&255],a^=i[512|n>>8&255],a+=i[768|n&255],o^=a^s[9],a=i[o>>>24],a+=i[256|o>>16&255],a^=i[512|o>>8&255],a+=i[768|o&255],n^=a^s[10],a=i[n>>>24],a+=i[256|n>>16&255],a^=i[512|n>>8&255],a+=i[768|n&255],o^=a^s[11],a=i[o>>>24],a+=i[256|o>>16&255],a^=i[512|o>>8&255],a+=i[768|o&255],n^=a^s[12],a=i[n>>>24],a+=i[256|n>>16&255],a^=i[512|n>>8&255],a+=i[768|n&255],o^=a^s[13],a=i[o>>>24],a+=i[256|o>>16&255],a^=i[512|o>>8&255],a+=i[768|o&255],n^=a^s[14],a=i[n>>>24],a+=i[256|n>>16&255],a^=i[512|n>>8&255],a+=i[768|n&255],o^=a^s[15],a=i[o>>>24],a+=i[256|o>>16&255],a^=i[512|o>>8&255],a+=i[768|o&255],n^=a^s[16],r[e]=o^s[Rr+1],r[e+1]=n,r}function ut(r,e){for(var s=0,i=0;s<4;++s)i=i<<8|r[e]&255,e=(e+1)%r.length;return{key:i,offp:e}}function vi(r,e,s){for(var i=0,a=[0,0],n=e.length,o=s.length,l,c=0;c<n;c++)l=ut(r,i),i=l.offp,e[c]=e[c]^l.key;for(c=0;c<n;c+=2)a=Ft(a,0,e,s),e[c]=a[0],e[c+1]=a[1];for(c=0;c<o;c+=2)a=Ft(a,0,e,s),s[c]=a[0],s[c+1]=a[1]}function Tr(r,e,s,i){for(var a=0,n=[0,0],o=s.length,l=i.length,c,d=0;d<o;d++)c=ut(e,a),a=c.offp,s[d]=s[d]^c.key;for(a=0,d=0;d<o;d+=2)c=ut(r,a),a=c.offp,n[0]^=c.key,c=ut(r,a),a=c.offp,n[1]^=c.key,n=Ft(n,0,s,i),s[d]=n[0],s[d+1]=n[1];for(d=0;d<l;d+=2)c=ut(r,a),a=c.offp,n[0]^=c.key,c=ut(r,a),a=c.offp,n[1]^=c.key,n=Ft(n,0,s,i),i[d]=n[0],i[d+1]=n[1]}function ji(r,e,s,i,a){var n=Ba.slice(),o=n.length,l;if(s<4||s>31)if(l=Error("Illegal number of rounds (4-31): "+s),i){We(i.bind(this,l));return}else throw l;if(e.length!==Dt)if(l=Error("Illegal salt length: "+e.length+" != "+Dt),i){We(i.bind(this,l));return}else throw l;s=1<<s>>>0;var c,d,m=0,f;typeof Int32Array=="function"?(c=new Int32Array(bi),d=new Int32Array(yi)):(c=bi.slice(),d=yi.slice()),Tr(e,r,c,d);function g(){if(a&&a(m/s),m<s)for(var b=Date.now();m<s&&(m=m+1,vi(r,c,d),vi(e,c,d),!(Date.now()-b>Pr)););else{for(m=0;m<64;m++)for(f=0;f<o>>1;f++)Ft(n,f<<1,c,d);var v=[];for(m=0;m<o;m++)v.push((n[m]>>24&255)>>>0),v.push((n[m]>>16&255)>>>0),v.push((n[m]>>8&255)>>>0),v.push((n[m]&255)>>>0);if(i){i(null,v);return}else return v}i&&We(g)}if(typeof i<"u")g();else for(var x;;)if(typeof(x=g())<"u")return x||[]}function Js(r,e,s,i){var a;if(typeof r!="string"||typeof e!="string")if(a=Error("Invalid string / salt: Not a string"),s){We(s.bind(this,a));return}else throw a;var n,o;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(a=Error("Invalid salt version: "+e.substring(0,2)),s){We(s.bind(this,a));return}else throw a;if(e.charAt(2)==="$")n="\0",o=3;else{if(n=e.charAt(2),n!=="a"&&n!=="b"&&n!=="y"||e.charAt(3)!=="$")if(a=Error("Invalid salt revision: "+e.substring(2,4)),s){We(s.bind(this,a));return}else throw a;o=4}if(e.charAt(o+2)>"$")if(a=Error("Missing salt rounds"),s){We(s.bind(this,a));return}else throw a;var l=parseInt(e.substring(o,o+1),10)*10,c=parseInt(e.substring(o+1,o+2),10),d=l+c,m=e.substring(o+3,o+25);r+=n>="a"?"\0":"";var f=zr(r),g=Ia(m,Dt);function x(b){var v=[];return v.push("$2"),n>="a"&&v.push(n),v.push("$"),d<10&&v.push("0"),v.push(d.toString()),v.push("$"),v.push(hs(g,g.length)),v.push(hs(b,Ba.length*4-1)),v.join("")}if(typeof s>"u")return x(ji(f,g,d));ji(f,g,d,function(b,v){b?s(b,null):s(null,x(v))},i)}function Ir(r,e){return hs(r,e)}function Br(r,e){return Ia(r,e)}const wi={setRandomFallback:wr,genSaltSync:ai,genSalt:_a,hashSync:za,hash:Ra,compareSync:Nr,compare:Sr,getRounds:kr,getSalt:Cr,truncates:_r,encodeBase64:Ir,decodeBase64:Br},q=yr,lt=r=>{if(!r||typeof r!="object")return r;const{authstatus:e,referral_count:s,referral_bonus_total:i,referral_code:a,referral_code_expires_at:n,referral_code_issued_at:o,referred_by_code:l,referral_level:c,...d}=r;return{...d,authStatus:e??d.authStatus??null,referralCount:s??d.referralCount??0,referralBonusTotal:i??d.referralBonusTotal??0,referralCode:a??d.referralCode??null,referralCodeExpiresAt:n??d.referralCodeExpiresAt??null,referralCodeIssuedAt:o??d.referralCodeIssuedAt??null,referredByCode:l??d.referredByCode??null,referralLevel:c??d.referralLevel??0}},Xt=r=>{if(!r||typeof r!="object")return r;const{paymentoption:e,authstatus:s,transaction_hash:i,credited_roi:a,credited_bonus:n,...o}=r;return{...o,paymentOption:e??r.paymentOption??"Bitcoin",authStatus:s??r.authStatus??"unseen",transactionHash:i??r.transactionHash??null,creditedRoi:a??r.creditedRoi??0,creditedBonus:n??r.creditedBonus??0}},Mr=(r={})=>({idnum:r.idnum,plan:r.plan,status:r.status||"pending",capital:r.capital??0,roi:r.roi??0,bonus:r.bonus??0,duration:r.duration??5,paymentOption:r.paymentOption??"Bitcoin",transactionHash:r.transactionHash??null,authStatus:r.authStatus??"unseen",creditedRoi:r.creditedRoi??0,creditedBonus:r.creditedBonus??0}),Ar=()=>{const r=Date.now().toString(36),e=Math.random().toString(36).substring(2,7);return`USR${r}${e}`.toUpperCase()},Ps={async signup(r,e,s={}){if(await $.getUserByEmail(r))throw new Error("Email already registered");const a=await wi.hash(e,10),n=Ar();return await $.createUser({idnum:n,email:r,password:a,balance:0,bonus:0,investmentCount:0,referralCount:0,role:"user",...s})},async login(r,e){let s=await $.getUserByEmail(r);if(s||(s=await $.getUserByUsername(r)),!s||!await wi.compare(e,s.password||""))return null;const{password:a,...n}=s;return n},async getUserBySession(){const r=localStorage.getItem("activeUser")||sessionStorage.getItem("activeUser");if(!r)return null;try{const e=JSON.parse(r);if(e.idnum)return await $.getUserByIdnum(e.idnum)}catch(e){console.error("Error parsing user session:",e)}return null}},$={async getAllUsers(){const{data:r,error:e}=await q.from("users").select("*").order("created_at",{ascending:!1});if(e)throw e;return(r||[]).map(lt)},async getUserByIdnum(r){const{data:e,error:s}=await q.from("users").select("*").eq("idnum",r).single();if(s){if(s.code==="PGRST116")return null;throw s}return lt(e)},async getUserByEmail(r){const{data:e,error:s}=await q.from("users").select("*").eq("email",r).single();if(s){if(s.code==="PGRST116")return null;throw s}return lt(e)},async getUserByUsername(r){const{data:e,error:s}=await q.from("users").select("*").eq("userName",r).single();if(s){if(s.code==="PGRST116")return null;throw s}return lt(e)},async createUser(r){const{data:e,error:s}=await q.from("users").insert([r]).select().single();if(s)throw s;return lt(e)},async updateUser(r,e){const{data:s,error:i}=await q.from("users").update(e).eq("idnum",r).select().single();if(i)throw i;return lt(s)},async deleteUser(r){const{error:e}=await q.from("users").delete().eq("idnum",r);if(e)throw e},async getAllInvestments(){const{data:r,error:e}=await q.from("investments").select("*").order("created_at",{ascending:!1});if(e)throw e;return(r||[]).map(Xt)},async getInvestmentsByUser(r){const{data:e,error:s}=await q.from("investments").select("*").eq("idnum",r).order("created_at",{ascending:!1});if(s)throw s;return(e||[]).map(Xt)},async createInvestment(r){const e=Mr(r),{data:s,error:i}=await q.from("investments").insert([e]).select().single();if(i)throw i;return Xt(s)},async updateInvestment(r,e){const{data:s,error:i}=await q.from("investments").update(e).eq("id",r).select().single();if(i)throw i;return Xt(s)},async deleteInvestment(r){const{error:e}=await q.from("investments").delete().eq("id",r);if(e)throw e},async getAllWithdrawals(){const{data:r,error:e}=await q.from("withdrawals").select("*").order("created_at",{ascending:!1});if(e)throw e;return r||[]},async getWithdrawalsByUser(r){const{data:e,error:s}=await q.from("withdrawals").select("*").eq("idnum",r).order("created_at",{ascending:!1});if(s)throw s;return e||[]},async createWithdrawal(r){const{data:e,error:s}=await q.from("withdrawals").insert([r]).select().single();if(s)throw s;return e},async updateWithdrawal(r,e){const{data:s,error:i}=await q.from("withdrawals").update(e).eq("id",r).select().single();if(i)throw i;return s},async getAllKycRequests(){const{data:r,error:e}=await q.from("kyc_verifications").select("*").order("submittedAt",{ascending:!1});if(e)throw e;return r||[]},async getKycByUser(r){const{data:e,error:s}=await q.from("kyc_verifications").select("*").eq("idnum",r).order("submittedAt",{ascending:!1});if(s)throw s;return e||[]},async updateKycStatus(r,e,s){const i={status:e,reviewedAt:new Date().toISOString()};s&&(i.rejectionReason=s);const{data:a,error:n}=await q.from("kyc_verifications").update(i).eq("id",r).select().single();if(n)throw n;return a},async createKyc(r){const{data:e,error:s}=await q.from("kyc_verifications").insert([r]).select().single();if(s)throw s;return e},async getNotificationsByUser(r){const{data:e,error:s}=await q.from("notifications").select("*").eq("idnum",r).order("created_at",{ascending:!1});if(s)throw s;return e||[]},async createNotification(r){const{data:e,error:s}=await q.from("notifications").insert([r]).select().single();if(s)throw s;return e},async markNotificationAsRead(r){const{data:e,error:s}=await q.from("notifications").update({read:!0}).eq("id",r).select().single();if(s)throw s;return e},async markAllNotificationsAsRead(r){const{error:e}=await q.from("notifications").update({read:!0}).eq("idnum",r).eq("read",!1);if(e)throw e},async getAllLoans(){const{data:r,error:e}=await q.from("loans").select("*").order("created_at",{ascending:!1});if(e)throw e;return r||[]},async getLoansByUser(r){const{data:e,error:s}=await q.from("loans").select("*").eq("idnum",r).order("created_at",{ascending:!1});if(s)throw s;return e||[]},async createLoan(r){const{data:e,error:s}=await q.from("loans").insert(r).select().single();if(s)throw s;return e},async updateLoan(r,e){const{data:s,error:i}=await q.from("loans").update(e).eq("id",r).select().single();if(i)throw i;return s}},Pt={subscribeToUsers(r){return q.channel("userlogs-changes").on("postgres_changes",{event:"*",schema:"public",table:"userlogs"},r).subscribe()},subscribeToInvestments(r){return q.channel("investments-changes").on("postgres_changes",{event:"*",schema:"public",table:"investments"},r).subscribe()},subscribeToWithdrawals(r){return q.channel("withdrawals-changes").on("postgres_changes",{event:"*",schema:"public",table:"withdrawals"},r).subscribe()},subscribeToLoans(r){return q.channel("loans-changes").on("postgres_changes",{event:"*",schema:"public",table:"loans"},r).subscribe()},subscribeToKyc(r){return q.channel("kyc-changes").on("postgres_changes",{event:"*",schema:"public",table:"kyc"},r).subscribe()}},Er={user:{canViewUsers:!1,canManageUsers:!1,canViewTransactions:!1,canManageTransactions:!1,canViewInvestments:!0,canManageInvestments:!0,canViewKYC:!0,canManageKYC:!1,canViewWithdrawals:!0,canManageWithdrawals:!0,canViewLoans:!0,canManageLoans:!0,canViewSystemSettings:!1,canManageSystemSettings:!1},admin:{canViewUsers:!0,canManageUsers:!0,canViewTransactions:!0,canManageTransactions:!0,canViewInvestments:!0,canManageInvestments:!0,canViewKYC:!0,canManageKYC:!0,canViewWithdrawals:!0,canManageWithdrawals:!0,canViewLoans:!0,canManageLoans:!0,canViewSystemSettings:!1,canManageSystemSettings:!1},superadmin:{canViewUsers:!0,canManageUsers:!0,canViewTransactions:!0,canManageTransactions:!0,canViewInvestments:!0,canManageInvestments:!0,canViewKYC:!0,canManageKYC:!0,canViewWithdrawals:!0,canManageWithdrawals:!0,canViewLoans:!0,canManageLoans:!0,canViewSystemSettings:!0,canManageSystemSettings:!0}},Ni={user:1,admin:2,superadmin:3};function Wr(r,e){return Er[r][e]}function Ma(r,e){return Ni[r]>=Ni[e]}function us(r){switch(r){case"superadmin":case"admin":return"/admin";case"user":default:return"/dashboard"}}const Aa=j.createContext(void 0);function Lr({children:r}){const[e,s]=j.useState(null),[i,a]=j.useState(!0);j.useEffect(()=>{(async()=>{try{const f=localStorage.getItem("activeUser");if(f){const g=JSON.parse(f);s(g);try{const x=await Ps.getUserBySession();if(x){const b={email:x.email||"",name:x.name,userName:x.userName,role:x.role||"user",idnum:x.idnum,balance:x.balance,bonus:x.bonus,referralCount:x.referralCount,avatar:x.avatar};s(b),localStorage.setItem("activeUser",JSON.stringify(b))}}catch(x){console.log("Could not refresh user data:",x)}}}catch(f){console.error("Error loading user session:",f)}finally{a(!1)}})()},[]);const n=async(m,f)=>{try{a(!0);const g=await Ps.login(m,f);if(!g)return{success:!1};const x=g.role||"user",b=us(x),v={email:g.email||"",name:g.name,userName:g.userName,role:x,idnum:g.idnum,balance:g.balance,bonus:g.bonus,referralCount:g.referralCount,avatar:g.avatar};return s(v),localStorage.setItem("user",JSON.stringify(v)),localStorage.setItem("activeUser",JSON.stringify(v)),{success:!0,redirectTo:b}}catch(g){return console.error("Login error:",g),{success:!1}}finally{a(!1)}},o=async(m,f,g={})=>{try{a(!0);const x=await Ps.signup(m,f,g),b={email:x.email||"",name:x.name,userName:x.userName,role:x.role||"user",idnum:x.idnum,balance:x.balance,bonus:x.bonus,referralCount:x.referralCount,avatar:x.avatar};return s(b),localStorage.setItem("user",JSON.stringify(b)),localStorage.setItem("activeUser",JSON.stringify(b)),!0}catch(x){throw console.error("Signup error:",x),x}finally{a(!1)}},l=()=>{s(null),localStorage.removeItem("user"),localStorage.removeItem("activeUser"),localStorage.removeItem("adminData"),sessionStorage.clear()},c=m=>e?Wr(e.role,m):!1,d=m=>e?Ma(e.role,m):!1;return t.jsx(Aa.Provider,{value:{user:e,login:n,signup:o,logout:l,isAuthenticated:!!e,loading:i,hasPermission:c,hasRole:d},children:r})}function wt(){const r=j.useContext(Aa);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}const Dr=[{label:"Markets",href:"/markets"},{label:"Packages",href:"/packages"},{label:"FAQ",href:"/faq"},{label:"About",href:"/about"},{label:"Contact",href:"/contact"}];function ct(){var x,b,v;const[r,e]=j.useState(!1),[s,i]=j.useState(!1),{user:a,isAuthenticated:n,logout:o}=wt(),l=jt(),c=j.useRef(null),d=()=>e(!1),m=()=>{d()},f=()=>{o(),d(),i(!1),l("/")},g=()=>{d(),i(!1),(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="superadmin"?l("/admin"):l("/dashboard")};return j.useEffect(()=>{const y=k=>{c.current&&!c.current.contains(k.target)&&i(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),t.jsxs("header",{className:"navbar",children:[t.jsxs("div",{className:"navbar__inner",children:[t.jsx(re,{to:"/",className:"navbar__brand",onClick:d,children:t.jsx("img",{src:"/images/ciphervaultlogobig.svg",alt:"CipherVault Investments",height:36})}),t.jsxs("nav",{className:`navbar__links ${r?"navbar__links--open":""}`,children:[Dr.map(({label:y,href:k})=>k.startsWith("/#")?t.jsx("a",{href:k,onClick:m,children:y},y):t.jsx(or,{to:k,onClick:m,children:y},y)),t.jsx("div",{className:"navbar__cta-group",children:n&&a?t.jsxs("div",{ref:c,className:"navbar__user-dropdown",style:{position:"relative"},children:[t.jsxs("button",{onClick:()=>i(!s),className:"navbar__user-btn",style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 14px",background:s?"linear-gradient(135deg, rgba(240, 185, 11, 0.2), rgba(240, 185, 11, 0.1))":"rgba(240, 185, 11, 0.08)",borderRadius:"12px",border:"1px solid rgba(240, 185, 11, 0.25)",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:y=>{y.currentTarget.style.background="linear-gradient(135deg, rgba(240, 185, 11, 0.2), rgba(240, 185, 11, 0.1))",y.currentTarget.style.borderColor="rgba(240, 185, 11, 0.4)",y.currentTarget.style.transform="translateY(-1px)",y.currentTarget.style.boxShadow="0 4px 15px rgba(240, 185, 11, 0.15)"},onMouseLeave:y=>{s||(y.currentTarget.style.background="rgba(240, 185, 11, 0.08)",y.currentTarget.style.borderColor="rgba(240, 185, 11, 0.25)"),y.currentTarget.style.transform="translateY(0)",y.currentTarget.style.boxShadow="none"},children:[a.avatar?t.jsx("img",{src:`/images/${a.avatar}.svg`,alt:"Avatar",style:{width:"34px",height:"34px",borderRadius:"50%",objectFit:"cover",border:"2px solid rgba(240, 185, 11, 0.3)",boxShadow:"0 2px 8px rgba(240, 185, 11, 0.3)"},onError:y=>{const k=y.target;k.style.display="none";const _=k.nextElementSibling;_&&(_.style.display="flex")}}):null,t.jsx("div",{style:{width:"34px",height:"34px",borderRadius:"50%",background:"linear-gradient(135deg, #f0b90b, #d4a00a)",display:a.avatar?"none":"flex",alignItems:"center",justifyContent:"center",color:"#000",fontWeight:"700",fontSize:"14px",boxShadow:"0 2px 8px rgba(240, 185, 11, 0.3)"},children:((x=a.name)==null?void 0:x.charAt(0).toUpperCase())||((b=a.email)==null?void 0:b.charAt(0).toUpperCase())||"U"}),t.jsxs("div",{style:{textAlign:"left"},children:[t.jsx("div",{style:{color:"#fff",fontSize:"14px",fontWeight:"600",maxWidth:"100px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"1.2"},children:a.name||((v=a.email)==null?void 0:v.split("@")[0])}),t.jsx("div",{style:{color:"#f0b90b",fontSize:"11px",fontWeight:"500",textTransform:"capitalize"},children:a.role==="superadmin"?"Super Admin":a.role})]}),t.jsx("i",{className:s?"icofont-rounded-up":"icofont-rounded-down",style:{color:"#f0b90b",fontSize:"14px",transition:"transform 0.3s ease"}})]}),s&&t.jsxs("div",{className:"navbar__user-menu",style:{position:"absolute",top:"calc(100% + 8px)",right:"0",minWidth:"200px",background:"linear-gradient(145deg, #1e2329, #181a20)",border:"1px solid rgba(240, 185, 11, 0.2)",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)",overflow:"hidden",zIndex:1e3,animation:"fadeInDown 0.2s ease"},children:[t.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid rgba(255,255,255,0.1)",background:"rgba(240, 185, 11, 0.05)"},children:[t.jsx("div",{style:{color:"#fff",fontSize:"14px",fontWeight:"600",marginBottom:"4px"},children:a.name||"User"}),t.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis"},children:a.email})]}),t.jsxs("div",{style:{padding:"8px"},children:[t.jsxs("button",{onClick:g,className:"navbar__menu-item",style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 14px",background:"transparent",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",color:"#fff",fontSize:"14px",textAlign:"left"},onMouseEnter:y=>{y.currentTarget.style.background="rgba(240, 185, 11, 0.1)",y.currentTarget.style.color="#f0b90b"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.color="#fff"},children:[t.jsx("i",{className:"icofont-dashboard",style:{fontSize:"18px",width:"20px"}}),t.jsx("span",{children:"Dashboard"})]}),t.jsxs("button",{onClick:f,className:"navbar__menu-item",style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 14px",background:"transparent",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",color:"#fff",fontSize:"14px",textAlign:"left"},onMouseEnter:y=>{y.currentTarget.style.background="rgba(248, 113, 113, 0.1)",y.currentTarget.style.color="#f87171"},onMouseLeave:y=>{y.currentTarget.style.background="transparent",y.currentTarget.style.color="#fff"},children:[t.jsx("i",{className:"icofont-logout",style:{fontSize:"18px",width:"20px"}}),t.jsx("span",{children:"Log Out"})]})]})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(re,{className:"btn btn--primary",to:"/signup",onClick:m,children:"Sign Up"}),t.jsx(re,{className:"btn btn--ghost",to:"/login",onClick:m,children:"Log In"})]})})]}),t.jsxs("button",{className:"navbar__toggle","aria-label":r?"Close navigation menu":"Open navigation menu","aria-expanded":r,"aria-controls":"navbar-menu",onClick:()=>e(y=>!y),children:[t.jsx("span",{}),t.jsx("span",{}),t.jsx("span",{})]})]}),r&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-[999] md:hidden",onClick:d,role:"presentation","aria-hidden":"true"}),t.jsx("style",{children:`
        @keyframes fadeInDown {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})}const Fr=[{title:"About Us",links:[{label:"About",href:"/about"},{label:"Careers",href:"/careers.html"},{label:"Community",href:"/community.html"},{label:"Contact",href:"/contact.html"},{label:"Terms",href:"/terms.html"},{label:"Notices",href:"/notices.html"}]},{title:"Services",links:[{label:"Downloads",href:"/downloads.html"},{label:"Invest Now",href:"/bank-deposit.html"},{label:"OTC Trading",href:"/otc.html"},{label:"Historical Market Data",href:"/trading-data.html"},{label:"Referral",href:"/referral.html"}]},{title:"Learn",links:[{label:"Learn & Earn",href:"/learn.html"},{label:"Browse Crypto Prices",href:"/markets-overview.html"},{label:"Buy Tradable Altcoins",href:"/buy-altcoins.html"},{label:"Research",href:"/research.html"},{label:"Trust Wallet",href:"/trust-wallet.html"}]}],$r=[{name:"Discord",icon:"/images/discord.svg",href:"#"},{name:"Telegram",icon:"/images/telegram.svg",href:"#"},{name:"Twitter",icon:"/images/twitter.svg",href:"#"},{name:"Facebook",icon:"/images/facebook.svg",href:"#"},{name:"Instagram",icon:"/images/instagram.svg",href:"#"},{name:"YouTube",icon:"/images/youtube.svg",href:"#"}];function dt(){return t.jsxs("footer",{className:"site-footer",children:[t.jsxs("div",{className:"site-footer__grid",children:[Fr.map(r=>t.jsxs("div",{children:[t.jsx("p",{className:"site-footer__heading",children:r.title}),t.jsx("ul",{children:r.links.map(e=>t.jsx("li",{children:t.jsx("a",{href:e.href,children:e.label})},e.label))})]},r.title)),t.jsxs("div",{className:"site-footer__newsletter",children:[t.jsx("p",{className:"site-footer__heading",children:"Subscribe to our newsletter"}),t.jsx("p",{children:"Monthly digest of what's new and exciting from us."}),t.jsxs("form",{className:"site-footer__form",action:"/subscribe.html",children:[t.jsx("input",{type:"email",name:"email",placeholder:"Email address","aria-label":"Email",required:!0}),t.jsx("button",{className:"btn btn--primary",type:"submit",children:"Subscribe"})]}),t.jsx("ul",{className:"social-links",children:$r.map(r=>t.jsx("li",{children:t.jsx("a",{href:r.href,"aria-label":r.name,children:t.jsx("img",{src:r.icon,alt:r.name,height:40})})},r.name))})]})]}),t.jsx("div",{className:"site-footer__meta",children:t.jsxs("p",{children:["Â© ",new Date().getFullYear()," CipherVault Investments. All rights reserved."]})})]})}async function Or(){var e,s,i,a,n,o,l,c,d,m,f,g,x,b,v,y,k,_,L,B,H,p,U,V,de,fe,oe,N,we,G,J,Q,Z,P,Y,I,ke,le,Le,D;const r={BTC:0,ETH:0,USDT:1,BNB:0,XRP:0,SOL:0,DOGE:0,ADA:0};try{console.log("ðŸ”„ Fetching prices from Binance API...");const pe=await fetch("https://api.binance.com/api/v3/ticker/price",{method:"GET",headers:{Accept:"application/json","User-Agent":"CipherVault-App/1.0"}});if(pe.ok){const se=await pe.json(),xe={...r};if(se.forEach(he=>{const T=parseFloat(he.price);!isNaN(T)&&T>0&&(he.symbol==="BTCUSDT"&&(xe.BTC=T),he.symbol==="ETHUSDT"&&(xe.ETH=T),he.symbol==="BNBUSDT"&&(xe.BNB=T),he.symbol==="XRPUSDT"&&(xe.XRP=T),he.symbol==="SOLUSDT"&&(xe.SOL=T),he.symbol==="DOGEUSDT"&&(xe.DOGE=T),he.symbol==="ADAUSDT"&&(xe.ADA=T))}),Object.values(xe).filter(he=>he>0).length>=3)return console.log("âœ… Binance prices fetched successfully:",xe),xe}}catch(pe){console.warn("âš ï¸ Binance API failed:",pe)}try{console.log("ðŸ”„ Fetching prices from CoinGecko API...");const pe=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,tether,binancecoin,ripple,solana,dogecoin,cardano&vs_currencies=usd&include_24hr_change=true",{method:"GET",headers:{Accept:"application/json","User-Agent":"CipherVault-App/1.0"}});if(pe.ok){const se=await pe.json();return console.log("âœ… CoinGecko prices fetched:",se),{BTC:((e=se.bitcoin)==null?void 0:e.usd)||0,ETH:((s=se.ethereum)==null?void 0:s.usd)||0,USDT:((i=se.tether)==null?void 0:i.usd)||1,BNB:((a=se.binancecoin)==null?void 0:a.usd)||0,XRP:((n=se.ripple)==null?void 0:n.usd)||0,SOL:((o=se.solana)==null?void 0:o.usd)||0,DOGE:((l=se.dogecoin)==null?void 0:l.usd)||0,ADA:((c=se.cardano)==null?void 0:c.usd)||0}}}catch(pe){console.warn("âš ï¸ CoinGecko API failed:",pe)}try{console.log("ðŸ”„ Attempting CoinMarketCap API...");const pe=await fetch("https://pro-api.coinmarketcap.com/v1/cryptocurrency/quotes/latest?symbol=BTC,ETH,USDT,BNB,XRP,SOL,DOGE,ADA",{method:"GET",headers:{Accept:"application/json","X-CMC_PRO_API_KEY":"","User-Agent":"CipherVault-App/1.0"}});if(pe.ok){const se=await pe.json();return console.log("âœ… CoinMarketCap prices fetched"),{BTC:((g=(f=(m=(d=se.data)==null?void 0:d.BTC)==null?void 0:m.quote)==null?void 0:f.USD)==null?void 0:g.price)||0,ETH:((y=(v=(b=(x=se.data)==null?void 0:x.ETH)==null?void 0:b.quote)==null?void 0:v.USD)==null?void 0:y.price)||0,USDT:((B=(L=(_=(k=se.data)==null?void 0:k.USDT)==null?void 0:_.quote)==null?void 0:L.USD)==null?void 0:B.price)||1,BNB:((V=(U=(p=(H=se.data)==null?void 0:H.BNB)==null?void 0:p.quote)==null?void 0:U.USD)==null?void 0:V.price)||0,XRP:((N=(oe=(fe=(de=se.data)==null?void 0:de.XRP)==null?void 0:fe.quote)==null?void 0:oe.USD)==null?void 0:N.price)||0,SOL:((Q=(J=(G=(we=se.data)==null?void 0:we.SOL)==null?void 0:G.quote)==null?void 0:J.USD)==null?void 0:Q.price)||0,DOGE:((I=(Y=(P=(Z=se.data)==null?void 0:Z.DOGE)==null?void 0:P.quote)==null?void 0:Y.USD)==null?void 0:I.price)||0,ADA:((D=(Le=(le=(ke=se.data)==null?void 0:ke.ADA)==null?void 0:le.quote)==null?void 0:Le.USD)==null?void 0:D.price)||0}}}catch(pe){console.warn("âš ï¸ CoinMarketCap API failed or not configured:",pe)}return console.error("âŒ All crypto price APIs failed - returning default values"),r}async function ni(){const r={BTCUSDT:{id:"bitcoin",name:"Bitcoin",image:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png"},ETHUSDT:{id:"ethereum",name:"Ethereum",image:"https://assets.coingecko.com/coins/images/279/large/ethereum.png"},USDTUSDC:{id:"tether",name:"Tether",image:"https://assets.coingecko.com/coins/images/325/large/Tether.png"},BNBUSDT:{id:"binancecoin",name:"BNB",image:"https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png"},XRPUSDT:{id:"ripple",name:"XRP",image:"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png"},SOLUSDT:{id:"solana",name:"Solana",image:"https://assets.coingecko.com/coins/images/4128/large/solana.png"},DOGEUSDT:{id:"dogecoin",name:"Dogecoin",image:"https://assets.coingecko.com/coins/images/5/large/dogecoin.png"},ADAUSDT:{id:"cardano",name:"Cardano",image:"https://assets.coingecko.com/coins/images/975/large/cardano.png"},DOTUSDT:{id:"polkadot",name:"Polkadot",image:"https://assets.coingecko.com/coins/images/12171/large/polkadot.png"},AVAXUSDT:{id:"avalanche",name:"Avalanche",image:"https://assets.coingecko.com/coins/images/12559/large/Avalanche_Circle_RedWhite_Trans.png"},LINKUSDT:{id:"chainlink",name:"Chainlink",image:"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png"},MATICUSDT:{id:"polygon",name:"Polygon",image:"https://assets.coingecko.com/coins/images/4713/large/matic-token-icon.png"},LTCUSDT:{id:"litecoin",name:"Litecoin",image:"https://assets.coingecko.com/coins/images/2/large/litecoin.png"},UNIUSDT:{id:"uniswap",name:"Uniswap",image:"https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png"},TRXUSDT:{id:"tron",name:"TRON",image:"https://assets.coingecko.com/coins/images/1094/large/tron-logo.png"},ATOMUSDT:{id:"cosmos",name:"Cosmos",image:"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png"}};try{console.log("ðŸ”„ Fetching detailed prices from Binance API...");const e=await fetch("https://api.binance.com/api/v3/ticker/24hr",{method:"GET",headers:{Accept:"application/json","User-Agent":"CipherVault-App/1.0"}});if(e.ok){const s=await e.json(),i=[];if(s.forEach(a=>{const n=r[a.symbol];n&&parseFloat(a.lastPrice)>0&&i.push({id:n.id,symbol:a.symbol.replace("USDT","").replace("USDC","").toLowerCase(),name:n.name,current_price:parseFloat(a.lastPrice),price_change_24h:parseFloat(a.priceChange),price_change_percentage_24h:parseFloat(a.priceChangePercent),market_cap:parseFloat(a.quoteVolume)*100,total_volume:parseFloat(a.quoteVolume),high_24h:parseFloat(a.highPrice),low_24h:parseFloat(a.lowPrice),image:n.image,last_updated:new Date().toISOString(),circulating_supply:parseFloat(a.count)||void 0})}),i.sort((a,n)=>n.total_volume-a.total_volume),i.length>0)return console.log(`âœ… Binance detailed prices fetched: ${i.length} cryptocurrencies`),i}}catch(e){console.warn("âš ï¸ Binance detailed API failed:",e)}try{console.log("ðŸ”„ Fetching detailed prices from CoinGecko API...");const e=await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=bitcoin,ethereum,tether,binancecoin,ripple,solana,dogecoin,cardano,polkadot,avalanche-2,chainlink,matic-network,litecoin,uniswap,tron,cosmos&order=market_cap_desc&per_page=20&page=1&sparkline=false&price_change_percentage=24h",{method:"GET",headers:{Accept:"application/json","User-Agent":"CipherVault-App/1.0"}});if(e.ok){const i=(await e.json()).map(a=>({id:a.id,symbol:a.symbol,name:a.name,current_price:a.current_price,price_change_24h:a.price_change_24h,price_change_percentage_24h:a.price_change_percentage_24h,market_cap:a.market_cap,total_volume:a.total_volume,high_24h:a.high_24h,low_24h:a.low_24h,image:a.image,last_updated:a.last_updated,circulating_supply:a.circulating_supply,max_supply:a.max_supply,ath:a.ath,ath_change_percentage:a.ath_change_percentage,atl:a.atl,atl_change_percentage:a.atl_change_percentage}));return console.log(`âœ… CoinGecko detailed prices fetched: ${i.length} cryptocurrencies`),i}}catch(e){console.warn("âš ï¸ CoinGecko detailed API failed:",e)}return console.error("âŒ All detailed price APIs failed"),[]}function Ee(r){return r==null||isNaN(r)?"$0.00":r>=1e3?r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):r>=1?r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:4}):r.toLocaleString(void 0,{minimumFractionDigits:4,maximumFractionDigits:6})}function Ks(r){return r==null||isNaN(r)?"$0":r>=1e12?`$${(r/1e12).toFixed(2)}T`:r>=1e9?`$${(r/1e9).toFixed(2)}B`:r>=1e6?`$${(r/1e6).toFixed(2)}M`:`$${r.toLocaleString()}`}const Vr=[{id:"plan-3",name:"3-Day Plan",subtitle:"Quick start daily income",durationDays:3,durationLabel:"3 days",dailyRate:.03,featured:!1,minCapital:100,maxCapital:999,referralBonus:.1},{id:"plan-7",name:"7-Day Plan",subtitle:"Weekly growth",durationDays:7,durationLabel:"7 days",dailyRate:.03,featured:!1,minCapital:599,maxCapital:3999,referralBonus:.1},{id:"plan-12",name:"12-Day Plan",subtitle:"Mid-term returns",durationDays:12,durationLabel:"12 days",dailyRate:.035,featured:!1,minCapital:1e3,maxCapital:5e3,referralBonus:.1},{id:"plan-15",name:"15-Day Plan",subtitle:"Extended growth",durationDays:15,durationLabel:"15 days",dailyRate:.04,featured:!0,minCapital:3e3,maxCapital:9e3,referralBonus:.1},{id:"plan-90",name:"3-Month Plan",subtitle:"Quarterly compounding",durationDays:90,durationLabel:"3 months (90 days)",dailyRate:.04,featured:!1,minCapital:5e3,maxCapital:15e3,referralBonus:.1},{id:"plan-180",name:"6-Month Plan",subtitle:"Half-year growth",durationDays:180,durationLabel:"6 months (180 days)",dailyRate:.05,featured:!1,minCapital:15999,maxCapital:null,referralBonus:.1}],Yr=Vr.map(r=>{const e=r.minCapital??100,s=Number.isFinite(r.maxCapital)?r.maxCapital:null,i=typeof r.referralBonus=="number"?r.referralBonus:0,a=parseFloat((e*r.dailyRate*r.durationDays).toFixed(2)),n=parseFloat((r.dailyRate*r.durationDays*100).toFixed(1));return{...r,minCapital:e,maxCapital:s,referralBonus:i,sampleEarning:a,totalReturnPercent:n}}),gt=Yr;gt.reduce((r,e)=>(r[e.name]=e,r),{});const tt=r=>{if(typeof r!="number")return"0%";const e=r*100;return`${Number.isInteger(e)?e.toFixed(0):e.toFixed(1)}%`},Ur=[{label:"24h Volume",value:"$38B",detail:"Traded across spot, futures, and structured products."},{label:"Listed Assets",value:"350+",detail:"Curated coins and tokenized yield strategies."},{label:"Clients",value:"120M",detail:"Global wallets, treasuries, and family offices."},{label:"Fees",value:"0.10%",detail:"Institutional pricing with maker rebates."}],qr=gt.map(r=>({name:r.name,badge:r.featured?"Featured":"Standard",description:r.subtitle,bullets:[`Duration: ${r.durationLabel}`,`Daily ROI: ${tt(r.dailyRate)}`,`Min Investment: $${r.minCapital.toLocaleString()}`,`Max Investment: ${r.maxCapital?`$${r.maxCapital.toLocaleString()}`:"Unlimited"}`,`Total Return: ${r.totalReturnPercent}%`]})),Hr=[{title:"24/7 Desk",copy:"Message advisors anytime for rebalancing help or treasury workflows.",cta:{label:"Chat Now",href:"/contact.html"}},{title:"FAQ Library",copy:"Browse custody, staking, and on/off-ramp guidance in our docs.",cta:{label:"View FAQ",href:"/#faq"}},{title:"Blog + Research",copy:"Weekly on-chain insights and macro notes straight from the quant floor.",cta:{label:"Read Insights",href:"/blog.html"}}];function Gr(){console.log("ðŸ  Home component rendering...");const[r,e]=j.useState([]),[s,i]=j.useState(!1);return j.useEffect(()=>{async function a(){try{console.log("ðŸ  Loading real-time crypto prices...");const o=await ni();o&&o.length>0?(e(o),i(!1),console.log(`âœ… Loaded ${o.length} cryptocurrencies with real-time data`)):(console.warn("âš ï¸ No crypto prices received, will retry..."),i(!0),e([]))}catch(o){console.error("âŒ Failed to load crypto prices:",o),i(!0),e([])}}a();const n=setInterval(a,3e4);return()=>clearInterval(n)},[]),t.jsxs("div",{className:"home",children:[r.length>0&&t.jsxs("div",{style:{background:"linear-gradient(90deg, #181a20 0%, #1e2329 100%)",borderBottom:"1px solid rgba(240, 185, 11, 0.1)",padding:"10px 0",overflow:"hidden"},children:[t.jsx("div",{style:{display:"flex",animation:"scroll 30s linear infinite",gap:"40px",paddingLeft:"100%"},children:[...r,...r].map((a,n)=>t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",whiteSpace:"nowrap",flexShrink:0},children:[t.jsx("img",{src:a.image,alt:a.symbol||"crypto",style:{width:"20px",height:"20px",borderRadius:"50%"},onError:o=>{o.target.style.display="none"}}),t.jsx("span",{style:{color:"#fff",fontWeight:"600",fontSize:"13px"},children:a.symbol?a.symbol.toUpperCase():"N/A"}),t.jsxs("span",{style:{color:"#fff",fontSize:"13px"},children:["$",a.current_price?Ee(a.current_price):"N/A"]}),t.jsx("span",{style:{color:a.price_change_percentage_24h&&!isNaN(a.price_change_percentage_24h)?a.price_change_percentage_24h>=0?"#4ade80":"#f87171":"#64748b",fontSize:"12px",fontWeight:"500"},children:a.price_change_percentage_24h&&!isNaN(a.price_change_percentage_24h)?`${a.price_change_percentage_24h>=0?"+":""}${a.price_change_percentage_24h.toFixed(2)}%`:"N/A"})]},n))}),t.jsx("style",{children:`
            @keyframes scroll {
              0% { transform: translateX(0); }
              100% { transform: translateX(-50%); }
            }
          `})]}),t.jsxs("section",{className:"hero",id:"hero",children:[t.jsxs("div",{className:"hero__content",children:[t.jsx("p",{className:"eyebrow",children:"Institutional crypto platform"}),t.jsx("h1",{children:"Disciplined exposure for serious digital-asset teams."}),t.jsx("p",{className:"lead",children:"CipherVault blends custody, quantitative research, and transparent reporting so every allocation is as resilient as a vault."}),t.jsxs("div",{className:"hero__actions",children:[t.jsx(re,{className:"btn btn--primary btn--lg",to:"/signup",children:"Open an account"}),t.jsx(re,{className:"btn btn--ghost btn--lg",to:"/packages",children:"Explore packages"})]}),t.jsxs("div",{className:"hero__pill",children:[t.jsx("img",{src:"/images/gift.svg",alt:"gift",height:32}),t.jsxs("div",{children:[t.jsx("p",{className:"hero__pill-title",children:"Trade Bitcoin with zero fees"}),t.jsx("p",{className:"hero__pill-copy",children:"Available for new clients through Q1."})]})]})]}),t.jsx("div",{className:"hero__visual",children:t.jsx("img",{src:"/images/img1.png",alt:"CipherVault dashboard"})})]}),t.jsx("section",{className:"stats","aria-label":"Key metrics",children:Ur.map(a=>t.jsxs("article",{children:[t.jsx("p",{className:"stats__value",children:a.value}),t.jsx("p",{className:"stats__label",children:a.label}),t.jsx("p",{className:"stats__detail",children:a.detail})]},a.label))}),t.jsxs("section",{className:"panel",id:"about",children:[t.jsxs("div",{children:[t.jsx("p",{className:"eyebrow",children:"About CipherVault"}),t.jsx("h2",{children:"Security-first infrastructure with data-driven allocations."}),t.jsx("p",{children:"Every wallet is verified, every counterparty audited, and every rebalance recorded. Family offices, treasuries, and protocol foundations trust us to scale exposure without compromising governance."}),t.jsxs("ul",{className:"checklist",children:[t.jsx("li",{children:"Custody partners meeting SOC 2 + insurance standards"}),t.jsx("li",{children:"Quant research spanning DeFi, RWA, and AI infrastructure"}),t.jsx("li",{children:"Dedicated advisors with institutional reporting cadences"})]}),t.jsxs("div",{className:"panel__cta",children:[t.jsx(re,{className:"btn btn--primary",to:"/signup",children:"Talk to an advisor"}),t.jsx("a",{className:"btn btn--ghost",href:"/about.html",children:"More about us"})]})]}),t.jsxs("div",{className:"mission-card",children:[t.jsx("p",{className:"eyebrow",children:"Mission"}),t.jsx("h3",{children:"Unlock long-term financial growth with disciplined crypto exposure."}),t.jsx("p",{children:"We pair rigorous risk analytics with insurance-backed custody so teams can deploy capital confidently â€” even during volatility."}),t.jsxs("div",{className:"mission-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"mission-grid__title",children:"Security First"}),t.jsx("p",{children:"Every asset is vetted for compliance, custody, and counterparty risk."})]}),t.jsxs("div",{children:[t.jsx("p",{className:"mission-grid__title",children:"Data Driven"}),t.jsx("p",{children:"Quant models, on-chain telemetry, and AI insights guide allocation."})]}),t.jsxs("div",{children:[t.jsx("p",{className:"mission-grid__title",children:"Transparent"}),t.jsx("p",{children:"Real-time dashboards, blockchain proofs, and monthly letters."})]})]})]})]}),t.jsxs("section",{className:"packages",id:"packages",children:[t.jsxs("div",{className:"section-heading",children:[t.jsx("p",{className:"eyebrow",children:"Investment Plans"}),t.jsx("h2",{children:"Six investment plans for every growth strategy."}),t.jsx("p",{children:"Choose the plan that matches your investment goals and timeline. Each plan offers daily ROI with automatic compounding."})]}),t.jsx("div",{className:"package-grid",children:qr.map(a=>t.jsxs("article",{className:"package-card",children:[t.jsx("span",{className:"package-card__badge",children:a.badge}),t.jsx("h3",{children:a.name}),t.jsx("p",{children:a.description}),t.jsx("ul",{children:a.bullets.map(n=>t.jsx("li",{children:n},n))}),t.jsxs("div",{className:"package-card__actions",children:[t.jsx(re,{className:"btn btn--primary",to:"/dashboard",children:"Go to dashboard"}),t.jsx(re,{className:"btn btn--ghost",to:"/signup",children:"Allocate now"})]})]},a.name))})]}),t.jsx("section",{className:"investment-guide",id:"investment-guide",children:t.jsxs("div",{className:"guide-content",children:[t.jsx("h2",{className:"guide-title",children:"Build your investment portfolio"}),t.jsx("p",{className:"guide-lead",children:"Start your first investment with these easy steps."}),t.jsxs("div",{className:"guide-steps",children:[t.jsxs("div",{className:"guide-step",children:[t.jsx("img",{src:"/images/card.svg",alt:"Verify identity",width:"48",height:"48"}),t.jsxs("div",{className:"guide-step-content",children:[t.jsx("h3",{children:"Verify your identity"}),t.jsx("p",{children:"Complete the identity verification process to secure your account and transactions."})]})]}),t.jsxs("div",{className:"guide-step",children:[t.jsx("img",{src:"/images/person.svg",alt:"Fund account",width:"48",height:"48"}),t.jsxs("div",{className:"guide-step-content",children:[t.jsx("h3",{children:"Fund your account"}),t.jsx("p",{children:"Add funds to your crypto account to start investing. You can add funds with a variety of payment methods."})]})]}),t.jsxs("div",{className:"guide-step",children:[t.jsx("img",{src:"/images/money.svg",alt:"Start investing",width:"48",height:"48"}),t.jsxs("div",{className:"guide-step-content",children:[t.jsx("h3",{children:"Start investing"}),t.jsx("p",{children:"You're good to go! Buy/sell crypto, set up recurring buys for your investments, and discover what CipherVault Investments has to offer."})]})]})]}),t.jsx("div",{className:"guide-cta",children:t.jsx(re,{className:"btn btn--primary btn--lg",to:"/signup",children:"Get Started"})})]})}),t.jsxs("section",{className:"help",id:"faq",children:[t.jsxs("div",{className:"section-heading",children:[t.jsx("p",{className:"eyebrow",children:"Need help?"}),t.jsx("h2",{children:"Advisors, docs, and research on standby."})]}),t.jsx("div",{className:"help-grid",children:Hr.map(a=>t.jsxs("article",{children:[t.jsx("h3",{children:a.title}),t.jsx("p",{children:a.copy}),t.jsxs("a",{className:"btn btn--link",href:a.cta.href,children:[a.cta.label," â†’"]})]},a.title))})]}),t.jsx("section",{className:"mobile-apps",children:t.jsxs("div",{className:"mobile-apps__content",children:[t.jsx("div",{className:"mobile-apps__image",children:t.jsx("img",{src:"/images/img6.png",alt:"Mobile Trading"})}),t.jsxs("div",{className:"mobile-apps__info",children:[t.jsx("h2",{children:"Invest on the go. Anywhere, anytime."}),t.jsx("p",{className:"lead",children:"Stay in touch with our app and desktop client."}),t.jsxs("div",{className:"platform-grid",children:[t.jsxs("div",{className:"platform-item",children:[t.jsx("i",{className:"platform-icon",children:"ðŸ“±"}),t.jsx("p",{children:"App Store"})]}),t.jsxs("div",{className:"platform-item",children:[t.jsx("i",{className:"platform-icon",children:"ðŸ¤–"}),t.jsx("p",{children:"Android APK"})]}),t.jsxs("div",{className:"platform-item",children:[t.jsx("i",{className:"platform-icon",children:"â–¶ï¸"}),t.jsx("p",{children:"Google Play"})]}),t.jsxs("div",{className:"platform-item",children:[t.jsx("i",{className:"platform-icon",children:"ðŸŽ"}),t.jsx("p",{children:"MacOS"})]}),t.jsxs("div",{className:"platform-item",children:[t.jsx("i",{className:"platform-icon",children:"ðŸªŸ"}),t.jsx("p",{children:"Windows"})]}),t.jsxs("div",{className:"platform-item",children:[t.jsx("i",{className:"platform-icon",children:"ðŸ§"}),t.jsx("p",{children:"Linux"})]})]})]})]})}),t.jsxs("section",{className:"help",id:"faq",children:[t.jsx("div",{className:"section-heading",children:t.jsx("h2",{children:"Need Help?"})}),t.jsxs("div",{className:"help-grid",children:[t.jsxs("article",{children:[t.jsx("div",{className:"help-icon",children:t.jsx("img",{src:"/images/customer care.svg",alt:"Customer Care",height:40})}),t.jsx("h3",{children:"24/7 Chat Support"}),t.jsx("p",{children:"Get 24/7 chat support with our friendly customer service agents at your service."}),t.jsx("a",{className:"btn btn--primary",href:"/chat.html",children:"Chat Now"})]}),t.jsxs("article",{children:[t.jsx("div",{className:"help-icon",children:t.jsx("img",{src:"/images/faq.svg",alt:"FAQ",height:40})}),t.jsx("h3",{children:"FAQ"}),t.jsx("p",{children:"View FAQs for detailed instructions on specific features."}),t.jsx("a",{className:"btn btn--primary",href:"/faq.html",children:"Learn More"})]}),t.jsxs("article",{children:[t.jsx("div",{className:"help-icon",children:t.jsx("img",{src:"/images/blog.svg",alt:"Blog",height:40})}),t.jsx("h3",{children:"Blogs"}),t.jsx("p",{children:"Stay up to date with the latest stories and commentary."}),t.jsx("a",{className:"btn btn--primary",href:"/blog.html",children:"Learn More"})]})]})]}),t.jsx("section",{className:"contact",id:"contact",children:t.jsxs("div",{className:"contact__card",children:[t.jsx("p",{className:"eyebrow",children:"Talk with us"}),t.jsx("h2",{children:"Get paired with an advisor in under 24 hours."}),t.jsx("p",{children:"Share your mandate, risk tolerances, and reporting needs. We will follow up with a tailored allocation plan and onboarding checklist."}),t.jsxs("div",{className:"contact__actions",children:[t.jsx(re,{className:"btn btn--primary btn--lg",to:"/signup",children:"Book intro call"}),t.jsx("a",{className:"btn btn--ghost btn--lg",href:"/contact.html",children:"Contact form"})]})]})})]})}const Jr=gt.map(r=>({name:r.name,description:r.subtitle,bullets:[`Duration: ${r.durationLabel}`,`Daily ROI: ${tt(r.dailyRate)}`,`Min Investment: $${r.minCapital.toLocaleString()}`,`Max Investment: ${r.maxCapital?`$${r.maxCapital.toLocaleString()}`:"Unlimited"}`,`Total Return: ${r.totalReturnPercent}%`],footer:`Sample earnings: $${r.sampleEarning.toLocaleString()} on minimum investment`}));function Kr(){return t.jsxs("div",{className:"about",children:[t.jsxs("div",{className:"about__hero",children:[t.jsx("h1",{children:"About CipherVault Investments"}),t.jsx("p",{className:"lead",children:"CipherVault Investments is a digital asset investment firm focused on secure, data-driven crypto portfolios. We deliver risk-managed funds, tokenized asset strategies, and institutional-grade advisory services for institutions and high-net-worth investors."})]}),t.jsxs("div",{className:"about__content",children:[t.jsxs("div",{className:"about__main",children:[t.jsxs("section",{children:[t.jsx("h3",{children:"Our Mission"}),t.jsx("p",{children:"To unlock long-term financial growth through secure and intelligent exposure to blockchain markets."})]}),t.jsxs("section",{children:[t.jsx("h3",{children:"What We Do"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Advanced risk analytics and portfolio construction."}),t.jsx("li",{children:"Security-first custody and verification protocols for all holdings."}),t.jsx("li",{children:"AI-enhanced trading models and quantitative research."}),t.jsx("li",{children:"Tokenization and structured crypto fund management."}),t.jsx("li",{children:"Regulatory-aware advisory for institutional clients."})]})]}),t.jsxs("section",{children:[t.jsx("h3",{children:"Core Values"}),t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Security First:"})," Every investment is vetted for security, compliance, and legitimacy."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Data-Driven Strategy:"})," Decisions are backed by analytics, not hype."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Transparency:"})," Full investor reporting and traceable blockchain audits."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Long-Term Growth:"})," Focus on sustainable returns instead of gambling on short-term spikes."]})]})]}),t.jsxs("section",{children:[t.jsx("h3",{children:"Our Story"}),t.jsx("p",{children:"CipherVault was founded by financial analysts, cybersecurity engineers, and blockchain strategists who saw the same problem in crypto: investing driven by hype, and fragile security that harmed investors' trust. The firm's origin traces to 2020 after a founder lost assets in a platform breach. That experience led to a mission: build an investment model where every asset is secured and verified â€” like storing value in a vault â€” and invest with intelligence and discipline."})]}),t.jsxs("section",{children:[t.jsx("h3",{children:"Why Choose CipherVault?"}),t.jsx("p",{children:"We combine institutional controls, encryption-aware custody practices, and AI-powered research to deliver investment solutions that prioritize capital preservation and measurable, long-term growth."})]}),t.jsxs("div",{className:"about__cta",children:[t.jsx(re,{className:"btn btn--primary",to:"/signup",children:"Get Started â€” Sign Up"}),t.jsx("a",{className:"btn btn--ghost",href:"/contact.html",children:"Contact Sales"})]})]}),t.jsxs("aside",{className:"about__sidebar",children:[t.jsxs("div",{className:"info-card",children:[t.jsx("h5",{children:"Institutional Services"}),t.jsx("p",{children:"Fund structuring, custody audits, portfolio management, and compliance support for institutions and family offices."})]}),t.jsxs("div",{className:"info-card",children:[t.jsx("h5",{children:"Risk & Security"}),t.jsx("p",{children:"We run continuous security assessments and blockchain verification prior to allocation."})]})]})]}),t.jsxs("section",{className:"about__packages",children:[t.jsx("h3",{children:"Investment Packages"}),t.jsx("p",{className:"lead",children:"Choose from six curated portfolios that balance risk and opportunity across DeFi, blue-chip assets, and tokenized real-world exposure. Each package is monitored daily by CipherVault's research desk."}),t.jsx("div",{className:"package-grid",children:Jr.map(r=>t.jsxs("article",{className:"package-card",children:[t.jsx("h5",{children:r.name}),t.jsx("p",{children:r.description}),t.jsx("ul",{children:r.bullets.map(e=>t.jsx("li",{children:e},e))}),t.jsx("footer",{className:"package-card__footer",children:r.footer})]},r.name))}),t.jsxs("div",{className:"about__packages-cta",children:[t.jsx(re,{className:"btn btn--primary",to:"/packages",children:"View Full Package Details"}),t.jsx("a",{className:"btn btn--ghost",href:"/contact.html",children:"Talk to an Advisor"})]})]})]})}function Qr(){const[r,e]=j.useState({name:"",email:"",subject:"",message:""}),[s,i]=j.useState(""),a=async o=>{o.preventDefault(),i("Sending..."),setTimeout(()=>{i("Message sent successfully! We'll get back to you within 2 business days."),e({name:"",email:"",subject:"",message:""})},1e3)},n=o=>{e({...r,[o.target.name]:o.target.value})};return t.jsx("div",{className:"contact-page",children:t.jsxs("div",{className:"contact-page__container",children:[t.jsx("h1",{children:"Contact Us"}),t.jsx("p",{className:"lead",children:"Have a question or need support? Fill the form below and we'll get back to you within 2 business days."}),t.jsxs("form",{onSubmit:a,className:"contact-form",children:[t.jsxs("div",{className:"form__group",children:[t.jsx("label",{htmlFor:"name",children:"Full name"}),t.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:n,placeholder:"Your full name"})]}),t.jsxs("div",{className:"form__group",children:[t.jsx("label",{htmlFor:"email",children:"Email address"}),t.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:n,placeholder:"you@example.com",required:!0})]}),t.jsxs("div",{className:"form__group",children:[t.jsx("label",{htmlFor:"subject",children:"Subject"}),t.jsx("input",{type:"text",id:"subject",name:"subject",value:r.subject,onChange:n,placeholder:"What is this about?"})]}),t.jsxs("div",{className:"form__group",children:[t.jsx("label",{htmlFor:"message",children:"Message"}),t.jsx("textarea",{id:"message",name:"message",value:r.message,onChange:n,rows:6,placeholder:"Write your message here..."})]}),t.jsxs("div",{className:"contact-form__footer",children:[t.jsx("button",{type:"submit",className:"btn btn--primary",children:"Send Message"}),t.jsxs("small",{className:"contact-form__email",children:["Or email us directly at ",t.jsx("a",{href:"mailto:support@ciphervault.example",children:"support@ciphervault.example"})]})]}),s&&t.jsx("p",{className:"form__status",children:s})]})]})})}const Zr=gt.map(r=>({name:r.name,badge:r.featured?"Featured":"Standard",badgeColor:r.featured?"success":"primary",description:r.subtitle,minimum:`$${r.minCapital.toLocaleString()}`,target:`${tt(r.dailyRate)} daily ROI`,lockup:r.durationLabel,details:`Total return: ${r.totalReturnPercent}% | Sample earnings: $${r.sampleEarning.toLocaleString()}`,footer:`Investment range: $${r.minCapital.toLocaleString()} - ${r.maxCapital?`$${r.maxCapital.toLocaleString()}`:"Unlimited"}`}));function Xr(){return t.jsxs("div",{className:"packages-page",children:[t.jsxs("header",{className:"packages-page__header",children:[t.jsx("p",{className:"eyebrow",children:"CipherVault portfolios"}),t.jsx("h1",{children:"Six investment plans for every growth strategy"}),t.jsx("p",{className:"lead",children:"Pick the mix that matches your risk tolerance and liquidity needs. Each package is rebalanced by our research desk, comes with audited custody partners, and includes real-time reporting."}),t.jsxs("div",{className:"packages-page__actions",children:[t.jsx(re,{className:"btn btn--primary btn--lg",to:"/signup",children:"Open an Account"}),t.jsx("a",{className:"btn btn--ghost btn--lg",href:"/contact.html",children:"Schedule a Call"})]})]}),t.jsxs("div",{className:"packages-page__access",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Already investing with CipherVault?"}),t.jsx("p",{children:"Launch your dashboard to allocate instantly, or spin up a new account in minutes."})]}),t.jsxs("div",{className:"packages-page__access-actions",children:[t.jsx("a",{className:"btn btn--primary",href:"/dashboard.html",children:"Go to Dashboard"}),t.jsx(re,{className:"btn btn--ghost",to:"/signup",children:"Create an Account"})]})]}),t.jsx("div",{className:"package-grid",children:Zr.map(r=>t.jsxs("article",{className:"package-card",children:[t.jsxs("div",{className:"package-card__body",children:[t.jsx("span",{className:`package-badge package-badge--${r.badgeColor}`,children:r.badge}),t.jsx("h3",{children:r.name}),t.jsx("p",{children:r.description}),t.jsxs("ul",{className:"package-card__specs",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Minimum:"})," ",r.minimum]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Target:"})," ",r.target]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Lockup:"})," ",r.lockup]}),t.jsx("li",{children:r.details})]}),t.jsxs("div",{className:"package-card__actions",children:[t.jsx("a",{className:"btn btn--primary",href:"/dashboard.html",children:"Go to Dashboard"}),t.jsx(re,{className:"btn btn--ghost",to:"/signup",children:"Create an Account"})]})]}),t.jsx("footer",{className:"package-card__footer",children:r.footer})]},r.name))})]})}const en=[{category:"Getting Started",questions:[{q:"How do I create an account?",a:'Click "Sign Up" in the navigation, complete identity verification (KYC), and fund your account via bank transfer, wire, or supported stablecoins.'},{q:"What is the minimum investment?",a:"Our Genesis Starter package begins at $5,000. Higher-tier packages range from $15,000 to $250,000 depending on mandate complexity."},{q:"How long does account approval take?",a:"Most accounts are approved within 24â€“48 hours after submitting KYC documents. Institutional clients may require additional compliance review."}]},{category:"Security & Custody",questions:[{q:"Where are my assets stored?",a:"All assets are held with institutional-grade custody partners meeting SOC 2 Type II and insurance standards. We never commingle client funds."},{q:"Are funds insured?",a:"Yes. Our custody partners maintain crime insurance and specie policies covering digital assets up to $500M aggregate."},{q:"Can I withdraw anytime?",a:"Each package has a specified lockup period. After lockup, most accounts offer quarterly redemption windows with 30-day notice."}]},{category:"Fees & Pricing",questions:[{q:"What fees does CipherVault charge?",a:"Management fees range from 0.75%â€“2% AUM annually depending on package. Performance fees apply to certain growth strategies (typically 15â€“20% above high-water mark)."},{q:"Are there deposit or withdrawal fees?",a:"No deposit fees. Wire transfers and on-chain withdrawals incur network costs only (typically $10â€“$50)."},{q:"How are returns calculated?",a:"Returns are net of management fees and reflect actual NAV performance. Projections are illustrative; past performance does not guarantee future results."}]},{category:"Investment Strategy",questions:[{q:"Who manages the portfolios?",a:"Our research desk includes quant analysts, former DeFi protocol leads, and risk managers from traditional finance. All strategies undergo monthly audits."},{q:"Can I customize my allocation?",a:"Institutional Prime clients ($250K+) can request custom mandates. Standard packages follow preset allocations to maintain risk parity."},{q:"How often are portfolios rebalanced?",a:"Conservative packages rebalance monthly. Growth strategies may rebalance weekly based on momentum signals and volatility thresholds."}]},{category:"Support & Reporting",questions:[{q:"How do I contact support?",a:"Use our 24/7 live chat, email support@ciphervault.example, or schedule a call with your dedicated advisor (available for accounts $50K+)."},{q:"What reporting do I receive?",a:"Real-time dashboard access, monthly performance letters, quarterly custody attestations, and annual tax documents (1099, K-1 for US clients)."},{q:"Is there a mobile app?",a:"Yes. Download from the App Store, Google Play, or APK for Android. Desktop clients available for Windows, macOS, and Linux."}]}];function tn(){const[r,e]=j.useState(null),s=(i,a)=>{const n=`${i}-${a}`;e(r===n?null:n)};return t.jsxs("div",{className:"faq-page",children:[t.jsxs("div",{className:"faq-page__header",children:[t.jsx("h1",{children:"Frequently Asked Questions"}),t.jsx("p",{className:"lead",children:"Find answers to common questions about CipherVault accounts, custody, fees, and investment strategies."})]}),t.jsx("div",{className:"faq-page__content",children:en.map((i,a)=>t.jsxs("section",{className:"faq-category",children:[t.jsx("h2",{children:i.category}),t.jsx("div",{className:"faq-list",children:i.questions.map((n,o)=>{const l=`${a}-${o}`,c=r===l;return t.jsxs("div",{className:`faq-item ${c?"faq-item--open":""}`,children:[t.jsxs("button",{className:"faq-item__question",onClick:()=>s(a,o),"aria-expanded":c,children:[t.jsx("span",{children:n.q}),t.jsx("span",{className:"faq-item__icon",children:c?"âˆ’":"+"})]}),c&&t.jsx("div",{className:"faq-item__answer",children:t.jsx("p",{children:n.a})})]},o)})})]},i.category))}),t.jsxs("div",{className:"faq-page__footer",children:[t.jsx("h3",{children:"Still have questions?"}),t.jsx("p",{children:"Our team is available 24/7 to help you get started."}),t.jsxs("div",{className:"faq-page__footer-actions",children:[t.jsx("a",{className:"btn btn--primary",href:"/contact.html",children:"Contact Support"}),t.jsx("a",{className:"btn btn--ghost",href:"/chat.html",children:"Live Chat"})]})]})]})}function sn(){const[r,e]=j.useState({email:"",password:""}),[s,i]=j.useState({state:"idle"}),[a,n]=j.useState(!1),{login:o}=wt();jt();const l=async c=>{c.preventDefault(),i({state:"loading",message:"Authenticatingâ€¦"});try{const d=await o(r.email,r.password);if(!d.success){i({state:"error",message:"Invalid email/username or password"});return}const m=localStorage.getItem("activeUser"),f=m?JSON.parse(m):null,g={id:Date.now(),title:"Login Successful",message:`You logged in from ${navigator.userAgent.includes("Windows")?"Windows":navigator.userAgent.includes("Mac")?"Mac":"Unknown"} device on ${new Date().toLocaleString()}`,type:"success",read:!1,created_at:new Date().toISOString()},x=JSON.parse(localStorage.getItem("userNotifications")||"[]");x.unshift(g),localStorage.setItem("userNotifications",JSON.stringify(x.slice(0,50)));const b=d.redirectTo||"/dashboard",v=(f==null?void 0:f.role)||"user";i({state:"success",message:`Welcome ${v}! Redirecting to dashboardâ€¦`}),setTimeout(()=>{window.location.href=b},1e3)}catch(d){i({state:"error",message:(d==null?void 0:d.message)||"Login failed. Please try again."})}};return t.jsx("div",{className:"binance-auth",children:t.jsxs("div",{className:"binance-auth__container",children:[t.jsx(re,{to:"/",className:"binance-auth__logo",children:t.jsx("img",{src:"/images/ciphervaultlogobig.svg",alt:"CipherVault"})}),t.jsxs("div",{className:"binance-auth__header",children:[t.jsx("h1",{children:"Log In"}),t.jsx("p",{children:"Welcome back to CipherVault Investments"})]}),t.jsxs("div",{style:{padding:"12px",background:"rgba(240, 185, 11, 0.1)",border:"1px solid rgba(240, 185, 11, 0.3)",borderRadius:"8px",marginBottom:"20px",fontSize:"14px"},children:[t.jsx("strong",{children:"ðŸ”‘ Demo Credentials:"}),t.jsx("br",{}),t.jsx("strong",{children:"ðŸ‘¤ User:"})," ",t.jsx("code",{style:{background:"rgba(0,0,0,0.2)",padding:"2px 6px",borderRadius:"4px"},children:"demo@example.com"})," / ",t.jsx("code",{style:{background:"rgba(0,0,0,0.2)",padding:"2px 6px",borderRadius:"4px"},children:"demo123"}),t.jsx("br",{}),t.jsx("strong",{children:"ðŸ‘¨â€ðŸ’¼ Admin:"})," ",t.jsx("code",{style:{background:"rgba(0,0,0,0.2)",padding:"2px 6px",borderRadius:"4px"},children:"admin@ciphervault.com"})," / ",t.jsx("code",{style:{background:"rgba(0,0,0,0.2)",padding:"2px 6px",borderRadius:"4px"},children:"admin123"})]}),t.jsxs("form",{className:"binance-form",onSubmit:l,children:[t.jsxs("div",{className:"binance-form__group",children:[t.jsx("label",{htmlFor:"email",children:"Email or Username"}),t.jsx("input",{id:"email",type:"text",placeholder:"Enter your email or username",value:r.email,onChange:c=>e(d=>({...d,email:c.target.value})),required:!0})]}),t.jsxs("div",{className:"binance-form__group",children:[t.jsx("label",{htmlFor:"password",children:"Password"}),t.jsxs("div",{className:"binance-form__password",children:[t.jsx("input",{id:"password",type:a?"text":"password",placeholder:"Enter your password",value:r.password,onChange:c=>e(d=>({...d,password:c.target.value})),required:!0}),t.jsx("button",{type:"button",className:"binance-form__toggle",onClick:()=>n(!a),"aria-label":a?"Hide password":"Show password",children:a?"ðŸ‘ï¸":"ðŸ‘ï¸â€ðŸ—¨ï¸"})]})]}),s.state!=="idle"&&t.jsx("div",{className:`binance-form__status binance-form__status--${s.state}`,children:s.message}),t.jsx("button",{className:"binance-form__submit",type:"submit",disabled:s.state==="loading",children:s.state==="loading"?"Logging in...":"Log In"})]}),t.jsxs("div",{className:"binance-auth__footer",children:["New to CipherVault? ",t.jsx(re,{to:"/signup",children:"Sign Up"})]}),t.jsx("div",{style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid rgba(255,255,255,0.1)",textAlign:"center"},children:t.jsxs(re,{to:"/admin/login",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"#a78bfa",fontSize:"0.875rem",textDecoration:"none",transition:"color 0.2s"},children:[t.jsx("span",{children:"ðŸ›¡ï¸"}),"Administrator Login"]})})]})})}function an(){const[r,e]=j.useState({email:"",fullName:"",userName:"",phoneNumber:"",password:"",confirmPassword:"",referralCode:"",isHuman:!1,terms:!1}),[s,i]=j.useState({state:"idle"}),[a,n]=j.useState(!1),{signup:o}=wt(),l=jt(),c=async()=>{const m={id:"USR"+Math.floor(Math.random()*1e6).toString().padStart(6,"0"),idnum:"ADMIN001",name:"Admin User",userName:"admin",email:"admin@ciphervault.com",password:"$2a$10$N9qo8uLOickgx2ZMRZoMyeIjZAgcfl7p92ldGxad68LJZdL17lhWy",balance:1e4,bonus:500,referralCount:0,referralCode:"ADMINREF001",phoneNumber:"+1234567890",country:"United States",city:"New York",address:"123 Admin Street",role:"admin",avatar:"ðŸ‘¨â€ðŸ’¼",createdAt:new Date().toISOString()};localStorage.setItem("activeUser",JSON.stringify(m)),sessionStorage.setItem("activeUser",JSON.stringify(m));try{const f=JSON.parse(localStorage.getItem("localUsers")||"[]");f.find(x=>x.email===m.email)||(f.push(m),localStorage.setItem("localUsers",JSON.stringify(f)))}catch(f){console.log("Could not save to local users:",f)}i({state:"success",message:"âœ… Admin account created! Redirecting to admin panel..."}),setTimeout(()=>l("/admin"),1500)},d=async m=>{if(m.preventDefault(),r.password!==r.confirmPassword){i({state:"error",message:"Passwords do not match"});return}if(!r.isHuman){i({state:"error",message:"Please verify that you are human"});return}if(!r.terms){i({state:"error",message:"Please accept the Terms of Service"});return}if(r.password.length<8){i({state:"error",message:"Password must be at least 8 characters"});return}i({state:"loading",message:"Creating your accountâ€¦"});try{await o(r.email,r.password,{name:r.fullName,userName:r.userName,phoneNumber:r.phoneNumber,referredByCode:r.referralCode||void 0}),i({state:"success",message:"Account created! Redirecting to dashboardâ€¦"}),setTimeout(()=>l("/dashboard"),1500)}catch(f){console.error("Account creation error:",f);let g="Account creation failed. Please try again.";f!=null&&f.message&&(f.message.includes("Email already registered")?g="This email is already registered. Please login instead.":f.message.includes("duplicate key")?g="This email or username is already taken.":f.message.includes("fetch")?g="Unable to connect to the server. Please check your internet connection.":g=f.message),i({state:"error",message:g})}};return t.jsx("div",{className:"binance-auth",children:t.jsxs("div",{className:"binance-auth__container",children:[t.jsx(re,{to:"/",className:"binance-auth__logo",children:t.jsx("img",{src:"/images/ciphervaultlogobig.svg",alt:"CipherVault"})}),t.jsxs("div",{className:"binance-auth__header",children:[t.jsx("h1",{children:"Sign Up"}),t.jsx("p",{children:"Create your account to start investing"})]}),t.jsxs("form",{className:"binance-form",onSubmit:d,children:[t.jsxs("div",{className:"binance-form__group",children:[t.jsx("label",{htmlFor:"fullName",children:"Full Name"}),t.jsx("input",{id:"fullName",type:"text",placeholder:"Enter your full name",value:r.fullName,onChange:m=>e(f=>({...f,fullName:m.target.value})),required:!0})]}),t.jsxs("div",{className:"binance-form__group",children:[t.jsx("label",{htmlFor:"userName",children:"Username"}),t.jsx("input",{id:"userName",type:"text",placeholder:"Choose a username",value:r.userName,onChange:m=>e(f=>({...f,userName:m.target.value})),required:!0})]}),t.jsxs("div",{className:"binance-form__group",children:[t.jsx("label",{htmlFor:"email",children:"Email"}),t.jsx("input",{id:"email",type:"email",placeholder:"Enter your email",value:r.email,onChange:m=>e(f=>({...f,email:m.target.value})),required:!0})]}),t.jsxs("div",{className:"binance-form__group",children:[t.jsx("label",{htmlFor:"phoneNumber",children:"Phone Number"}),t.jsx("input",{id:"phoneNumber",type:"tel",placeholder:"Enter your phone number",value:r.phoneNumber,onChange:m=>e(f=>({...f,phoneNumber:m.target.value})),required:!0})]}),t.jsxs("div",{className:"binance-form__group",children:[t.jsx("label",{htmlFor:"password",children:"Password"}),t.jsxs("div",{className:"binance-form__password",children:[t.jsx("input",{id:"password",type:a?"text":"password",placeholder:"Enter your password",value:r.password,onChange:m=>e(f=>({...f,password:m.target.value})),minLength:8,required:!0}),t.jsx("button",{type:"button",className:"binance-form__toggle",onClick:()=>n(!a),"aria-label":a?"Hide password":"Show password",children:a?"ðŸ‘ï¸":"ðŸ‘ï¸â€ðŸ—¨ï¸"})]})]}),t.jsxs("div",{className:"binance-form__group",children:[t.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),t.jsx("input",{id:"confirmPassword",type:a?"text":"password",placeholder:"Confirm your password",value:r.confirmPassword,onChange:m=>e(f=>({...f,confirmPassword:m.target.value})),minLength:8,required:!0})]}),t.jsxs("div",{className:"binance-form__group",children:[t.jsx("label",{htmlFor:"referralCode",children:"Referral Code (Optional)"}),t.jsx("input",{id:"referralCode",type:"text",placeholder:"Enter referral code if you have one",value:r.referralCode,onChange:m=>e(f=>({...f,referralCode:m.target.value}))})]}),t.jsxs("div",{className:"binance-form__checkbox",children:[t.jsx("input",{id:"isHuman",type:"checkbox",checked:r.isHuman,onChange:m=>e(f=>({...f,isHuman:m.target.checked})),required:!0}),t.jsx("label",{htmlFor:"isHuman",children:"âœ“ I am not a robot"})]}),t.jsxs("div",{className:"binance-form__checkbox",children:[t.jsx("input",{id:"terms",type:"checkbox",checked:r.terms,onChange:m=>e(f=>({...f,terms:m.target.checked})),required:!0}),t.jsxs("label",{htmlFor:"terms",children:["I agree to CipherVault's ",t.jsx("a",{href:"/terms.html",target:"_blank",children:"Terms of Service"})," and ",t.jsx("a",{href:"/privacy.html",target:"_blank",children:"Privacy Policy"})]})]}),s.state!=="idle"&&t.jsx("div",{className:`binance-form__status binance-form__status--${s.state}`,children:s.message}),t.jsx("button",{className:"binance-form__submit",type:"submit",disabled:s.state==="loading",children:s.state==="loading"?"Creating Account...":"Sign Up"}),t.jsx("button",{type:"button",onClick:c,style:{width:"100%",padding:"12px",marginTop:"12px",background:"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)",border:"none",borderRadius:"8px",color:"white",fontSize:"14px",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:m=>{m.currentTarget.style.transform="translateY(-2px)",m.currentTarget.style.boxShadow="0 4px 12px rgba(139,92,246,0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateY(0)",m.currentTarget.style.boxShadow="none"},children:"ðŸš€ Create Quick Admin Account (Test)"})]}),t.jsxs("div",{className:"binance-auth__footer",children:["Already have an account? ",t.jsx(re,{to:"/login",children:"Log In"})]})]})})}function rn(){const[r,e]=j.useState(null);return j.useEffect(()=>{async function s(){const a=(await $.getAllUsers()).find(n=>n.role==="admin"||n.role==="superadmin");e(a)}s()},[]),r?t.jsxs("div",{style:{padding:"12px",background:"rgba(240,185,11,0.07)",border:"1px solid rgba(240,185,11,0.15)",borderRadius:"8px",marginBottom:"20px",fontSize:"14px"},children:[t.jsx("strong",{children:"ðŸ”‘ Admin Credentials:"}),t.jsx("br",{}),t.jsx("strong",{children:"ðŸ‘¨â€ðŸ’¼ Admin:"})," ",t.jsx("code",{style:{background:"rgba(0,0,0,0.2)",padding:"2px 6px",borderRadius:"4px"},children:r.email})," / ",t.jsx("code",{style:{background:"rgba(0,0,0,0.2)",padding:"2px 6px",borderRadius:"4px"},children:r.password?r.password:"******"})]}):t.jsx("div",{style:{padding:"12px",background:"rgba(240,185,11,0.07)",border:"1px solid rgba(240,185,11,0.15)",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",color:"#F0B90B"},children:t.jsx("strong",{children:"Loading admin credentialsâ€¦"})})}function nn(){const[r,e]=j.useState({email:"",password:""}),[s,i]=j.useState({state:"idle"}),[a,n]=j.useState(!1),[o,l]=j.useState(!1),[c,d]=j.useState(""),[m,f]=j.useState(0),[g,x]=j.useState(null),[b,v]=j.useState(0),{login:y,user:k,isAuthenticated:_}=wt(),L=jt();j.useEffect(()=>{_&&k&&(k.role==="admin"||k.role==="superadmin")&&L("/admin")},[_,k,L]),j.useEffect(()=>{const H=localStorage.getItem("adminLoginAttempts"),p=localStorage.getItem("adminLoginLockout");if(H&&f(parseInt(H,10)),p){const U=parseInt(p,10);U>Date.now()?x(U):(localStorage.removeItem("adminLoginLockout"),localStorage.removeItem("adminLoginAttempts"))}},[]),j.useEffect(()=>{if(g){const H=setInterval(()=>{const p=g-Date.now();p<=0?(x(null),f(0),localStorage.removeItem("adminLoginLockout"),localStorage.removeItem("adminLoginAttempts"),v(0)):v(Math.ceil(p/1e3))},1e3);return()=>clearInterval(H)}},[g]);const B=async H=>{H.preventDefault(),i({state:"loading",message:"Authenticatingâ€¦"});try{const p=await y(r.email,r.password);if(!p.success){i({state:"error",message:"Invalid email/username or password"});return}const U=localStorage.getItem("activeUser"),V=U?JSON.parse(U):null,de=p.redirectTo||"/admin",fe=(V==null?void 0:V.role)||"admin";i({state:"success",message:`Welcome ${fe}! Redirecting to dashboardâ€¦`}),setTimeout(()=>L(de),1e3)}catch(p){i({state:"error",message:(p==null?void 0:p.message)||"Login failed. Please try again."})}};return t.jsx("div",{className:"binance-auth",children:t.jsxs("div",{className:"binance-auth__container",children:[t.jsx(re,{to:"/",className:"binance-auth__logo",children:t.jsx("img",{src:"/images/ciphervaultlogobig.svg",alt:"CipherVault"})}),t.jsxs("div",{className:"binance-auth__header",children:[t.jsx("h1",{children:"Admin Login"}),t.jsx("p",{children:"Administrator access to CipherVault Investments"})]}),t.jsx(rn,{}),t.jsxs("form",{className:"binance-form",onSubmit:B,children:[t.jsxs("div",{className:"binance-form__group",children:[t.jsx("label",{htmlFor:"email",children:"Email or Username"}),t.jsx("input",{id:"email",type:"text",placeholder:"Enter your email or username",value:r.email,onChange:H=>e(p=>({...p,email:H.target.value})),required:!0})]}),t.jsxs("div",{className:"binance-form__group",children:[t.jsx("label",{htmlFor:"password",children:"Password"}),t.jsxs("div",{className:"binance-form__password",children:[t.jsx("input",{id:"password",type:a?"text":"password",placeholder:"Enter your password",value:r.password,onChange:H=>e(p=>({...p,password:H.target.value})),required:!0}),t.jsx("button",{type:"button",className:"binance-form__toggle",onClick:()=>n(!a),"aria-label":a?"Hide password":"Show password",children:a?"ðŸ‘ï¸":"ðŸ‘ï¸â€ðŸ—¨ï¸"})]})]}),s.state!=="idle"&&t.jsx("div",{className:`binance-form__status binance-form__status--${s.state}`,children:s.message}),t.jsx("button",{className:"binance-form__submit",type:"submit",disabled:s.state==="loading",children:s.state==="loading"?"Logging in...":"Log In"})]}),t.jsxs("div",{className:"binance-auth__footer",children:["Not an admin? ",t.jsx(re,{to:"/login",children:"User Login"})]})]})})}const Ts={serviceId:"service_ciphervault",templateId:"template_notification",publicKey:"YOUR_EMAILJS_PUBLIC_KEY"},on="/api/send-email";async function Ot(r){try{return console.log("ðŸ“§ Email notifications disabled. Would have sent:",r),!0}catch(e){return console.error("âŒ Failed to send email notification:",e),!1}}async function Qs(r,e,s,i,a){const o={approved:{subject:"âœ… Investment Approved - CipherVault",message:`Great news! Your investment of $${i.toLocaleString()} in the ${a} plan has been approved and is now active. Your earnings will start accumulating immediately.`,type:"success"},rejected:{subject:"âŒ Investment Update - CipherVault",message:`Your investment request of $${i.toLocaleString()} for the ${a} plan has been reviewed. Please contact support for more details.`,type:"error"},pending:{subject:"â³ Investment Received - CipherVault",message:`We've received your investment request of $${i.toLocaleString()} for the ${a} plan. Our team is reviewing it and will notify you once processed.`,type:"info"}}[s];return Ot({to_email:r,to_name:e,subject:o.subject,message:o.message,type:o.type})}async function Zs(r,e,s,i,a){const o={approved:{subject:"âœ… Withdrawal Approved - CipherVault",message:`Your withdrawal request of $${i.toLocaleString()} via ${a} has been approved and processed. Funds should arrive within 1-3 business days.`,type:"success"},rejected:{subject:"âŒ Withdrawal Update - CipherVault",message:`Your withdrawal request of $${i.toLocaleString()} could not be processed. Please contact support for assistance.`,type:"error"},pending:{subject:"â³ Withdrawal Request Received - CipherVault",message:`We've received your withdrawal request of $${i.toLocaleString()} via ${a}. Our team is processing it and will notify you once completed.`,type:"info"}}[s];return Ot({to_email:r,to_name:e,subject:o.subject,message:o.message,type:o.type})}async function Si(r,e,s){const a={approved:{subject:"âœ… KYC Verified - CipherVault",message:"Congratulations! Your identity verification has been completed successfully. You now have full access to all CipherVault features.",type:"success"},rejected:{subject:"âŒ KYC Verification Update - CipherVault",message:"Your KYC verification could not be completed. Please resubmit your documents or contact support for assistance.",type:"error"},pending:{subject:"â³ KYC Submitted - CipherVault",message:"We've received your KYC documents and are currently reviewing them. This typically takes 24-48 hours. We'll notify you once complete.",type:"info"}}[s];return Ot({to_email:r,to_name:e,subject:a.subject,message:a.message,type:a.type})}async function Xs(r,e,s,i,a){const o={approved:{subject:"âœ… Loan Approved - CipherVault",message:`Great news! Your loan request of $${i.toLocaleString()} for ${a} days has been approved. The funds will be credited to your account shortly.`,type:"success"},rejected:{subject:"âŒ Loan Application Update - CipherVault",message:`Your loan request of $${i.toLocaleString()} could not be approved at this time. Please contact support for more information.`,type:"error"},pending:{subject:"â³ Loan Application Received - CipherVault",message:`We've received your loan request of $${i.toLocaleString()} for ${a} days. Our team is reviewing your application and will notify you soon.`,type:"info"}}[s];return Ot({to_email:r,to_name:e,subject:o.subject,message:o.message,type:o.type})}async function ki(r,e,s,i){const a=s-i,n=a>0?"increased":"decreased";return Ot({to_email:r,to_name:e,subject:"ðŸ’° Balance Update - CipherVault",message:`Your account balance has been ${n} by $${Math.abs(a).toLocaleString()}. New balance: $${s.toLocaleString()}`,type:"info"})}function ln(r){const e={success:"âœ…",error:"âŒ",warning:"âš ï¸",info:"â„¹ï¸"},s={success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#3b82f6"};return`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>${r.subject}</title>
    </head>
    <body style="margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background-color: #0f172a;">
      <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #0f172a; padding: 40px 20px;">
        <tr>
          <td align="center">
            <table width="600" cellpadding="0" cellspacing="0" style="background-color: #1e293b; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);">
              <!-- Header -->
              <tr>
                <td style="background: linear-gradient(135deg, #f0b90b 0%, #d19e09 100%); padding: 30px; text-align: center;">
                  <h1 style="margin: 0; color: #0f172a; font-size: 28px; font-weight: bold;">
                    ${e[r.type]} CipherVault
                  </h1>
                </td>
              </tr>
              
              <!-- Content -->
              <tr>
                <td style="padding: 40px 30px;">
                  <h2 style="margin: 0 0 20px 0; color: #f8fafc; font-size: 20px;">
                    Hello ${r.to_name},
                  </h2>
                  
                  <div style="background-color: rgba(${r.type==="success"?"16, 185, 129":r.type==="error"?"239, 68, 68":r.type==="warning"?"245, 158, 11":"59, 130, 246"}, 0.1); border-left: 4px solid ${s[r.type]}; padding: 20px; border-radius: 6px; margin: 20px 0;">
                    <p style="margin: 0; color: #e2e8f0; font-size: 16px; line-height: 1.6;">
                      ${r.message}
                    </p>
                  </div>
                  
                  <p style="margin: 30px 0 0 0; color: #94a3b8; font-size: 14px; line-height: 1.6;">
                    If you have any questions or need assistance, please don't hesitate to contact our support team.
                  </p>
                  
                  <div style="text-align: center; margin-top: 30px;">
                    <a href="https://ciphervault.com" style="display: inline-block; background: linear-gradient(135deg, #f0b90b 0%, #d19e09 100%); color: #0f172a; text-decoration: none; padding: 12px 30px; border-radius: 6px; font-weight: 600; font-size: 14px;">
                      Visit Dashboard
                    </a>
                  </div>
                </td>
              </tr>
              
              <!-- Footer -->
              <tr>
                <td style="background-color: #0f172a; padding: 20px 30px; text-align: center;">
                  <p style="margin: 0 0 10px 0; color: #64748b; font-size: 12px;">
                    Â© ${new Date().getFullYear()} CipherVault. All rights reserved.
                  </p>
                  <p style="margin: 0; color: #475569; font-size: 11px;">
                    This is an automated notification. Please do not reply to this email.
                  </p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
    </body>
    </html>
  `}function Ea(){typeof window>"u"||window.emailjs}function Tt(){var Fe;const r=jt(),e=wa(),[s,i]=j.useState(!0),[a,n]=j.useState(null),[o,l]=j.useState([]),[c,d]=j.useState([]),[m,f]=j.useState([]),[g,x]=j.useState([]),[b,v]=j.useState([]),[y,k]=j.useState("overview"),[_,L]=j.useState(!1),[B,H]=j.useState(null),[p,U]=j.useState(!1),[V,de]=j.useState(""),[fe,oe]=j.useState(!1),[N,we]=j.useState(""),[G,J]=j.useState(""),[Q,Z]=j.useState(null),[P,Y]=j.useState("");j.useEffect(()=>{const u=e.pathname;u.includes("users-management")?k("users"):u.includes("transactions")?k("withdrawals"):u.includes("investment-plans")?k("investments"):u.includes("loans-management")?k("loans"):u.includes("system-settings")?k("settings"):k("overview")},[e.pathname]),j.useEffect(()=>{const u=setTimeout(()=>{s&&(console.warn("AdminDashboard loading timeout reached, forcing load completion"),i(!1))},15e3);return()=>clearTimeout(u)},[s]);const[I,ke]=j.useState({show:!1,type:"info",title:"",message:""}),[le,Le]=j.useState({show:!1,title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",onConfirm:()=>{},onCancel:()=>{}}),D=(u,w,z)=>{ke({show:!0,type:u,title:w,message:z})},pe=()=>{ke({show:!1,type:"info",title:"",message:""})},se=(u,w,z,M,ue="Confirm",Ce="Cancel")=>{Le({show:!0,title:u,message:w,confirmText:ue,cancelText:Ce,onConfirm:z,onCancel:M})},xe=()=>{Le({show:!1,title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",onConfirm:()=>{},onCancel:()=>{}})};j.useEffect(()=>{(async()=>{try{const w=localStorage.getItem("adminData")||sessionStorage.getItem("adminData"),z=localStorage.getItem("activeUser")||sessionStorage.getItem("activeUser");if(!w&&!z){r("/admin/login");return}const M=JSON.parse(w||z||"{}");if(M.role!=="admin"&&M.role!=="superadmin"){r("/admin/login");return}const ue=localStorage.getItem("adminSession");if(ue){const be=JSON.parse(ue);if(be.expiresAt&&be.expiresAt<Date.now()){localStorage.removeItem("adminSession"),localStorage.removeItem("activeUser"),r("/admin/login");return}}n(M),Ea();const Ce=(be,me=1e4)=>Promise.race([be,new Promise((He,nt)=>setTimeout(()=>nt(new Error("Request timeout")),me))]);try{const[be,me,He,nt,Gt]=await Promise.all([Ce($.getAllUsers()),Ce($.getAllInvestments()),Ce($.getAllWithdrawals()),Ce($.getAllKycRequests()),Ce($.getAllLoans())]),kt=me.map(ae=>{const W=be.find(ye=>ye.idnum===ae.idnum);return{...ae,userName:(W==null?void 0:W.userName)||(W==null?void 0:W.name)||"Unknown User",userEmail:(W==null?void 0:W.email)||""}}),Jt=He.map(ae=>{const W=be.find(ye=>ye.idnum===ae.idnum);return{...ae,userName:(W==null?void 0:W.userName)||(W==null?void 0:W.name)||"Unknown User",userEmail:(W==null?void 0:W.email)||""}}),Kt=nt.map(ae=>{const W=be.find(ye=>ye.idnum===ae.idnum);return{...ae,userName:(W==null?void 0:W.userName)||(W==null?void 0:W.name)||"Unknown User",userEmail:(W==null?void 0:W.email)||""}}),Ct=Gt.map(ae=>{const W=be.find(ye=>ye.idnum===ae.idnum);return{...ae,userName:(W==null?void 0:W.userName)||(W==null?void 0:W.name)||"Unknown User",userEmail:(W==null?void 0:W.email)||""}});l(be),d(kt),f(Jt),x(Kt),v(Ct),console.log("âœ… Admin data loaded:",{users:be.length,investments:kt.length,withdrawals:Jt.length,kyc:Kt.length,loans:Ct.length});const _t=Pt.subscribeToInvestments(async ae=>{console.log("ðŸ”„ Investment change detected:",ae);const W=await $.getAllInvestments(),ye=await $.getAllUsers(),$e=W.map(ze=>{const O=ye.find(Me=>Me.idnum===ze.idnum);return{...ze,userName:(O==null?void 0:O.userName)||(O==null?void 0:O.name)||"Unknown User",userEmail:(O==null?void 0:O.email)||""}});d($e)}),Qt=Pt.subscribeToWithdrawals(async ae=>{console.log("ðŸ”„ Withdrawal change detected:",ae);const W=await $.getAllWithdrawals(),ye=await $.getAllUsers(),$e=W.map(ze=>{const O=ye.find(Me=>Me.idnum===ze.idnum);return{...ze,userName:(O==null?void 0:O.userName)||(O==null?void 0:O.name)||"Unknown User",userEmail:(O==null?void 0:O.email)||""}});f($e)}),_s=Pt.subscribeToUsers(async ae=>{console.log("ðŸ”„ User change detected:",ae);const W=await $.getAllUsers();l(W)}),zs=Pt.subscribeToLoans(async ae=>{console.log("ðŸ”„ Loan change detected:",ae);const W=await $.getAllLoans(),ye=await $.getAllUsers(),$e=W.map(ze=>{const O=ye.find(Me=>Me.idnum===ze.idnum);return{...ze,userName:(O==null?void 0:O.userName)||(O==null?void 0:O.name)||"Unknown User",userEmail:(O==null?void 0:O.email)||""}});v($e)}),Zt=Pt.subscribeToKyc(async ae=>{console.log("ðŸ”„ KYC change detected:",ae);const W=await $.getAllKycRequests(),ye=await $.getAllUsers(),$e=W.map(ze=>{const O=ye.find(Me=>Me.idnum===ze.idnum);return{...ze,userName:(O==null?void 0:O.userName)||(O==null?void 0:O.name)||"Unknown User",userEmail:(O==null?void 0:O.email)||""}});x($e)});return()=>{_t.unsubscribe(),Qt.unsubscribe(),_s.unsubscribe(),zs.unsubscribe(),Zt.unsubscribe()}}catch(be){console.log("Could not fetch admin data (Supabase may not be configured):",be),l([{idnum:"001",userName:"Demo User",email:"demo@example.com",balance:5e3},{idnum:"002",userName:"Test User",email:"test@example.com",balance:1e4}]),d([{id:1,userName:"Demo User",plan:"Starter Plan",capital:1e3,status:"Pending",date:new Date().toISOString()}]),f([{id:1,userName:"Test User",amount:500,method:"Bitcoin",status:"Pending",date:new Date().toISOString()}])}}catch(w){console.error("Error parsing admin data:",w),r("/login");return}finally{i(!1)}})()},[r]);const De=()=>{localStorage.removeItem("adminData"),localStorage.removeItem("activeUser"),sessionStorage.removeItem("adminData"),sessionStorage.removeItem("activeUser"),r("/login")},he=async u=>{try{await $.updateInvestment(u.toString(),{status:"Active",authStatus:"approved"}),d(z=>z.map(M=>M.id===u?{...M,status:"Active",authStatus:"approved"}:M));const w=c.find(z=>z.id===u);w&&await Qs(w.userEmail,w.userName,"approved",w.capital||0,w.plan||"Investment Plan"),D("success","Investment Approved","Investment has been approved and saved successfully!")}catch(w){console.error("Error approving investment:",w),D("error","Approval Failed","Failed to approve investment. Please try again.")}},T=async u=>{try{await $.updateInvestment(u.toString(),{status:"Rejected",authStatus:"rejected"}),d(z=>z.map(M=>M.id===u?{...M,status:"Rejected",authStatus:"rejected"}:M));const w=c.find(z=>z.id===u);w&&await Qs(w.userEmail,w.userName,"rejected",w.capital||0,w.plan||"Investment Plan"),D("error","Investment Rejected","Investment has been rejected and saved.")}catch(w){console.error("Error rejecting investment:",w),D("error","Rejection Failed","Failed to reject investment. Please try again.")}},Nt=async u=>{try{await $.updateWithdrawal(u.toString(),{status:"Approved"}),f(z=>z.map(M=>M.id===u?{...M,status:"Approved"}:M));const w=m.find(z=>z.id===u);w&&await Zs(w.userEmail,w.userName,"approved",w.amount||0,w.method||"Bank Transfer"),D("success","Withdrawal Approved","Withdrawal has been approved and saved successfully!")}catch(w){console.error("Error approving withdrawal:",w),D("error","Approval Failed","Failed to approve withdrawal. Please try again.")}},F=async u=>{try{await $.updateWithdrawal(u.toString(),{status:"Rejected"}),f(z=>z.map(M=>M.id===u?{...M,status:"Rejected"}:M));const w=m.find(z=>z.id===u);w&&await Zs(w.userEmail,w.userName,"rejected",w.amount||0,w.method||"Bank Transfer"),D("error","Withdrawal Rejected","Withdrawal has been rejected and saved.")}catch(w){console.error("Error rejecting withdrawal:",w),D("error","Rejection Failed","Failed to reject withdrawal. Please try again.")}},Ie=async u=>{try{const w=g.find(z=>z.id===u);w&&await Si(w.userEmail,w.userName,"approved"),await $.updateKycStatus(u,"approved"),x(z=>z.map(M=>M.id===u?{...M,status:"approved"}:M)),D("success","KYC Approved","KYC verification has been approved!")}catch(w){console.error("Error approving KYC:",w),D("error","Error","Failed to approve KYC verification.")}},Ut=async(u,w)=>{try{const z=g.find(M=>M.id===u);z&&await Si(z.userEmail,z.userName,"rejected"),await $.updateKycStatus(u,"rejected",w),x(M=>M.map(ue=>ue.id===u?{...ue,status:"rejected"}:ue)),D("error","KYC Rejected","KYC verification has been rejected.")}catch(z){console.error("Error rejecting KYC:",z),D("error","Error","Failed to reject KYC verification.")}},qt=u=>{var w;H(u),de(((w=u.balance)==null?void 0:w.toString())||"0"),U(!0)},ks=async()=>{if(!B||!V)return;const u=parseFloat(V);if(isNaN(u)||u<0){D("error","Invalid Amount","Please enter a valid balance amount");return}await ki(B.email,B.userName||B.name,u,B.balance||0),l(w=>w.map(z=>z.idnum===B.idnum?{...z,balance:u}:z)),H({...B,balance:u}),D("success","Balance Updated",`Balance updated to $${u.toLocaleString()}!`)},Ve=o.length,ie=c.reduce((u,w)=>u+(w.capital||0),0),Ne=c.filter(u=>u.status==="Pending").length,K=m.filter(u=>u.status==="Pending").length,St=m.reduce((u,w)=>u+(w.amount||0),0),Qe=g.filter(u=>u.status==="Pending").length;if(s)return t.jsx("div",{className:"dashboard-container",children:t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)"},children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"60px",height:"60px",border:"4px solid rgba(240,185,11,0.2)",borderTop:"4px solid #f0b90b",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),t.jsx("h2",{style:{color:"#f8fafc",fontSize:"1.25rem"},children:"Loading Admin Dashboard..."})]})})});const Ht=()=>{switch(y){case"overview":return"Dashboard Overview";case"users":return"User Management";case"investments":return"Investments";case"withdrawals":return"Withdrawals";case"kyc":return"KYC Requests";case"loans":return"Loan Requests";case"bonus":return"Bonus Management";case"settings":return"System Settings";default:return"Admin Panel"}},ne=async u=>{var w;try{await Xs(u.userEmail,u.userName,"approved",u.amount||0,u.duration||30),await $.updateLoan(u.id,{status:"approved",authStatus:"approved"}),v(z=>z.map(M=>M.id===u.id?{...M,status:"approved",authStatus:"approved"}:M)),D("success","Loan Approved",`Loan of $${(w=u.amount)==null?void 0:w.toLocaleString()} has been approved.`)}catch(z){console.error("Error approving loan:",z),D("error","Error","Failed to approve loan")}},Be=async u=>{try{await Xs(u.userEmail,u.userName,"rejected",u.amount||0,u.duration||30),await $.updateLoan(u.id,{status:"rejected",authStatus:"rejected"}),v(w=>w.map(z=>z.id===u.id?{...z,status:"rejected",authStatus:"rejected"}:z)),D("success","Loan Rejected","Loan request has been rejected.")}catch(w){console.error("Error rejecting loan:",w),D("error","Error","Failed to reject loan")}},E=async u=>{Z(u),we(""),J(""),oe(!0)},Te=async()=>{if(!Q||!N||parseFloat(N)<=0){D("error","Invalid Amount","Please enter a valid bonus amount");return}try{const w=(Q.bonus||0)+parseFloat(N);await $.updateUser(Q.idnum,{bonus:w}),l(z=>z.map(M=>M.idnum===Q.idnum?{...M,bonus:w}:M)),await ki(Q.email,Q.name||Q.userName,(Q.bonus||0)+parseFloat(N),Q.bonus||0),D("success","Bonus Added",`$${parseFloat(N).toLocaleString()} bonus added to ${Q.name||Q.email}`),oe(!1),Z(null),we(""),J("")}catch(u){console.error("Error adding bonus:",u),D("error","Error","Failed to add bonus")}},Cs=async u=>{const w=prompt(`Enter amount to remove from ${u.name||u.email}'s bonus:`);if(!(!w||parseFloat(w)<=0)){if(parseFloat(w)>(u.bonus||0)){D("error","Invalid Amount","Cannot remove more than current bonus");return}try{const z=(u.bonus||0)-parseFloat(w);await $.updateUser(u.idnum,{bonus:z}),l(M=>M.map(ue=>ue.idnum===u.idnum?{...ue,bonus:z}:ue)),D("success","Bonus Removed",`$${parseFloat(w).toLocaleString()} bonus removed from ${u.name||u.email}`)}catch(z){console.error("Error removing bonus:",z),D("error","Error","Failed to remove bonus")}}},Ze=b.filter(u=>u.status==="pending").length,ge=b.filter(u=>u.status==="approved").reduce((u,w)=>u+(w.amount||0),0);return t.jsxs("div",{className:"dashboard-container",children:[t.jsxs("div",{className:"mobile-header",children:[t.jsx("button",{className:"mobile-header-btn",onClick:()=>L(!_),"aria-label":"Toggle menu",children:t.jsx("i",{className:"icofont-navigation-menu"})}),t.jsx("h1",{className:"mobile-header-title",children:Ht()}),t.jsx("div",{className:"mobile-header-logo",children:t.jsx("span",{style:{color:"#f0b90b",fontWeight:700},children:"CV"})})]}),t.jsxs("button",{className:"mobile-menu-btn",onClick:()=>L(!_),"aria-label":"Toggle menu",children:[t.jsx("span",{}),t.jsx("span",{}),t.jsx("span",{})]}),t.jsxs("aside",{className:`dashboard-sidebar ${_?"show":""}`,children:[t.jsx("div",{className:"sidebar-header",children:t.jsxs("div",{className:"logo-section",children:[a!=null&&a.avatar?t.jsx("img",{src:`/images/${a.avatar}.svg`,alt:"Admin Avatar",style:{width:"48px",height:"48px",borderRadius:"12px",objectFit:"cover",border:"2px solid rgba(240, 185, 11, 0.3)",boxShadow:"0 2px 8px rgba(240, 185, 11, 0.3)"},onError:u=>{const w=u.target;w.style.display="none";const z=w.nextElementSibling;z&&(z.style.display="flex")}}):null,t.jsx("div",{className:"logo-icon",style:{background:"linear-gradient(135deg, #f0b90b 0%, #f8d12f 100%)",width:"48px",height:"48px",borderRadius:"12px",display:a!=null&&a.avatar?"none":"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",color:"#0f172a",fontWeight:700},children:"ðŸ‘¨â€ðŸ’¼"}),t.jsxs("div",{children:[t.jsx("h1",{className:"logo-text",style:{fontSize:"1.25rem",margin:0},children:"Admin Panel"}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.875rem",margin:0},children:(a==null?void 0:a.userName)||"Administrator"})]})]})}),t.jsxs("nav",{className:"sidebar-nav",children:[t.jsxs("button",{className:`nav-item ${y==="overview"?"active":""}`,onClick:()=>{k("overview"),L(!1),r("/admin")},children:[t.jsx("i",{className:"icofont-dashboard-web"}),t.jsx("span",{children:"Overview"})]}),t.jsxs("button",{className:`nav-item ${y==="users"?"active":""}`,onClick:()=>{k("users"),L(!1),r("/admin/users-management")},children:[t.jsx("i",{className:"icofont-users-alt-5"}),t.jsx("span",{children:"Users"}),Ve>0&&t.jsx("span",{className:"badge",children:Ve})]}),t.jsxs("button",{className:`nav-item ${y==="investments"?"active":""}`,onClick:()=>{k("investments"),L(!1),r("/admin/investment-plans")},children:[t.jsx("i",{className:"icofont-chart-growth"}),t.jsx("span",{children:"Investments"}),Ne>0&&t.jsx("span",{className:"badge",children:Ne})]}),t.jsxs("button",{className:`nav-item ${y==="withdrawals"?"active":""}`,onClick:()=>{k("withdrawals"),L(!1),r("/admin/transactions")},children:[t.jsx("i",{className:"icofont-money"}),t.jsx("span",{children:"Withdrawals"}),K>0&&t.jsx("span",{className:"badge",children:K})]}),t.jsxs("button",{className:`nav-item ${y==="kyc"?"active":""}`,onClick:()=>{k("kyc"),L(!1)},children:[t.jsx("i",{className:"icofont-id-card"}),t.jsx("span",{children:"KYC Requests"}),Qe>0&&t.jsx("span",{className:"badge",children:Qe})]}),t.jsxs("button",{className:`nav-item ${y==="loans"?"active":""}`,onClick:()=>{k("loans"),L(!1),r("/admin/loans-management")},children:[t.jsx("i",{className:"icofont-money-bag"}),t.jsx("span",{children:"Loans"}),Ze>0&&t.jsx("span",{className:"badge",children:Ze})]}),t.jsxs("button",{className:`nav-item ${y==="bonus"?"active":""}`,onClick:()=>{k("bonus"),L(!1)},children:[t.jsx("i",{className:"icofont-gift"}),t.jsx("span",{children:"Bonus Management"})]}),(a==null?void 0:a.role)==="superadmin"&&t.jsxs("button",{className:`nav-item ${y==="settings"?"active":""}`,onClick:()=>{k("settings"),L(!1),r("/admin/system-settings")},style:{marginTop:"1rem",background:"linear-gradient(135deg, rgba(139,92,246,0.15) 0%, rgba(59,130,246,0.15) 100%)",border:"1px solid rgba(139,92,246,0.3)"},children:[t.jsx("i",{className:"icofont-gear"}),t.jsx("span",{children:"System Settings"})]})]}),t.jsxs("div",{className:"sidebar-footer",children:[t.jsxs("button",{className:"nav-item",onClick:()=>r("/dashboard"),children:[t.jsx("i",{className:"icofont-ui-user"}),t.jsx("span",{children:"User Dashboard"})]}),t.jsxs("button",{className:"logout-btn",onClick:De,children:[t.jsx("i",{className:"icofont-sign-out"}),t.jsx("span",{children:"Log Out"})]})]}),_&&t.jsx("button",{className:"sidebar-close",onClick:()=>L(!1),children:t.jsx("i",{className:"icofont-close"})})]}),t.jsx("main",{className:"dashboard-main",children:t.jsxs("div",{className:"dashboard-content",children:[y==="overview"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-users-alt-5"})}),t.jsxs("div",{className:"stat-info",children:[t.jsx("p",{className:"stat-label",children:"Total Users"}),t.jsx("h3",{className:"stat-value",children:Ve})]})]}),t.jsxs("div",{className:"stat-card",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-chart-line"})}),t.jsxs("div",{className:"stat-info",children:[t.jsx("p",{className:"stat-label",children:"Total Investments"}),t.jsxs("h3",{className:"stat-value",children:["$",ie.toLocaleString()]})]})]}),t.jsxs("div",{className:"stat-card",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-clock-time"})}),t.jsxs("div",{className:"stat-info",children:[t.jsx("p",{className:"stat-label",children:"Pending Investments"}),t.jsx("h3",{className:"stat-value",children:Ne})]})]}),t.jsxs("div",{className:"stat-card",style:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"},children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-money-bag"})}),t.jsxs("div",{className:"stat-info",children:[t.jsx("p",{className:"stat-label",children:"Pending Withdrawals"}),t.jsx("h3",{className:"stat-value",children:K})]})]})]}),t.jsxs("div",{style:{marginTop:"2rem"},children:[t.jsxs("h3",{style:{color:"#f8fafc",fontSize:"1.25rem",marginBottom:"1rem",fontWeight:600},children:[t.jsx("i",{className:"icofont-flash"})," Quick Actions"]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[t.jsxs("button",{onClick:()=>k("investments"),style:{padding:"1.5rem",background:"rgba(240,185,11,0.1)",border:"1px solid rgba(240,185,11,0.3)",borderRadius:"12px",textAlign:"left",cursor:"pointer",transition:"all 0.3s ease"},children:[t.jsx("i",{className:"icofont-check-circled",style:{fontSize:"1.5rem",color:"#f0b90b",display:"block",marginBottom:"0.5rem"}}),t.jsx("div",{style:{color:"#f8fafc",fontWeight:600,fontSize:"1rem"},children:"Approve Investments"}),t.jsxs("div",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:[Ne," pending"]})]}),t.jsxs("button",{onClick:()=>k("withdrawals"),style:{padding:"1.5rem",background:"rgba(59,130,246,0.1)",border:"1px solid rgba(59,130,246,0.3)",borderRadius:"12px",textAlign:"left",cursor:"pointer",transition:"all 0.3s ease"},children:[t.jsx("i",{className:"icofont-pay",style:{fontSize:"1.5rem",color:"#60a5fa",display:"block",marginBottom:"0.5rem"}}),t.jsx("div",{style:{color:"#f8fafc",fontWeight:600,fontSize:"1rem"},children:"Process Withdrawals"}),t.jsxs("div",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:[K," pending"]})]}),t.jsxs("button",{onClick:()=>k("kyc"),style:{padding:"1.5rem",background:"rgba(16,185,129,0.1)",border:"1px solid rgba(16,185,129,0.3)",borderRadius:"12px",textAlign:"left",cursor:"pointer",transition:"all 0.3s ease"},children:[t.jsx("i",{className:"icofont-verification-check",style:{fontSize:"1.5rem",color:"#10b981",display:"block",marginBottom:"0.5rem"}}),t.jsx("div",{style:{color:"#f8fafc",fontWeight:600,fontSize:"1rem"},children:"Review KYC"}),t.jsxs("div",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:[Qe," pending"]})]}),t.jsxs("button",{onClick:()=>k("users"),style:{padding:"1.5rem",background:"rgba(139,92,246,0.1)",border:"1px solid rgba(139,92,246,0.3)",borderRadius:"12px",textAlign:"left",cursor:"pointer",transition:"all 0.3s ease"},children:[t.jsx("i",{className:"icofont-users",style:{fontSize:"1.5rem",color:"#a78bfa",display:"block",marginBottom:"0.5rem"}}),t.jsx("div",{style:{color:"#f8fafc",fontWeight:600,fontSize:"1rem"},children:"Manage Users"}),t.jsxs("div",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:[Ve," total users"]})]})]})]}),t.jsxs("div",{style:{marginTop:"2rem"},children:[t.jsxs("h3",{style:{color:"#f8fafc",fontSize:"1.25rem",marginBottom:"1rem",fontWeight:600},children:[t.jsx("i",{className:"icofont-clock-time"})," Recent Activity"]}),t.jsx("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)",padding:"1.5rem"},children:t.jsxs("div",{style:{color:"#cbd5e1",fontSize:"0.875rem"},children:[t.jsxs("p",{style:{marginBottom:"0.75rem"},children:[t.jsx("i",{className:"icofont-check-circled",style:{color:"#10b981",marginRight:"0.5rem"}}),"System operational - All services running smoothly"]}),t.jsxs("p",{style:{marginBottom:"0.75rem"},children:[t.jsx("i",{className:"icofont-info-circle",style:{color:"#60a5fa",marginRight:"0.5rem"}}),Ne+K+Qe," items require your attention"]}),t.jsxs("p",{style:{margin:0},children:[t.jsx("i",{className:"icofont-users-alt-5",style:{color:"#f0b90b",marginRight:"0.5rem"}}),Ve," registered users"]})]})})]})]}),y==="users"&&t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[t.jsxs("h3",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600},children:[t.jsx("i",{className:"icofont-users-alt-5"})," User Management"]}),t.jsxs("div",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:["Total Users: ",Ve]})]}),t.jsx("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px",overflow:"hidden",border:"1px solid rgba(255,255,255,0.1)"},children:t.jsx("div",{className:"table-container",children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"rgba(240,185,11,0.1)",borderBottom:"2px solid rgba(240,185,11,0.3)"},children:[t.jsx("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"ID"}),t.jsx("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Name"}),t.jsx("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Email"}),t.jsx("th",{style:{padding:"1rem",textAlign:"right",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Balance"}),t.jsx("th",{style:{padding:"1rem",textAlign:"center",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Status"}),t.jsx("th",{style:{padding:"1rem",textAlign:"center",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Actions"})]})}),t.jsx("tbody",{children:o.filter(u=>u.idnum!==(a==null?void 0:a.idnum)).map((u,w)=>t.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",transition:"all 0.3s ease"},onMouseEnter:z=>{z.currentTarget.style.background="rgba(240,185,11,0.05)"},onMouseLeave:z=>{z.currentTarget.style.background="transparent"},children:[t.jsx("td",{style:{padding:"1rem",color:"#cbd5e1"},children:u.idnum}),t.jsx("td",{style:{padding:"1rem",color:"#f8fafc",fontWeight:500},children:u.name||u.userName}),t.jsx("td",{style:{padding:"1rem",color:"#cbd5e1"},children:u.email}),t.jsxs("td",{style:{padding:"1rem",textAlign:"right",color:"#10b981",fontWeight:600},children:["$",(u.balance||0).toLocaleString()]}),t.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:t.jsx("span",{style:{padding:"0.375rem 0.875rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:600,background:"rgba(34,197,94,0.15)",color:"#4ade80",border:"1px solid rgba(34,197,94,0.3)"},children:"Active"})}),t.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:t.jsxs("button",{onClick:()=>qt(u),style:{padding:"0.5rem 1rem",background:"rgba(59,130,246,0.1)",border:"1px solid rgba(59,130,246,0.3)",borderRadius:"6px",color:"#60a5fa",fontSize:"0.75rem",cursor:"pointer",fontWeight:500},children:[t.jsx("i",{className:"icofont-eye"})," View"]})})]},u.id||w))})]})})})]}),y==="investments"&&t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[t.jsxs("h3",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600},children:[t.jsx("i",{className:"icofont-chart-growth"})," Investment Management"]}),t.jsxs("div",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:["Total: $",ie.toLocaleString()," | Pending: ",Ne]})]}),t.jsx("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px",overflow:"hidden",border:"1px solid rgba(255,255,255,0.1)"},children:t.jsx("div",{className:"table-container",children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"rgba(240,185,11,0.1)",borderBottom:"2px solid rgba(240,185,11,0.3)"},children:[t.jsx("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"User"}),t.jsx("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Plan"}),t.jsx("th",{style:{padding:"1rem",textAlign:"right",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Amount"}),t.jsx("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Date"}),t.jsx("th",{style:{padding:"1rem",textAlign:"center",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Status"}),t.jsx("th",{style:{padding:"1rem",textAlign:"center",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Actions"})]})}),t.jsx("tbody",{children:c.length===0?t.jsx("tr",{children:t.jsxs("td",{colSpan:6,style:{textAlign:"center",padding:"3rem",color:"#94a3b8"},children:[t.jsx("i",{className:"icofont-chart-growth",style:{fontSize:"3rem",marginBottom:"1rem",display:"block",opacity:.5}}),"No investment records found"]})}):c.map((u,w)=>t.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[t.jsx("td",{style:{padding:"1rem",color:"#f8fafc",fontWeight:500},children:u.userName}),t.jsx("td",{style:{padding:"1rem",color:"#cbd5e1"},children:u.plan}),t.jsxs("td",{style:{padding:"1rem",textAlign:"right",color:"#10b981",fontWeight:600},children:["$",(u.capital||0).toLocaleString()]}),t.jsx("td",{style:{padding:"1rem",color:"#cbd5e1"},children:new Date(u.created_at||u.date).toLocaleDateString()}),t.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:t.jsx("span",{style:{padding:"0.375rem 0.875rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:600,background:u.status==="Pending"?"rgba(251,191,36,0.15)":u.status==="Active"?"rgba(34,197,94,0.15)":"rgba(239,68,68,0.15)",color:u.status==="Pending"?"#fbbf24":u.status==="Active"?"#4ade80":"#ef4444",border:`1px solid ${u.status==="Pending"?"rgba(251,191,36,0.3)":u.status==="Active"?"rgba(34,197,94,0.3)":"rgba(239,68,68,0.3)"}`},children:u.status})}),t.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:u.status==="Pending"&&t.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[t.jsxs("button",{onClick:()=>he(u.id),style:{padding:"0.5rem 1rem",background:"rgba(34,197,94,0.1)",border:"1px solid rgba(34,197,94,0.3)",borderRadius:"6px",color:"#10b981",fontSize:"0.75rem",cursor:"pointer",fontWeight:500},children:[t.jsx("i",{className:"icofont-check"})," Approve"]}),t.jsxs("button",{onClick:()=>T(u.id),style:{padding:"0.5rem 1rem",background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"6px",color:"#ef4444",fontSize:"0.75rem",cursor:"pointer",fontWeight:500},children:[t.jsx("i",{className:"icofont-close"})," Reject"]})]})})]},u.id||w))})]})})})]}),y==="withdrawals"&&t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[t.jsxs("h3",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600},children:[t.jsx("i",{className:"icofont-money"})," Withdrawal Management"]}),t.jsxs("div",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:["Total: $",St.toLocaleString()," | Pending: ",K]})]}),t.jsx("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px",overflow:"hidden",border:"1px solid rgba(255,255,255,0.1)"},children:t.jsx("div",{className:"table-container",children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"rgba(240,185,11,0.1)",borderBottom:"2px solid rgba(240,185,11,0.3)"},children:[t.jsx("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"User"}),t.jsx("th",{style:{padding:"1rem",textAlign:"right",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Amount"}),t.jsx("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Method"}),t.jsx("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Date"}),t.jsx("th",{style:{padding:"1rem",textAlign:"center",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Status"}),t.jsx("th",{style:{padding:"1rem",textAlign:"center",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Actions"})]})}),t.jsx("tbody",{children:m.length===0?t.jsx("tr",{children:t.jsxs("td",{colSpan:6,style:{textAlign:"center",padding:"3rem",color:"#94a3b8"},children:[t.jsx("i",{className:"icofont-money",style:{fontSize:"3rem",marginBottom:"1rem",display:"block",opacity:.5}}),"No withdrawal records found"]})}):m.map((u,w)=>t.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[t.jsx("td",{style:{padding:"1rem",color:"#f8fafc",fontWeight:500},children:u.userName}),t.jsxs("td",{style:{padding:"1rem",textAlign:"right",color:"#ef4444",fontWeight:600},children:["$",(u.amount||0).toLocaleString()]}),t.jsx("td",{style:{padding:"1rem",color:"#cbd5e1"},children:u.method}),t.jsx("td",{style:{padding:"1rem",color:"#cbd5e1"},children:new Date(u.date).toLocaleDateString()}),t.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:t.jsx("span",{style:{padding:"0.375rem 0.875rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:600,background:u.status==="Pending"?"rgba(251,191,36,0.15)":u.status==="Approved"?"rgba(34,197,94,0.15)":"rgba(239,68,68,0.15)",color:u.status==="Pending"?"#fbbf24":u.status==="Approved"?"#4ade80":"#ef4444",border:`1px solid ${u.status==="Pending"?"rgba(251,191,36,0.3)":u.status==="Approved"?"rgba(34,197,94,0.3)":"rgba(239,68,68,0.3)"}`},children:u.status})}),t.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:u.status==="Pending"&&t.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[t.jsxs("button",{onClick:()=>Nt(u.id),style:{padding:"0.5rem 1rem",background:"rgba(34,197,94,0.1)",border:"1px solid rgba(34,197,94,0.3)",borderRadius:"6px",color:"#10b981",fontSize:"0.75rem",cursor:"pointer",fontWeight:500},children:[t.jsx("i",{className:"icofont-check"})," Approve"]}),t.jsxs("button",{onClick:()=>F(u.id),style:{padding:"0.5rem 1rem",background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"6px",color:"#ef4444",fontSize:"0.75rem",cursor:"pointer",fontWeight:500},children:[t.jsx("i",{className:"icofont-close"})," Reject"]})]})})]},u.id||w))})]})})})]}),y==="kyc"&&t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[t.jsxs("h3",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600},children:[t.jsx("i",{className:"icofont-id-card"})," KYC Verification Requests"]}),t.jsxs("div",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:["Pending: ",Qe]})]}),t.jsx("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px",overflow:"hidden",border:"1px solid rgba(255,255,255,0.1)"},children:t.jsx("div",{className:"table-container",children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"rgba(240,185,11,0.1)",borderBottom:"2px solid rgba(240,185,11,0.3)"},children:[t.jsx("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"User"}),t.jsx("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Email"}),t.jsx("th",{style:{padding:"1rem",textAlign:"left",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Submitted"}),t.jsx("th",{style:{padding:"1rem",textAlign:"center",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Status"}),t.jsx("th",{style:{padding:"1rem",textAlign:"center",fontWeight:600,color:"#f0b90b",textTransform:"uppercase",fontSize:"0.75rem"},children:"Actions"})]})}),t.jsx("tbody",{children:g.map((u,w)=>{var z,M,ue,Ce,be,me,He;return t.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[t.jsx("td",{style:{padding:"1rem",color:"#f8fafc",fontWeight:500},children:u.userName}),t.jsx("td",{style:{padding:"1rem",color:"#cbd5e1"},children:u.userEmail}),t.jsx("td",{style:{padding:"1rem",color:"#cbd5e1"},children:new Date(u.submittedAt).toLocaleDateString()}),t.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:t.jsx("span",{style:{padding:"0.375rem 0.875rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:600,background:((z=u.status)==null?void 0:z.toLowerCase())==="pending"?"rgba(251,191,36,0.15)":((M=u.status)==null?void 0:M.toLowerCase())==="approved"?"rgba(34,197,94,0.15)":"rgba(239,68,68,0.15)",color:((ue=u.status)==null?void 0:ue.toLowerCase())==="pending"?"#fbbf24":((Ce=u.status)==null?void 0:Ce.toLowerCase())==="approved"?"#4ade80":"#ef4444",border:`1px solid ${((be=u.status)==null?void 0:be.toLowerCase())==="pending"?"rgba(251,191,36,0.3)":((me=u.status)==null?void 0:me.toLowerCase())==="approved"?"rgba(34,197,94,0.3)":"rgba(239,68,68,0.3)"}`},children:u.status||"Unknown"})}),t.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:((He=u.status)==null?void 0:He.toLowerCase())==="pending"&&t.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[t.jsxs("button",{onClick:()=>Ie(u.id),style:{padding:"0.5rem 1rem",background:"rgba(34,197,94,0.1)",border:"1px solid rgba(34,197,94,0.3)",borderRadius:"6px",color:"#10b981",fontSize:"0.75rem",cursor:"pointer",fontWeight:500},children:[t.jsx("i",{className:"icofont-check"})," Approve"]}),t.jsxs("button",{onClick:()=>Ut(u.id),style:{padding:"0.5rem 1rem",background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"6px",color:"#ef4444",fontSize:"0.75rem",cursor:"pointer",fontWeight:500},children:[t.jsx("i",{className:"icofont-close"})," Reject"]})]})})]},u.id||w)})})]})})})]}),y==="loans"&&t.jsxs("div",{className:"page-section",children:[t.jsxs("div",{className:"page-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"icofont-money-bag"})," Loan Requests"]}),t.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[t.jsxs("span",{style:{background:"rgba(240, 185, 11, 0.1)",color:"#f0b90b",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.875rem",fontWeight:600},children:[Ze," Pending"]}),t.jsxs("span",{style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.875rem",fontWeight:600},children:["$",ge.toLocaleString()," Approved"]})]})]}),t.jsxs("div",{className:"stats-grid",style:{marginBottom:"1.5rem"},children:[t.jsxs("div",{className:"stat-card",style:{background:"linear-gradient(135deg, #f0b90b 0%, #d19e09 100%)"},children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(255,255,255,0.2)",color:"#0f172a"},children:t.jsx("i",{className:"icofont-tasks-alt"})}),t.jsxs("div",{className:"stat-info",children:[t.jsx("p",{className:"stat-label",style:{color:"#0f172a"},children:"Total Requests"}),t.jsx("h3",{className:"stat-value",style:{color:"#0f172a"},children:b.length})]})]}),t.jsxs("div",{className:"stat-card",style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)"},children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(255,255,255,0.2)",color:"#0f172a"},children:t.jsx("i",{className:"icofont-clock-time"})}),t.jsxs("div",{className:"stat-info",children:[t.jsx("p",{className:"stat-label",style:{color:"#0f172a"},children:"Pending"}),t.jsx("h3",{className:"stat-value",style:{color:"#0f172a"},children:Ze})]})]}),t.jsxs("div",{className:"stat-card",style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)"},children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(255,255,255,0.2)",color:"#0f172a"},children:t.jsx("i",{className:"icofont-check-circled"})}),t.jsxs("div",{className:"stat-info",children:[t.jsx("p",{className:"stat-label",style:{color:"#0f172a"},children:"Approved"}),t.jsx("h3",{className:"stat-value",style:{color:"#0f172a"},children:b.filter(u=>u.status==="approved").length})]})]}),t.jsxs("div",{className:"stat-card",style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)"},children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(255,255,255,0.2)",color:"#0f172a"},children:t.jsx("i",{className:"icofont-close-circled"})}),t.jsxs("div",{className:"stat-info",children:[t.jsx("p",{className:"stat-label",style:{color:"#0f172a"},children:"Rejected"}),t.jsx("h3",{className:"stat-value",style:{color:"#0f172a"},children:b.filter(u=>u.status==="rejected").length})]})]})]}),t.jsx("div",{className:"table-container",children:t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"User"}),t.jsx("th",{children:"Amount"}),t.jsx("th",{children:"Duration"}),t.jsx("th",{children:"Interest"}),t.jsx("th",{children:"Purpose"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:b.length===0?t.jsx("tr",{children:t.jsxs("td",{colSpan:8,style:{textAlign:"center",padding:"3rem",color:"#94a3b8"},children:[t.jsx("i",{className:"icofont-money-bag",style:{fontSize:"3rem",marginBottom:"1rem",display:"block",opacity:.5}}),"No loan requests found"]})}):b.map((u,w)=>{var z;return t.jsxs("tr",{children:[t.jsx("td",{children:t.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[t.jsx("span",{style:{fontWeight:500,color:"#f8fafc"},children:u.userName}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:u.userEmail})]})}),t.jsxs("td",{style:{fontWeight:600,color:"#f0b90b"},children:["$",((z=u.amount)==null?void 0:z.toLocaleString())||"0"]}),t.jsxs("td",{children:[u.duration||30," days"]}),t.jsxs("td",{children:[u.interestRate||5,"%"]}),t.jsx("td",{style:{maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:u.purpose||"N/A"}),t.jsx("td",{children:t.jsx("span",{style:{background:u.status==="approved"?"rgba(16,185,129,0.1)":u.status==="rejected"?"rgba(239,68,68,0.1)":"rgba(240,185,11,0.1)",color:u.status==="approved"?"#10b981":u.status==="rejected"?"#ef4444":"#f0b90b",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:600,textTransform:"capitalize"},children:u.status||"Pending"})}),t.jsx("td",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:u.date?new Date(u.date).toLocaleDateString():"N/A"}),t.jsxs("td",{children:[u.status==="pending"&&t.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[t.jsxs("button",{onClick:()=>ne(u),style:{background:"rgba(16,185,129,0.1)",color:"#10b981",border:"1px solid rgba(16,185,129,0.3)",borderRadius:"6px",padding:"0.375rem 0.75rem",fontSize:"0.75rem",cursor:"pointer",fontWeight:500},children:[t.jsx("i",{className:"icofont-check"})," Approve"]}),t.jsxs("button",{onClick:()=>Be(u),style:{background:"rgba(239,68,68,0.1)",color:"#ef4444",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"6px",padding:"0.375rem 0.75rem",fontSize:"0.75rem",cursor:"pointer",fontWeight:500},children:[t.jsx("i",{className:"icofont-close"})," Reject"]})]}),u.status!=="pending"&&t.jsx("span",{style:{color:"#64748b",fontSize:"0.75rem"},children:u.status==="approved"?"âœ“ Processed":"âœ— Declined"})]})]},u.id||w)})})]})})]}),y==="bonus"&&t.jsxs("div",{className:"page-section",children:[t.jsxs("div",{className:"page-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"icofont-gift"})," Bonus Management"]}),t.jsxs("button",{className:"primary-btn",onClick:()=>oe(!0),style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)"},children:[t.jsx("i",{className:"icofont-plus"})," Add Bonus"]})]}),t.jsxs("div",{className:"stats-grid",style:{marginBottom:"2rem"},children:[t.jsxs("div",{className:"stat-card primary",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-gift"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Total Bonus Distributed"}),t.jsxs("h2",{className:"stat-value",children:["$",o.reduce((u,w)=>u+(w.bonus||0),0).toLocaleString()]}),t.jsx("p",{className:"stat-info",children:"Across all users"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:t.jsx("i",{className:"icofont-users-alt-5"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Users with Bonus"}),t.jsx("h2",{className:"stat-value",children:o.filter(u=>(u.bonus||0)>0).length}),t.jsx("p",{className:"stat-info",children:"Active bonus holders"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(245, 158, 11, 0.1)",color:"#f59e0b"},children:t.jsx("i",{className:"icofont-chart-line"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Average Bonus"}),t.jsxs("h2",{className:"stat-value",children:["$",o.length>0?Math.round(o.reduce((u,w)=>u+(w.bonus||0),0)/o.length).toLocaleString():"0"]}),t.jsx("p",{className:"stat-info",children:"Per user"})]})]})]}),t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-card-header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"icofont-users-alt-5"})," Users with Bonus"]}),t.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:t.jsx("input",{type:"text",placeholder:"Search users...",value:P,onChange:u=>Y(u.target.value),style:{padding:"0.5rem 1rem",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.05)",color:"#fff",fontSize:"0.875rem"}})})]}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[t.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"rgba(255,255,255,0.6)",fontSize:"12px",fontWeight:"500"},children:"User"}),t.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"rgba(255,255,255,0.6)",fontSize:"12px",fontWeight:"500"},children:"Email"}),t.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"rgba(255,255,255,0.6)",fontSize:"12px",fontWeight:"500"},children:"Current Bonus"}),t.jsx("th",{style:{padding:"12px 16px",textAlign:"center",color:"rgba(255,255,255,0.6)",fontSize:"12px",fontWeight:"500"},children:"Actions"})]})}),t.jsxs("tbody",{children:[o.filter(u=>(u.bonus||0)>0).filter(u=>{var w,z,M;return((w=u.name)==null?void 0:w.toLowerCase().includes(P.toLowerCase()))||((z=u.email)==null?void 0:z.toLowerCase().includes(P.toLowerCase()))||((M=u.userName)==null?void 0:M.toLowerCase().includes(P.toLowerCase()))}).map(u=>{var w,z,M,ue,Ce;return t.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[t.jsx("td",{style:{padding:"16px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"bold"},children:((z=(w=u.name)==null?void 0:w.charAt(0))==null?void 0:z.toUpperCase())||((ue=(M=u.email)==null?void 0:M.charAt(0))==null?void 0:ue.toUpperCase())||"U"}),t.jsxs("div",{children:[t.jsx("div",{style:{color:"#fff",fontWeight:"500"},children:u.name||u.userName}),t.jsxs("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:"12px"},children:["ID: ",u.idnum]})]})]})}),t.jsx("td",{style:{padding:"16px",color:"#fff"},children:u.email}),t.jsxs("td",{style:{padding:"16px",textAlign:"right",color:"#f59e0b",fontWeight:"600"},children:["$",((Ce=u.bonus)==null?void 0:Ce.toLocaleString())||"0"]}),t.jsx("td",{style:{padding:"16px",textAlign:"center"},children:t.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[t.jsxs("button",{onClick:()=>E(u),style:{padding:"0.375rem 0.75rem",background:"rgba(16, 185, 129, 0.1)",color:"#10b981",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"6px",fontSize:"12px",cursor:"pointer"},children:[t.jsx("i",{className:"icofont-plus"})," Add"]}),t.jsxs("button",{onClick:()=>Cs(u),style:{padding:"0.375rem 0.75rem",background:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",fontSize:"12px",cursor:"pointer"},children:[t.jsx("i",{className:"icofont-minus"})," Remove"]})]})})]},u.idnum)}),o.filter(u=>(u.bonus||0)>0).length===0&&t.jsx("tr",{children:t.jsxs("td",{colSpan:4,style:{padding:"40px",textAlign:"center",color:"rgba(255,255,255,0.6)"},children:[t.jsx("i",{className:"icofont-gift",style:{fontSize:"48px",marginBottom:"16px",display:"block",opacity:.3}}),"No users have bonus yet"]})})]})]})})]})]}),y==="settings"&&(a==null?void 0:a.role)==="superadmin"&&t.jsxs("div",{className:"page-section",children:[t.jsxs("div",{className:"page-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"icofont-gear"})," System Settings"]}),t.jsxs("span",{style:{background:"linear-gradient(135deg, rgba(139,92,246,0.2) 0%, rgba(59,130,246,0.2) 100%)",color:"#a78bfa",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.875rem",fontWeight:600},children:[t.jsx("i",{className:"icofont-crown"})," Superadmin Only"]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[t.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255,255,255,0.05)"},children:[t.jsxs("h3",{style:{color:"#f8fafc",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("i",{className:"icofont-users-alt-5",style:{color:"#f0b90b"}}),"Role Management"]}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.875rem",marginBottom:"1rem"},children:"Promote users to admin or superadmin roles"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[t.jsxs("select",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",padding:"0.75rem",color:"#f8fafc",fontSize:"0.875rem"},children:[t.jsx("option",{value:"",children:"Select a user..."}),o.map(u=>t.jsx("option",{value:u.idnum,children:u.userName||u.email},u.idnum))]}),t.jsxs("select",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",padding:"0.75rem",color:"#f8fafc",fontSize:"0.875rem"},children:[t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"admin",children:"Admin"}),t.jsx("option",{value:"superadmin",children:"Super Admin"})]}),t.jsx("button",{style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)",border:"none",borderRadius:"8px",color:"#fff",fontWeight:600,cursor:"pointer"},onClick:()=>D("info","Coming Soon","Role management will be available in a future update."),children:"Update Role"})]})]}),t.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255,255,255,0.05)"},children:[t.jsxs("h3",{style:{color:"#f8fafc",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("i",{className:"icofont-user",style:{color:"#f0b90b"}}),"Admin Profile"]}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.875rem",marginBottom:"1rem"},children:"Customize your admin profile settings"}),t.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("span",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:"Current Avatar:"}),a!=null&&a.avatar?t.jsx("img",{src:`/images/${a.avatar}.svg`,alt:"Current Avatar",style:{width:"40px",height:"40px",borderRadius:"8px",objectFit:"cover",border:"2px solid rgba(240, 185, 11, 0.3)"}}):t.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:"linear-gradient(135deg, #f0b90b 0%, #f8d12f 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem",color:"#0f172a",fontWeight:700},children:"ðŸ‘¨â€ðŸ’¼"})]})}),t.jsxs("div",{children:[t.jsxs("h4",{style:{color:"#f8fafc",fontSize:"0.875rem",marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("i",{className:"icofont-camera",style:{color:"#f0b90b"}}),"Choose Avatar"]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.75rem",maxWidth:"300px"},children:[t.jsxs("div",{className:`avatar-option ${((a==null?void 0:a.avatar)||"avatar_male_1")==="avatar_male_1"?"selected":""}`,onClick:()=>{if(a){const u={...a,avatar:"avatar_male_1"};n(u),localStorage.setItem("adminData",JSON.stringify(u)),localStorage.setItem("activeUser",JSON.stringify(u)),D("success","Avatar Updated","Your admin avatar has been updated successfully!")}},style:{cursor:"pointer",padding:"0.5rem",border:((a==null?void 0:a.avatar)||"avatar_male_1")==="avatar_male_1"?"2px solid #f0b90b":"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",background:((a==null?void 0:a.avatar)||"avatar_male_1")==="avatar_male_1"?"rgba(240,185,11,0.1)":"rgba(255,255,255,0.03)",transition:"all 0.2s ease",textAlign:"center"},children:[t.jsx("img",{src:"/images/avatar_male_1.svg",alt:"Male Avatar 1",style:{width:"40px",height:"40px",borderRadius:"50%",marginBottom:"0.25rem",objectFit:"cover"}}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Male 1"})]}),t.jsxs("div",{className:`avatar-option ${(a==null?void 0:a.avatar)==="avatar_male_2"?"selected":""}`,onClick:()=>{if(a){const u={...a,avatar:"avatar_male_2"};n(u),localStorage.setItem("adminData",JSON.stringify(u)),localStorage.setItem("activeUser",JSON.stringify(u)),D("success","Avatar Updated","Your admin avatar has been updated successfully!")}},style:{cursor:"pointer",padding:"0.5rem",border:(a==null?void 0:a.avatar)==="avatar_male_2"?"2px solid #f0b90b":"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",background:(a==null?void 0:a.avatar)==="avatar_male_2"?"rgba(240,185,11,0.1)":"rgba(255,255,255,0.03)",transition:"all 0.2s ease",textAlign:"center"},children:[t.jsx("img",{src:"/images/avatar_male_2.svg",alt:"Male Avatar 2",style:{width:"40px",height:"40px",borderRadius:"50%",marginBottom:"0.25rem",objectFit:"cover"}}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Male 2"})]}),t.jsxs("div",{className:`avatar-option ${(a==null?void 0:a.avatar)==="avatar_female_1"?"selected":""}`,onClick:()=>{if(a){const u={...a,avatar:"avatar_female_1"};n(u),localStorage.setItem("adminData",JSON.stringify(u)),localStorage.setItem("activeUser",JSON.stringify(u)),D("success","Avatar Updated","Your admin avatar has been updated successfully!")}},style:{cursor:"pointer",padding:"0.5rem",border:(a==null?void 0:a.avatar)==="avatar_female_1"?"2px solid #f0b90b":"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",background:(a==null?void 0:a.avatar)==="avatar_female_1"?"rgba(240,185,11,0.1)":"rgba(255,255,255,0.03)",transition:"all 0.2s ease",textAlign:"center"},children:[t.jsx("img",{src:"/images/avatar_female_1.svg",alt:"Female Avatar",style:{width:"40px",height:"40px",borderRadius:"50%",marginBottom:"0.25rem",objectFit:"cover"}}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Female"})]})]})]})]}),t.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255,255,255,0.05)"},children:[t.jsxs("h3",{style:{color:"#f8fafc",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("i",{className:"icofont-chart-bar-graph",style:{color:"#f0b90b"}}),"System Statistics"]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[t.jsx("span",{style:{color:"#94a3b8"},children:"Total Users"}),t.jsx("span",{style:{color:"#f8fafc",fontWeight:600},children:o.length})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[t.jsx("span",{style:{color:"#94a3b8"},children:"Admin Users"}),t.jsx("span",{style:{color:"#f8fafc",fontWeight:600},children:o.filter(u=>u.role==="admin").length})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[t.jsx("span",{style:{color:"#94a3b8"},children:"Super Admins"}),t.jsx("span",{style:{color:"#f8fafc",fontWeight:600},children:o.filter(u=>u.role==="superadmin").length})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0"},children:[t.jsx("span",{style:{color:"#94a3b8"},children:"Total Investments"}),t.jsx("span",{style:{color:"#f8fafc",fontWeight:600},children:c.length})]})]})]}),t.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(239,68,68,0.1) 0%, rgba(220,38,38,0.1) 100%)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(239,68,68,0.3)"},children:[t.jsxs("h3",{style:{color:"#ef4444",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("i",{className:"icofont-warning"}),"Danger Zone"]}),t.jsx("p",{style:{color:"#f87171",fontSize:"0.875rem",marginBottom:"1rem"},children:"These actions are irreversible. Please proceed with caution."}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[t.jsx("button",{style:{padding:"0.75rem 1.5rem",background:"transparent",border:"1px solid rgba(239,68,68,0.5)",borderRadius:"8px",color:"#ef4444",fontWeight:600,cursor:"pointer"},onClick:()=>se("Clear All Pending Investments","This will reject all pending investments. This action cannot be undone.",()=>{d(u=>u.map(w=>w.status==="Pending"?{...w,status:"Rejected"}:w)),D("warning","Investments Cleared","All pending investments have been rejected.")}),children:"Clear Pending Investments"}),t.jsx("button",{style:{padding:"0.75rem 1.5rem",background:"transparent",border:"1px solid rgba(239,68,68,0.5)",borderRadius:"8px",color:"#ef4444",fontWeight:600,cursor:"pointer"},onClick:()=>se("Clear All Pending Withdrawals","This will reject all pending withdrawals. This action cannot be undone.",()=>{f(u=>u.map(w=>w.status==="Pending"?{...w,status:"Rejected"}:w)),D("warning","Withdrawals Cleared","All pending withdrawals have been rejected.")}),children:"Clear Pending Withdrawals"})]})]})]})]})]})}),_&&t.jsx("div",{className:"mobile-overlay",onClick:()=>L(!1)}),p&&B&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,backdropFilter:"blur(8px)",padding:"1rem"},children:t.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"16px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.5)",border:"1px solid rgba(240,185,11,0.2)"},children:[t.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("h3",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600,margin:0},children:"User Details"}),t.jsx("button",{onClick:()=>U(!1),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#f8fafc",fontSize:"1.25rem"},children:"Ã—"})]}),t.jsxs("div",{style:{padding:"2rem"},children:[t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.5rem"},children:"User ID"}),t.jsx("div",{style:{color:"#f8fafc",fontSize:"1rem",fontWeight:500},children:B.idnum})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.5rem"},children:"Name"}),t.jsx("div",{style:{color:"#f8fafc",fontSize:"1rem",fontWeight:500},children:B.name||B.userName})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.5rem"},children:"Email"}),t.jsx("div",{style:{color:"#f8fafc",fontSize:"1rem",fontWeight:500},children:B.email})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.5rem"},children:"Current Balance"}),t.jsxs("div",{style:{color:"#10b981",fontSize:"1.5rem",fontWeight:700,marginBottom:"0.5rem"},children:["$",(B.balance||0).toLocaleString()]})]}),t.jsxs("div",{style:{background:"rgba(240,185,11,0.05)",border:"1px solid rgba(240,185,11,0.2)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[t.jsxs("label",{style:{color:"#f0b90b",fontSize:"0.875rem",fontWeight:600,display:"block",marginBottom:"0.75rem"},children:[t.jsx("i",{className:"icofont-dollar"})," Update Balance"]}),t.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[t.jsx("input",{type:"number",value:V,onChange:u=>de(u.target.value),placeholder:"Enter new balance",style:{flex:1,padding:"0.75rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#f8fafc",fontSize:"0.875rem",outline:"none"},onFocus:u=>{u.currentTarget.style.borderColor="rgba(240,185,11,0.5)"},onBlur:u=>{u.currentTarget.style.borderColor="rgba(255,255,255,0.1)"}}),t.jsxs("button",{onClick:ks,style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #10b981 0%, #34d399 100%)",border:"none",borderRadius:"8px",color:"#fff",fontSize:"0.875rem",fontWeight:600,cursor:"pointer",whiteSpace:"nowrap",transition:"all 0.3s ease"},onMouseEnter:u=>{u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow="0 4px 12px rgba(16,185,129,0.4)"},onMouseLeave:u=>{u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="none"},children:[t.jsx("i",{className:"icofont-check"})," Update"]})]})]}),t.jsx("div",{style:{background:"rgba(59,130,246,0.1)",border:"1px solid rgba(59,130,246,0.3)",borderRadius:"8px",padding:"1rem"},children:t.jsxs("small",{style:{color:"#93c5fd",fontSize:"0.75rem"},children:[t.jsx("i",{className:"icofont-info-circle"})," You can update user balance, view their transactions, and manage account settings directly from this panel."]})})]}),t.jsxs("div",{style:{padding:"1.5rem",borderTop:"1px solid rgba(255,255,255,0.1)",display:"flex",gap:"0.75rem"},children:[t.jsxs("button",{onClick:()=>{se("Delete User Account","Are you sure you want to delete this user account? This action cannot be undone.",()=>{l(u=>u.filter(w=>w.idnum!==B.idnum)),U(!1),D("success","User Deleted","User account deleted successfully")},()=>{},"Delete Account","Cancel")},style:{flex:1,padding:"0.75rem",background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"8px",color:"#ef4444",fontSize:"0.875rem",fontWeight:600,cursor:"pointer"},children:[t.jsx("i",{className:"icofont-trash"})," Delete User"]}),t.jsx("button",{onClick:()=>U(!1),style:{flex:1,padding:"0.75rem",background:"linear-gradient(135deg, #f0b90b 0%, #f8d12f 100%)",border:"none",borderRadius:"8px",color:"#0f172a",fontSize:"0.875rem",fontWeight:600,cursor:"pointer"},children:"Close"})]})]})}),fe&&Q&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,backdropFilter:"blur(8px)",padding:"1rem"},children:t.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"16px",maxWidth:"500px",width:"100%",boxShadow:"0 20px 60px rgba(0,0,0,0.5)",border:"1px solid rgba(245,158,11,0.2)"},children:[t.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("h3",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600,margin:0},children:[t.jsx("i",{className:"icofont-gift",style:{marginRight:"0.5rem",color:"#f59e0b"}}),"Add Bonus to ",Q.name||Q.email]}),t.jsx("button",{onClick:()=>oe(!1),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#cbd5e1"},children:t.jsx("i",{className:"icofont-close"})})]}),t.jsxs("div",{style:{padding:"1.5rem"},children:[t.jsx("div",{style:{marginBottom:"1rem"},children:t.jsxs("label",{style:{display:"block",color:"#f8fafc",fontSize:"0.875rem",fontWeight:500,marginBottom:"0.5rem"},children:["Current Bonus: ",t.jsxs("span",{style:{color:"#f59e0b",fontWeight:600},children:["$",((Fe=Q.bonus)==null?void 0:Fe.toLocaleString())||"0"]})]})}),t.jsxs("div",{style:{marginBottom:"1rem"},children:[t.jsx("label",{style:{display:"block",color:"#f8fafc",fontSize:"0.875rem",fontWeight:500,marginBottom:"0.5rem"},children:"Bonus Amount ($)"}),t.jsx("input",{type:"number",value:N,onChange:u=>we(u.target.value),placeholder:"Enter bonus amount",style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.05)",color:"#f8fafc",fontSize:"0.875rem"}})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",color:"#f8fafc",fontSize:"0.875rem",fontWeight:500,marginBottom:"0.5rem"},children:"Reason (Optional)"}),t.jsx("textarea",{value:G,onChange:u=>J(u.target.value),placeholder:"Enter reason for bonus...",rows:3,style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.05)",color:"#f8fafc",fontSize:"0.875rem",resize:"vertical"}})]}),t.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.jsx("button",{onClick:()=>oe(!1),style:{flex:1,padding:"0.75rem",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"#cbd5e1",fontSize:"0.875rem",fontWeight:600,cursor:"pointer"},children:"Cancel"}),t.jsxs("button",{onClick:Te,disabled:!N||parseFloat(N)<=0,style:{flex:1,padding:"0.75rem",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",border:"none",borderRadius:"8px",color:"#0f172a",fontSize:"0.875rem",fontWeight:600,cursor:!N||parseFloat(N)<=0?"not-allowed":"pointer",opacity:!N||parseFloat(N)<=0?.5:1},children:[t.jsx("i",{className:"icofont-plus",style:{marginRight:"0.5rem"}}),"Add Bonus"]})]})]})]})}),le.show&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99998,animation:"fadeIn 0.3s ease-out"},children:t.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"16px",padding:"1.5rem",maxWidth:"400px",width:"90%",boxShadow:"0 20px 40px rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.05)"},children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[t.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 20px rgba(245,158,11,0.3)"},children:t.jsx("i",{className:"icofont-warning",style:{fontSize:"2rem",color:"#fff"}})}),t.jsx("h2",{style:{color:"#f8fafc",fontSize:"1.5rem",fontWeight:700,margin:"0 0 1rem 0"},children:le.title}),t.jsx("p",{style:{color:"#cbd5e1",fontSize:"1rem",lineHeight:"1.6",margin:0},children:le.message})]}),t.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.jsx("button",{onClick:()=>{le.onConfirm(),xe()},style:{flex:1,padding:"1rem",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",border:"none",borderRadius:"12px",color:"#fff",fontSize:"1rem",fontWeight:700,cursor:"pointer",boxShadow:"0 8px 20px rgba(239,68,68,0.3)",transition:"all 0.3s ease"},onMouseEnter:u=>{u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow="0 12px 30px rgba(239,68,68,0.4)"},onMouseLeave:u=>{u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="0 8px 20px rgba(239,68,68,0.3)"},children:le.confirmText}),t.jsx("button",{onClick:()=>{le.onCancel&&le.onCancel(),xe()},style:{flex:1,padding:"1rem",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",color:"#cbd5e1",fontSize:"1rem",fontWeight:700,cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:u=>{u.currentTarget.style.background="rgba(255,255,255,0.2)",u.currentTarget.style.borderColor="rgba(255,255,255,0.3)"},onMouseLeave:u=>{u.currentTarget.style.background="rgba(255,255,255,0.1)",u.currentTarget.style.borderColor="rgba(255,255,255,0.2)"},children:le.cancelText})]})]})}),I.show&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,animation:"fadeIn 0.3s ease-out"},children:t.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"16px",padding:"1.5rem",maxWidth:"400px",width:"90%",boxShadow:"0 20px 40px rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.05)"},children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[t.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:I.type==="success"?"linear-gradient(135deg, #10b981 0%, #34d399 100%)":I.type==="error"?"linear-gradient(135deg, #ef4444 0%, #f87171 100%)":I.type==="warning"?"linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%)":"linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:I.type==="success"?"0 8px 20px rgba(16,185,129,0.3)":I.type==="error"?"0 8px 20px rgba(239,68,68,0.3)":I.type==="warning"?"0 8px 20px rgba(245,158,11,0.3)":"0 8px 20px rgba(59,130,246,0.3)"},children:t.jsx("i",{className:I.type==="success"?"icofont-check-circled":I.type==="error"?"icofont-close-circled":I.type==="warning"?"icofont-warning":"icofont-info-circle",style:{fontSize:"2rem",color:"#fff"}})}),t.jsx("h2",{style:{color:"#f8fafc",fontSize:"1.5rem",fontWeight:700,margin:"0 0 1rem 0"},children:I.title}),t.jsx("p",{style:{color:"#cbd5e1",fontSize:"1rem",lineHeight:"1.6",margin:0},children:I.message})]}),t.jsx("button",{onClick:pe,style:{width:"100%",padding:"1rem",background:I.type==="success"?"linear-gradient(135deg, #10b981 0%, #34d399 100%)":I.type==="error"?"linear-gradient(135deg, #ef4444 0%, #f87171 100%)":I.type==="warning"?"linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%)":"linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%)",border:"none",borderRadius:"12px",color:"#fff",fontSize:"1rem",fontWeight:700,cursor:"pointer",boxShadow:I.type==="success"?"0 8px 20px rgba(16,185,129,0.3)":I.type==="error"?"0 8px 20px rgba(239,68,68,0.3)":I.type==="warning"?"0 8px 20px rgba(245,158,11,0.3)":"0 8px 20px rgba(59,130,246,0.3)",transition:"all 0.3s ease"},onMouseEnter:u=>{u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow=I.type==="success"?"0 12px 30px rgba(16,185,129,0.4)":I.type==="error"?"0 12px 30px rgba(239,68,68,0.4)":I.type==="warning"?"0 12px 30px rgba(245,158,11,0.4)":"0 12px 30px rgba(59,130,246,0.4)"},onMouseLeave:u=>{u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow=I.type==="success"?"0 8px 20px rgba(16,185,129,0.3)":I.type==="error"?"0 8px 20px rgba(239,68,68,0.3)":I.type==="warning"?"0 8px 20px rgba(245,158,11,0.3)":"0 8px 20px rgba(59,130,246,0.3)"},children:I.type==="success"?"Great!":"Got it"})]})}),t.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
      `})]})}function te(r){var e=r.width,s=r.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(s<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:s}}function st(r,e){return r.width===e.width&&r.height===e.height}var cn=function(){function r(e){var s=this;this._resolutionListener=function(){return s._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return r.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(r.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),r.prototype.subscribe=function(e){var s=this,i={next:e};return this._observers.push(i),{unsubscribe:function(){s._observers=s._observers.filter(function(a){return a!==i})}}},r.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},r.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},r.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},r.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(s){return s.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},r}();function dn(r){return new cn(r)}var hn=function(){function r(e,s,i){var a;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=te({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=s??function(n){return n},this._allowResizeObserver=(a=i==null?void 0:i.allowResizeObserver)!==null&&a!==void 0?a:!0,this._chooseAndInitObserver()}return r.prototype.dispose=function(){var e,s;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(s=this._devicePixelRatioObservable)===null||s===void 0||s.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(r.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bitmapSize",{get:function(){return te({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),r.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=te(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},r.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},r.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(s){return s!==e})},Object.defineProperty(r.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),r.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},r.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(s){return s!==e})},r.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},r.prototype._resizeBitmap=function(e){var s=this.bitmapSize;st(s,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(s,e))},r.prototype._emitBitmapSizeChanged=function(e,s){var i=this;this._bitmapSizeChangedListeners.forEach(function(a){return a.call(i,e,s)})},r.prototype._suggestNewBitmapSize=function(e){var s=this._suggestedBitmapSize,i=te(this._transformBitmapSize(e,this._canvasElementClientSize)),a=st(this.bitmapSize,i)?null:i;s===null&&a===null||s!==null&&a!==null&&st(s,a)||(this._suggestedBitmapSize=a,this._emitSuggestedBitmapSizeChanged(s,a))},r.prototype._emitSuggestedBitmapSizeChanged=function(e,s){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(a){return a.call(i,e,s)})},r.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}mn().then(function(s){return s?e._initResizeObserver():e._initDevicePixelRatioObservable()})},r.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var s=Ci(this._canvasElement);if(s===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=dn(s),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},r.prototype._invalidateBitmapSize=function(){var e,s;if(this._canvasElement!==null){var i=Ci(this._canvasElement);if(i!==null){var a=(s=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&s!==void 0?s:i.devicePixelRatio,n=this._canvasElement.getClientRects(),o=n[0]!==void 0?fn(n[0],a):te({width:this._canvasElementClientSize.width*a,height:this._canvasElementClientSize.height*a});this._suggestNewBitmapSize(o)}}},r.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(s){var i=s.find(function(o){return o.target===e._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var a=i.devicePixelContentBoxSize[0],n=te({width:a.inlineSize,height:a.blockSize});e._suggestNewBitmapSize(n)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},r}();function un(r,e){return new hn(r,e.transform,e.options)}function Ci(r){return r.ownerDocument.defaultView}function mn(){return new Promise(function(r){var e=new ResizeObserver(function(s){r(s.every(function(i){return"devicePixelContentBoxSize"in i})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function fn(r,e){return te({width:Math.round(r.left*e+r.width*e)-Math.round(r.left*e),height:Math.round(r.top*e+r.height*e)-Math.round(r.top*e)})}var pn=function(){function r(e,s,i){if(s.width===0||s.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=s,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=e}return r.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},r.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(r.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),r}();function it(r,e){var s=r.canvasElementClientSize;if(s.width===0||s.height===0)return null;var i=r.bitmapSize;if(i.width===0||i.height===0)return null;var a=r.canvasElement.getContext("2d",e);return a===null?null:new pn(a,s,i)}/*!
 * @license
 * TradingView Lightweight Chartsâ„¢ v5.0.9
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const Wa={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var _i,zi;function xt(r,e){const s={0:[],1:[r.lineWidth,r.lineWidth],2:[2*r.lineWidth,2*r.lineWidth],3:[6*r.lineWidth,6*r.lineWidth],4:[r.lineWidth,4*r.lineWidth]}[e];r.setLineDash(s)}function La(r,e,s,i){r.beginPath();const a=r.lineWidth%2?.5:0;r.moveTo(s,e+a),r.lineTo(i,e+a),r.stroke()}function je(r,e){if(!r)throw new Error("Assertion failed"+(e?": "+e:""))}function Re(r){if(r===void 0)throw new Error("Value is undefined");return r}function S(r){if(r===null)throw new Error("Value is null");return r}function Ke(r){return S(Re(r))}(function(r){r[r.Simple=0]="Simple",r[r.WithSteps=1]="WithSteps",r[r.Curved=2]="Curved"})(_i||(_i={})),function(r){r[r.Solid=0]="Solid",r[r.Dotted=1]="Dotted",r[r.Dashed=2]="Dashed",r[r.LargeDashed=3]="LargeDashed",r[r.SparseDotted=4]="SparseDotted"}(zi||(zi={}));class ce{constructor(){this.t=[]}i(e,s,i){const a={h:e,l:s,o:i===!0};this.t.push(a)}_(e){const s=this.t.findIndex(i=>e===i.h);s>-1&&this.t.splice(s,1)}u(e){this.t=this.t.filter(s=>s.l!==e)}p(e,s,i){const a=[...this.t];this.t=this.t.filter(n=>!n.o),a.forEach(n=>n.h(e,s,i))}v(){return this.t.length>0}m(){this.t=[]}}function Pe(r,...e){for(const s of e)for(const i in s)s[i]!==void 0&&Object.prototype.hasOwnProperty.call(s,i)&&!["__proto__","constructor","prototype"].includes(i)&&(typeof s[i]!="object"||r[i]===void 0||Array.isArray(s[i])?r[i]=s[i]:Pe(r[i],s[i]));return r}function bt(r){return typeof r=="number"&&isFinite(r)}function $t(r){return typeof r=="number"&&r%1==0}function Vt(r){return typeof r=="string"}function es(r){return typeof r=="boolean"}function Ue(r){const e=r;if(!e||typeof e!="object")return e;let s,i,a;for(i in s=Array.isArray(e)?[]:{},e)e.hasOwnProperty(i)&&(a=e[i],s[i]=a&&typeof a=="object"?Ue(a):a);return s}function gn(r){return r!==null}function xn(r){return r===null?void 0:r}const Da="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function ms(r,e,s){return e===void 0&&(e=Da),`${s=s!==void 0?`${s} `:""}${r}px ${e}`}class bn{constructor(e){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,B:0,I:0,A:0,L:0},this.O=e}N(){const e=this.M,s=this.F(),i=this.W();return e.P===s&&e.T===i||(e.P=s,e.T=i,e.k=ms(s,i),e.A=2.5/12*s,e.V=e.A,e.B=s/12*e.C,e.I=s/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function Is(r){return r<0?0:r>255?255:Math.round(r)||0}function Ri(r){return .199*r[0]+.687*r[1]+.114*r[2]}class yn{constructor(e,s){this.q=new Map,this.Y=e,s&&(this.q=s)}j(e,s){if(e==="transparent")return e;const i=this.K(e),a=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${s*a})`}X(e){const s=this.K(e);return{Z:`rgb(${s[0]}, ${s[1]}, ${s[2]})`,G:Ri(s)>160?"black":"white"}}J(e){return Ri(this.K(e))}tt(e,s,i){const[a,n,o,l]=this.K(e),[c,d,m,f]=this.K(s),g=[Is(a+i*(c-a)),Is(n+i*(d-n)),Is(o+i*(m-o)),(x=l+i*(f-l),x<=0||x>1?Math.min(Math.max(x,0),1):Math.round(1e4*x)/1e4)];var x;return`rgba(${g[0]}, ${g[1]}, ${g[2]}, ${g[3]})`}K(e){const s=this.q.get(e);if(s)return s;const i=function(o){const l=document.createElement("div");l.style.display="none",document.body.appendChild(l),l.style.color=o;const c=window.getComputedStyle(l).color;return document.body.removeChild(l),c}(e),a=i.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!a){if(this.Y.length)for(const o of this.Y){const l=o(e);if(l)return this.q.set(e,l),l}throw new Error(`Failed to parse color: ${e}`)}const n=[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10),a[4]?parseFloat(a[4]):1];return this.q.set(e,n),n}}class vn{constructor(){this.it=[]}st(e){this.it=e}nt(e,s,i){this.it.forEach(a=>{a.nt(e,s,i)})}}class Yt{nt(e,s,i){e.useBitmapCoordinateSpace(a=>this.et(a,s,i))}}class jn extends Yt{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:s,verticalPixelRatio:i}){if(this.rt===null||this.rt.lt===null)return;const a=this.rt.lt,n=this.rt,o=Math.max(1,Math.floor(s))%2/2,l=c=>{e.beginPath();for(let d=a.to-1;d>=a.from;--d){const m=n.ot[d],f=Math.round(m._t*s)+o,g=m.ut*i,x=c*i+o;e.moveTo(f,g),e.arc(f,g,x,0,2*Math.PI)}e.fill()};n.ct>0&&(e.fillStyle=n.dt,l(n.ft+n.ct)),e.fillStyle=n.vt,l(n.ft)}}function wn(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const Nn={from:0,to:1};class Sn{constructor(e,s,i){this.Mt=new vn,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=s,this.Pt=i,this.Mt.st(this.bt)}yt(e){this.kt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}kt(){const e=this.Pt.Dt();e.length!==this.bt.length&&(this.St=e.map(wn),this.bt=this.St.map(s=>{const i=new jn;return i.ht(s),i}),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.Vt(),s=this.Pt.Bt(),i=this.Ct.It(),a=this.O.Et();this.kt(),s.forEach((n,o)=>{const l=this.St[o],c=n.At(i),d=n.zt();!e&&c!==null&&n.Vt()&&d!==null?(l.vt=c.Lt,l.ft=c.ft,l.ct=c.Ot,l.ot[0].gt=c.gt,l.ot[0].ut=n.Ft().Nt(c.gt,d.Wt),l.dt=c.Ht??this.O.Ut(l.ot[0].ut/n.Ft().$t()),l.ot[0].wt=i,l.ot[0]._t=a.qt(i),l.lt=Nn):l.lt=null})}}class kn extends Yt{constructor(e){super(),this.Yt=e}et({context:e,bitmapSize:s,horizontalPixelRatio:i,verticalPixelRatio:a}){if(this.Yt===null)return;const n=this.Yt.jt.Vt,o=this.Yt.Kt.Vt;if(!n&&!o)return;const l=Math.round(this.Yt._t*i),c=Math.round(this.Yt.ut*a);e.lineCap="butt",n&&l>=0&&(e.lineWidth=Math.floor(this.Yt.jt.ct*i),e.strokeStyle=this.Yt.jt.R,e.fillStyle=this.Yt.jt.R,xt(e,this.Yt.jt.Xt),function(d,m,f,g){d.beginPath();const x=d.lineWidth%2?.5:0;d.moveTo(m+x,f),d.lineTo(m+x,g),d.stroke()}(e,l,0,s.height)),o&&c>=0&&(e.lineWidth=Math.floor(this.Yt.Kt.ct*a),e.strokeStyle=this.Yt.Kt.R,e.fillStyle=this.Yt.Kt.R,xt(e,this.Yt.Kt.Xt),La(e,c,0,s.width))}}class Cn{constructor(e,s){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new kn(this.Zt),this.Jt=e,this.Pt=s}yt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const e=this.Jt.Vt(),s=this.Pt.Qt().N().crosshair,i=this.Zt;if(s.mode===2)return i.Kt.Vt=!1,void(i.jt.Vt=!1);i.Kt.Vt=e&&this.Jt.ti(this.Pt),i.jt.Vt=e&&this.Jt.ii(),i.Kt.ct=s.horzLine.width,i.Kt.Xt=s.horzLine.style,i.Kt.R=s.horzLine.color,i.jt.ct=s.vertLine.width,i.jt.Xt=s.vertLine.style,i.jt.R=s.vertLine.color,i._t=this.Jt.si(),i.ut=this.Jt.ni()}}function ys(r,e,s,i,a,n){r.save(),r.globalCompositeOperation="copy",r.fillStyle=n,r.fillRect(e,s,i,a),r.restore()}function Pi(r,e,s,i,a,n){r.beginPath(),r.roundRect?r.roundRect(e,s,i,a,n):(r.lineTo(e+i-n[1],s),n[1]!==0&&r.arcTo(e+i,s,e+i,s+n[1],n[1]),r.lineTo(e+i,s+a-n[2]),n[2]!==0&&r.arcTo(e+i,s+a,e+i-n[2],s+a,n[2]),r.lineTo(e+n[3],s+a),n[3]!==0&&r.arcTo(e,s+a,e,s+a-n[3],n[3]),r.lineTo(e,s+n[0]),n[0]!==0&&r.arcTo(e,s,e+n[0],s,n[0]))}function Ti(r,e,s,i,a,n,o=0,l=[0,0,0,0],c=""){if(r.save(),!o||!c||c===n)return Pi(r,e,s,i,a,l),r.fillStyle=n,r.fill(),void r.restore();const d=o/2;var m;Pi(r,e+d,s+d,i-o,a-o,(m=-d,l.map(f=>f===0?f:f+m))),n!=="transparent"&&(r.fillStyle=n,r.fill()),c!=="transparent"&&(r.lineWidth=o,r.strokeStyle=c,r.closePath(),r.stroke()),r.restore()}function Fa(r,e,s,i,a,n,o){r.save(),r.globalCompositeOperation="copy";const l=r.createLinearGradient(0,0,0,a);l.addColorStop(0,n),l.addColorStop(1,o),r.fillStyle=l,r.fillRect(e,s,i,a),r.restore()}class Ii{constructor(e,s){this.ht(e,s)}ht(e,s){this.Yt=e,this.ei=s}$t(e,s){return this.Yt.Vt?e.P+e.A+e.V:0}nt(e,s,i,a){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const n=this.Yt.R,o=this.ei.Z,l=e.useBitmapCoordinateSpace(c=>{const d=c.context;d.font=s.k;const m=this.hi(c,s,i,a),f=m.ai;return m.li?Ti(d,f.oi,f._i,f.ui,f.ci,o,f.di,[f.ft,0,0,f.ft],o):Ti(d,f.fi,f._i,f.ui,f.ci,o,f.di,[0,f.ft,f.ft,0],o),this.Yt.pi&&(d.fillStyle=n,d.fillRect(f.fi,f.mi,f.wi-f.fi,f.gi)),this.Yt.Mi&&(d.fillStyle=s.D,d.fillRect(m.li?f.bi-f.di:0,f._i,f.di,f.Si-f._i)),m});e.useMediaCoordinateSpace(({context:c})=>{const d=l.xi;c.font=s.k,c.textAlign=l.li?"right":"left",c.textBaseline="middle",c.fillStyle=n,c.fillText(this.Yt.ri,d.Ci,(d._i+d.Si)/2+d.Pi)})}hi(e,s,i,a){const{context:n,bitmapSize:o,mediaSize:l,horizontalPixelRatio:c,verticalPixelRatio:d}=e,m=this.Yt.pi||!this.Yt.yi?s.C:0,f=this.Yt.ki?s.S:0,g=s.A+this.ei.Ti,x=s.V+this.ei.Ri,b=s.B,v=s.I,y=this.Yt.ri,k=s.P,_=i.Di(n,y),L=Math.ceil(i.Vi(n,y)),B=k+g+x,H=s.S+b+v+L+m,p=Math.max(1,Math.floor(d));let U=Math.round(B*d);U%2!=p%2&&(U+=1);const V=f>0?Math.max(1,Math.floor(f*c)):0,de=Math.round(H*c),fe=Math.round(m*c),oe=this.ei.Bi??this.ei.Ii,N=Math.round(oe*d)-Math.floor(.5*d),we=Math.floor(N+p/2-U/2),G=we+U,J=a==="right",Q=J?l.width-f:f,Z=J?o.width-V:V;let P,Y,I;return J?(P=Z-de,Y=Z-fe,I=Q-m-b-f):(P=Z+de,Y=Z+fe,I=Q+m+b),{li:J,ai:{_i:we,mi:N,Si:G,ui:de,ci:U,ft:2*c,di:V,oi:P,fi:Z,wi:Y,gi:p,bi:o.width},xi:{_i:we/d,Si:G/d,Ci:I,Pi:_}}}}class vs{constructor(e){this.Ei={Ii:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,yi:!1,Ht:"",R:"#FFF",Mi:!1,ki:!1},this.zi={ri:"",Vt:!1,pi:!1,yi:!0,Ht:"",R:"#FFF",Mi:!0,ki:!0},this.xt=!0,this.Li=new(e||Ii)(this.Ai,this.Ei),this.Oi=new(e||Ii)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Ii(){return this.Ni(),this.Ei.Ii}yt(){this.xt=!0}$t(e,s=!1){return Math.max(this.Li.$t(e,s),this.Oi.$t(e,s))}Fi(){return this.Ei.Bi||0}Wi(e){this.Ei.Bi=e}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(e){return this.Ni(),this.Ai.pi=this.Ai.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}}class _n extends vs{constructor(e,s,i){super(),this.Jt=e,this.Yi=s,this.ji=i}qi(e,s,i){if(e.Vt=!1,this.Jt.N().mode===2)return;const a=this.Jt.N().horzLine;if(!a.labelVisible)return;const n=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||n===null)return;const o=this.Yi.Xi().X(a.labelBackgroundColor);i.Z=o.Z,e.R=o.G;const l=2/12*this.Yi.P();i.Ti=l,i.Ri=l;const c=this.ji(this.Yi);i.Ii=c.Ii,e.ri=this.Yi.Zi(c.gt,n),e.Vt=!0}}const zn=/[1-9]/g;class $a{constructor(){this.Yt=null}ht(e){this.Yt=e}nt(e,s){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const i=e.useMediaCoordinateSpace(({context:g})=>(g.font=s.k,Math.round(s.Gi.Vi(g,S(this.Yt).ri,zn))));if(i<=0)return;const a=s.Ji,n=i+2*a,o=n/2,l=this.Yt.Qi;let c=this.Yt.Ii,d=Math.floor(c-o)+.5;d<0?(c+=Math.abs(0-d),d=Math.floor(c-o)+.5):d+n>l&&(c-=Math.abs(l-(d+n)),d=Math.floor(c-o)+.5);const m=d+n,f=Math.ceil(0+s.S+s.C+s.A+s.P+s.V);e.useBitmapCoordinateSpace(({context:g,horizontalPixelRatio:x,verticalPixelRatio:b})=>{const v=S(this.Yt);g.fillStyle=v.Z;const y=Math.round(d*x),k=Math.round(0*b),_=Math.round(m*x),L=Math.round(f*b),B=Math.round(2*x);if(g.beginPath(),g.moveTo(y,k),g.lineTo(y,L-B),g.arcTo(y,L,y+B,L,B),g.lineTo(_-B,L),g.arcTo(_,L,_,L-B,B),g.lineTo(_,k),g.fill(),v.pi){const H=Math.round(v.Ii*x),p=k,U=Math.round((p+s.C)*b);g.fillStyle=v.R;const V=Math.max(1,Math.floor(x)),de=Math.floor(.5*x);g.fillRect(H-de,p,V,U-p)}}),e.useMediaCoordinateSpace(({context:g})=>{const x=S(this.Yt),b=0+s.S+s.C+s.A+s.P/2;g.font=s.k,g.textAlign="left",g.textBaseline="middle",g.fillStyle=x.R;const v=s.Gi.Di(g,"Apr0");g.translate(d+a,b+v),g.fillText(x.ri,0,0)})}}class Rn{constructor(e,s,i){this.xt=!0,this.Gt=new $a,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Ii:NaN,pi:!0},this.Ct=e,this.ts=s,this.ji=i}yt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const e=this.Zt;if(e.Vt=!1,this.Ct.N().mode===2)return;const s=this.Ct.N().vertLine;if(!s.labelVisible)return;const i=this.ts.Et();if(i.Ki())return;e.Qi=i.Qi();const a=this.ji();if(a===null)return;e.Ii=a.Ii;const n=i.ss(this.Ct.It());e.ri=i.ns(S(n)),e.Vt=!0;const o=this.ts.Xi().X(s.labelBackgroundColor);e.Z=o.Z,e.R=o.G,e.pi=i.N().ticksVisible}}class Oa{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(e){this.rs=e}Ft(){return this.es}_s(e){this.es=e}us(e){return[]}cs(){return[]}Vt(){return!0}}var Bi;(function(r){r[r.Normal=0]="Normal",r[r.Magnet=1]="Magnet",r[r.Hidden=2]="Hidden",r[r.MagnetOHLC=3]="MagnetOHLC"})(Bi||(Bi={}));class Pn extends Oa{constructor(e,s){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=e,this.Ps=s,this.ys=((a,n)=>o=>{const l=n(),c=a();if(o===S(this.Pt).ks())return{gt:c,Ii:l};{const d=S(o.zt());return{gt:o.Ts(l,d),Ii:l}}})(()=>this.ds,()=>this.Ss);const i=((a,n)=>()=>{const o=this.ts.Et().Rs(a()),l=n();return o&&Number.isFinite(l)?{wt:o,Ii:l}:null})(()=>this.fs,()=>this.si());this.Ds=new Rn(this,e,i)}N(){return this.Ps}Vs(e,s){this.xs=e,this.Cs=s}Bs(){this.xs=NaN,this.Cs=NaN}Is(){return this.xs}Es(){return this.Cs}As(e,s,i){this.ws||(this.ws=!0),this.ps=!0,this.zs(e,s,i)}It(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Bs(),this.Ns()}Fs(e){let s=this.gs.get(e);s||(s=new Cn(this,e),this.gs.set(e,s));let i=this.Ms.get(e);return i||(i=new Sn(this.ts,this,e),this.Ms.set(e,i)),[s,i]}ti(e){return e===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(e,s){this.ps&&this.Pt===e||this.vs.clear();const i=[];return this.Pt===e&&i.push(this.Hs(this.vs,s,this.ys)),i}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach(e=>{var s,i;(s=this.gs.get(e))==null||s.yt(),(i=this.Ms.get(e))==null||i.yt()}),this.vs.forEach(e=>e.yt()),this.Ds.yt()}qs(e){return e&&!e.ks().Ki()?e.ks():null}zs(e,s,i){this.Ys(e,s,i)&&this.Ns()}Ys(e,s,i){const a=this.bs,n=this.Ss,o=this.ds,l=this.fs,c=this.Pt,d=this.qs(i);this.fs=e,this.bs=isNaN(e)?NaN:this.ts.Et().qt(e),this.Pt=i;const m=d!==null?d.zt():null;return d!==null&&m!==null?(this.ds=s,this.Ss=d.Nt(s,m)):(this.ds=NaN,this.Ss=NaN),a!==this.bs||n!==this.Ss||l!==this.fs||o!==this.ds||c!==this.Pt}Os(){const e=this.ts.js().map(i=>i.Xs().Ks()).filter(gn),s=e.length===0?null:Math.max(...e);this.fs=s!==null?s:NaN}Hs(e,s,i){let a=e.get(s);return a===void 0&&(a=new _n(this,s,i),e.set(s,a)),a}}function js(r){return r==="left"||r==="right"}class ve{constructor(e){this.Zs=new Map,this.Gs=[],this.Js=e}Qs(e,s){const i=function(a,n){return a===void 0?n:{tn:Math.max(a.tn,n.tn),sn:a.sn||n.sn}}(this.Zs.get(e),s);this.Zs.set(e,i)}nn(){return this.Js}en(e){const s=this.Zs.get(e);return s===void 0?{tn:this.Js}:{tn:Math.max(this.Js,s.tn),sn:s.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(e){this.hn(),this.Gs=[{an:1,Wt:e}]}_n(e){this.un(),this.Gs.push({an:5,Wt:e})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(e){this.hn(),this.Gs.push({an:2,Wt:e})}fn(e){this.hn(),this.Gs.push({an:3,Wt:e})}pn(){return this.Gs}vn(e){for(const s of e.Gs)this.mn(s);this.Js=Math.max(this.Js,e.Js),e.Zs.forEach((s,i)=>{this.Qs(i,s)})}static wn(){return new ve(2)}static gn(){return new ve(3)}mn(e){switch(e.an){case 0:this.rn();break;case 1:this.ln(e.Wt);break;case 2:this.dn(e.Wt);break;case 3:this.fn(e.Wt);break;case 4:this.cn();break;case 5:this._n(e.Wt);break;case 6:this.un()}}un(){const e=this.Gs.findIndex(s=>s.an===5);e!==-1&&this.Gs.splice(e,1)}}class Va{formatTickmarks(e){return e.map(s=>this.format(s))}}const Mi=".";function qe(r,e){if(!bt(r))return"n/a";if(!$t(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?r.toString():("0000000000000000"+r.toString()).slice(-e)}class ws extends Va{constructor(e,s){if(super(),s||(s=1),bt(e)&&$t(e)||(e=100),e<0)throw new TypeError("invalid base");this.Yi=e,this.Mn=s,this.bn()}format(e){const s=e<0?"âˆ’":"";return e=Math.abs(e),s+this.Sn(e)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let e=this.Yi;for(;e>1;)e/=10,this.xn++}}Sn(e){const s=this.Yi/this.Mn;let i=Math.floor(e),a="";const n=this.xn!==void 0?this.xn:NaN;if(s>1){let o=+(Math.round(e*s)-i*s).toFixed(this.xn);o>=s&&(o-=s,i+=1),a=Mi+qe(+o.toFixed(this.xn)*this.Mn,n)}else i=Math.round(i*s)/s,n>0&&(a=Mi+qe(0,n));return i.toFixed(0)+a}}class Ya extends ws{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class Tn extends Va{constructor(e){super(),this.Cn=e}format(e){let s="";return e<0&&(s="-",e=-e),e<995?s+this.Pn(e):e<999995?s+this.Pn(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),s+this.Pn(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),s+this.Pn(e/1e9)+"B")}Pn(e){let s;const i=Math.pow(10,this.Cn);return s=(e=Math.round(e*i)/i)>=1e-15&&e<1?e.toFixed(this.Cn).replace(/\.?0+$/,""):String(e),s.replace(/(\.[1-9]*)0+$/,(a,n)=>n)}}const In=/[2-9]/g;class fs{constructor(e=50){this.yn=0,this.kn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=e}Bn(){this.yn=0,this.Dn.clear(),this.kn=1,this.Tn=1,this.Rn={}}Vi(e,s,i){return this.In(e,s,i).width}Di(e,s,i){const a=this.In(e,s,i);return((a.actualBoundingBoxAscent||0)-(a.actualBoundingBoxDescent||0))/2}In(e,s,i){const a=i||In,n=String(s).replace(a,"0");if(this.Dn.has(n))return Re(this.Dn.get(n)).En;if(this.yn===this.Vn){const l=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(l),this.Tn++,this.yn--}e.save(),e.textBaseline="middle";const o=e.measureText(n);return e.restore(),o.width===0&&s.length||(this.Dn.set(n,{En:o,An:this.kn}),this.Rn[this.kn]=n,this.yn++,this.kn++),o}}class Bn{constructor(e){this.zn=null,this.M=null,this.Ln="right",this.On=e}Nn(e,s,i){this.zn=e,this.M=s,this.Ln=i}nt(e){this.M!==null&&this.zn!==null&&this.zn.nt(e,this.M,this.On,this.Ln)}}class Ua{constructor(e,s,i){this.Fn=e,this.On=new fs(50),this.Wn=s,this.O=i,this.F=-1,this.Gt=new Bn(this.On)}Tt(){const e=this.O.Hn(this.Wn);if(e===null)return null;const s=e.Un(this.Wn)?e.$n():this.Wn.Ft();if(s===null)return null;const i=e.qn(s);if(i==="overlay")return null;const a=this.O.Yn();return a.P!==this.F&&(this.F=a.P,this.On.Bn()),this.Gt.Nn(this.Fn.$i(),a,i),this.Gt}}class Mn extends Yt{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}jn(e,s){var o;if(!((o=this.Yt)!=null&&o.Vt))return null;const{ut:i,ct:a,Kn:n}=this.Yt;return s>=i-a-7&&s<=i+a+7?{Xn:this.Yt,Kn:n}:null}et({context:e,bitmapSize:s,horizontalPixelRatio:i,verticalPixelRatio:a}){if(this.Yt===null||this.Yt.Vt===!1)return;const n=Math.round(this.Yt.ut*a);n<0||n>s.height||(e.lineCap="butt",e.strokeStyle=this.Yt.R,e.lineWidth=Math.floor(this.Yt.ct*i),xt(e,this.Yt.Xt),La(e,n,0,s.width))}}class oi{constructor(e){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new Mn,this.xt=!0,this.Jn=e,this.Qn=e.Qt(),this.Gn.ht(this.Zn)}yt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class An extends oi{constructor(e){super(e)}te(){this.Zn.Vt=!1;const e=this.Jn.Ft(),s=e.ie().ie;if(s!==2&&s!==3)return;const i=this.Jn.N();if(!i.baseLineVisible||!this.Jn.Vt())return;const a=this.Jn.zt();a!==null&&(this.Zn.Vt=!0,this.Zn.ut=e.Nt(a.Wt,a.Wt),this.Zn.R=i.baseLineColor,this.Zn.ct=i.baseLineWidth,this.Zn.Xt=i.baseLineStyle)}}class En extends Yt{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}se(){return this.Yt}et({context:e,horizontalPixelRatio:s,verticalPixelRatio:i}){const a=this.Yt;if(a===null)return;const n=Math.max(1,Math.floor(s)),o=n%2/2,l=Math.round(a.ne.x*s)+o,c=a.ne.y*i;e.fillStyle=a.ee,e.beginPath();const d=Math.max(2,1.5*a.re)*s;e.arc(l,c,d,0,2*Math.PI,!1),e.fill(),e.fillStyle=a.he,e.beginPath(),e.arc(l,c,a.ft*s,0,2*Math.PI,!1),e.fill(),e.lineWidth=n,e.strokeStyle=a.ae,e.beginPath(),e.arc(l,c,a.ft*s+n/2,0,2*Math.PI,!1),e.stroke()}}const Wn=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class Ln{constructor(e){this.Gt=new En,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=e}Me(){this.we=this.me-1,this.yt()}be(){if(this.yt(),this.ge.N().lastPriceAnimation===2){const e=performance.now(),s=this.we-e;if(s>0)return void(s<650&&(this.we+=2600));this.me=e,this.we=e+2600}}yt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const e=this.ge.Qt().Et(),s=e.Pe(),i=this.ge.zt();if(s===null||i===null)return;const a=this.ge.ye(!0);if(a.ke||!s.Te(a.Re))return;const n={x:e.qt(a.Re),y:this.ge.Ft().Nt(a.gt,i.Wt)},o=a.R,l=this.ge.N().lineWidth,c=this.De(this.Ve(),o);this.Gt.ht({ee:o,re:l,he:c.he,ae:c.ae,ft:c.ft,ne:n})}Ce(){const e=this.Gt.se();if(e!==null){const s=this.De(this.Ve(),e.ee);e.he=s.he,e.ae=s.ae,e.ft=s.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Be(e,s,i,a){const n=i+(a-i)*s;return this.ge.Qt().Xi().j(e,n)}De(e,s){const i=e%2600/2600;let a;for(const d of Wn)if(i>=d.le&&i<=d.oe){a=d;break}je(a!==void 0,"Last price animation internal logic error");const n=(i-a.le)/(a.oe-a.le);return{he:this.Be(s,n,a.ce,a.de),ae:this.Be(s,n,a.fe,a.pe),ft:(o=n,l=a._e,c=a.ue,l+(c-l)*o)};var o,l,c}}class Dn extends oi{constructor(e){super(e)}te(){const e=this.Zn;e.Vt=!1;const s=this.Jn.N();if(!s.priceLineVisible||!this.Jn.Vt())return;const i=this.Jn.ye(s.priceLineSource===0);i.ke||(e.Vt=!0,e.ut=i.Ii,e.R=this.Jn.Ie(i.R),e.ct=s.priceLineWidth,e.Xt=s.priceLineStyle)}}class Fn extends vs{constructor(e){super(),this.Jt=e}qi(e,s,i){e.Vt=!1,s.Vt=!1;const a=this.Jt;if(!a.Vt())return;const n=a.N(),o=n.lastValueVisible,l=a.Ee()!=="",c=n.seriesLastValueMode===0,d=a.ye(!1);if(d.ke)return;o&&(e.ri=this.Ae(d,o,c),e.Vt=e.ri.length!==0),(l||c)&&(s.ri=this.ze(d,o,l,c),s.Vt=s.ri.length>0);const m=a.Ie(d.R),f=this.Jt.Qt().Xi().X(m);i.Z=f.Z,i.Ii=d.Ii,s.Ht=a.Qt().Ut(d.Ii/a.Ft().$t()),e.Ht=m,e.R=f.G,s.R=f.G}ze(e,s,i,a){let n="";const o=this.Jt.Ee();return i&&o.length!==0&&(n+=`${o} `),s&&a&&(n+=this.Jt.Ft().Le()?e.Oe:e.Ne),n.trim()}Ae(e,s,i){return s?i?this.Jt.Ft().Le()?e.Ne:e.Oe:e.ri:""}}function Ai(r,e,s,i){const a=Number.isFinite(e),n=Number.isFinite(s);return a&&n?r(e,s):a||n?a?e:s:i}class _e{constructor(e,s){this.Fe=e,this.We=s}He(e){return e!==null&&this.Fe===e.Fe&&this.We===e.We}Ue(){return new _e(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(e){return e===null?this:new _e(Ai(Math.min,this.$e(),e.$e(),-1/0),Ai(Math.max,this.qe(),e.qe(),1/0))}je(e){if(!bt(e)||this.We-this.Fe===0)return;const s=.5*(this.We+this.Fe);let i=this.We-s,a=this.Fe-s;i*=e,a*=e,this.We=s+i,this.Fe=s+a}Ke(e){bt(e)&&(this.We+=e,this.Fe+=e)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(e){return e===null?null:new _e(e.minValue,e.maxValue)}}class ps{constructor(e,s){this.Ge=e,this.Je=s||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(e){return e===null?null:new ps(_e.Ze(e.priceRange),e.margins)}}class $n extends oi{constructor(e,s){super(e),this.ir=s}te(){const e=this.Zn;e.Vt=!1;const s=this.ir.N();if(!this.Jn.Vt()||!s.lineVisible)return;const i=this.ir.sr();i!==null&&(e.Vt=!0,e.ut=i,e.R=s.color,e.ct=s.lineWidth,e.Xt=s.lineStyle,e.Kn=this.ir.N().id)}}class On extends vs{constructor(e,s){super(),this.ge=e,this.ir=s}qi(e,s,i){e.Vt=!1,s.Vt=!1;const a=this.ir.N(),n=a.axisLabelVisible,o=a.title!=="",l=this.ge;if(!n||!l.Vt())return;const c=this.ir.sr();if(c===null)return;o&&(s.ri=a.title,s.Vt=!0),s.Ht=l.Qt().Ut(c/l.Ft().$t()),e.ri=this.nr(a.price),e.Vt=!0;const d=this.ge.Qt().Xi().X(a.axisLabelColor||a.color);i.Z=d.Z;const m=a.axisLabelTextColor||d.G;e.R=m,s.R=m,i.Ii=c}nr(e){const s=this.ge.zt();return s===null?"":this.ge.Ft().Zi(e,s.Wt)}}class Vn{constructor(e,s){this.ge=e,this.Ps=s,this.er=new $n(e,this),this.Fn=new On(e,this),this.rr=new Ua(this.Fn,e,e.Qt())}hr(e){Pe(this.Ps,e),this.yt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}yt(){this.er.yt(),this.Fn.yt()}sr(){const e=this.ge,s=e.Ft();if(e.Qt().Et().Ki()||s.Ki())return null;const i=e.zt();return i===null?null:s.Nt(this.Ps.price,i.Wt)}}class Yn extends Oa{constructor(e){super(),this.ts=e}Qt(){return this.ts}}const Un={Bar:(r,e,s,i)=>{const a=e.upColor,n=e.downColor,o=S(r(s,i)),l=Ke(o.Wt[0])<=Ke(o.Wt[3]);return{cr:o.R??(l?a:n)}},Candlestick:(r,e,s,i)=>{const a=e.upColor,n=e.downColor,o=e.borderUpColor,l=e.borderDownColor,c=e.wickUpColor,d=e.wickDownColor,m=S(r(s,i)),f=Ke(m.Wt[0])<=Ke(m.Wt[3]);return{cr:m.R??(f?a:n),dr:m.Ht??(f?o:l),pr:m.vr??(f?c:d)}},Custom:(r,e,s,i)=>({cr:S(r(s,i)).R??e.color}),Area:(r,e,s,i)=>{const a=S(r(s,i));return{cr:a.vt??e.lineColor,vt:a.vt??e.lineColor,mr:a.mr??e.topColor,wr:a.wr??e.bottomColor}},Baseline:(r,e,s,i)=>{const a=S(r(s,i));return{cr:a.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,gr:a.gr??e.topLineColor,Mr:a.Mr??e.bottomLineColor,br:a.br??e.topFillColor1,Sr:a.Sr??e.topFillColor2,Cr:a.Cr??e.bottomFillColor1,Pr:a.Pr??e.bottomFillColor2}},Line:(r,e,s,i)=>{const a=S(r(s,i));return{cr:a.R??e.color,vt:a.R??e.color}},Histogram:(r,e,s,i)=>({cr:S(r(s,i)).R??e.color})};class qn{constructor(e){this.yr=(s,i)=>i!==void 0?i.Wt:this.ge.Xs().kr(s),this.ge=e,this.Tr=Un[e.Rr()]}Dr(e,s){return this.Tr(this.yr,this.ge.N(),e,s)}}function qa(r,e,s,i,a=0,n=e.length){let o=n-a;for(;0<o;){const l=o>>1,c=a+l;i(e[c],s)===r?(a=c+1,o-=l+1):o=l}return a}const yt=qa.bind(null,!0),Ha=qa.bind(null,!1);var Ei;(function(r){r[r.NearestLeft=-1]="NearestLeft",r[r.None=0]="None",r[r.NearestRight=1]="NearestRight"})(Ei||(Ei={}));const Je=30;class Hn{constructor(){this.Vr=[],this.Br=new Map,this.Ir=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(e){return this.Nr(e,0)!==null}kr(e){return this.Fr(e)}Fr(e,s=0){const i=this.Nr(e,s);return i===null?null:{...this.Wr(i),Re:this.Or(i)}}Hr(){return this.Vr}Ur(e,s,i){if(this.Ki())return null;let a=null;for(const n of i)a=ts(a,this.$r(e,s,n));return a}ht(e){this.Ir.clear(),this.Br.clear(),this.Vr=e,this.Er=e.map(s=>s.Re)}qr(){return this.Er}Or(e){return this.Vr[e].Re}Wr(e){return this.Vr[e]}Nr(e,s){const i=this.Yr(e);if(i===null&&s!==0)switch(s){case-1:return this.jr(e);case 1:return this.Kr(e);default:throw new TypeError("Unknown search mode")}return i}jr(e){let s=this.Xr(e);return s>0&&(s-=1),s!==this.Vr.length&&this.Or(s)<e?s:null}Kr(e){const s=this.Zr(e);return s!==this.Vr.length&&e<this.Or(s)?s:null}Yr(e){const s=this.Xr(e);return s===this.Vr.length||e<this.Vr[s].Re?null:s}Xr(e){return yt(this.Vr,e,(s,i)=>s.Re<i)}Zr(e){return Ha(this.Vr,e,(s,i)=>s.Re>i)}Gr(e,s,i){let a=null;for(let n=e;n<s;n++){const o=this.Vr[n].Wt[i];Number.isNaN(o)||(a===null?a={Jr:o,Qr:o}:(o<a.Jr&&(a.Jr=o),o>a.Qr&&(a.Qr=o)))}return a}$r(e,s,i){if(this.Ki())return null;let a=null;const n=S(this.Lr()),o=S(this.Ks()),l=Math.max(e,n),c=Math.min(s,o),d=Math.ceil(l/Je)*Je,m=Math.max(d,Math.floor(c/Je)*Je);{const g=this.Xr(l),x=this.Zr(Math.min(c,d,s));a=ts(a,this.Gr(g,x,i))}let f=this.Br.get(i);f===void 0&&(f=new Map,this.Br.set(i,f));for(let g=Math.max(d+1,l);g<m;g+=Je){const x=Math.floor(g/Je);let b=f.get(x);if(b===void 0){const v=this.Xr(x*Je),y=this.Zr((x+1)*Je-1);b=this.Gr(v,y,i),f.set(x,b)}a=ts(a,b)}{const g=this.Xr(m),x=this.Zr(c);a=ts(a,this.Gr(g,x,i))}return a}}function ts(r,e){return r===null?e:e===null?r:{Jr:Math.min(r.Jr,e.Jr),Qr:Math.max(r.Qr,e.Qr)}}const gs={setLineStyle:xt};class Gn{constructor(e){this.th=e}nt(e,s,i){this.th.draw(e,gs)}ih(e,s,i){var a,n;(n=(a=this.th).drawBackground)==null||n.call(a,e,gs)}}class Jn{constructor(e){this.Dn=null,this.sh=e}Tt(){var i;const e=this.sh.renderer();if(e===null)return null;if(((i=this.Dn)==null?void 0:i.nh)===e)return this.Dn.eh;const s=new Gn(e);return this.Dn={nh:e,eh:s},s}rh(){var e,s;return((s=(e=this.sh).zOrder)==null?void 0:s.call(e))??"normal"}}class Ga{constructor(e){this.hh=null,this.ah=e}oh(){return this.ah}Ns(){var e,s;(s=(e=this.ah).updateAllViews)==null||s.call(e)}Fs(){var i,a,n;const e=((a=(i=this.ah).paneViews)==null?void 0:a.call(i))??[];if(((n=this.hh)==null?void 0:n.nh)===e)return this.hh.eh;const s=e.map(o=>new Jn(o));return this.hh={nh:e,eh:s},s}jn(e,s){var i,a;return((a=(i=this.ah).hitTest)==null?void 0:a.call(i,e,s))??null}}let Kn=class extends Ga{us(){return[]}};class Qn{constructor(e){this.th=e}nt(e,s,i){this.th.draw(e,gs)}ih(e,s,i){var a,n;(n=(a=this.th).drawBackground)==null||n.call(a,e,gs)}}class Wi{constructor(e){this.Dn=null,this.sh=e}Tt(){var i;const e=this.sh.renderer();if(e===null)return null;if(((i=this.Dn)==null?void 0:i.nh)===e)return this.Dn.eh;const s=new Qn(e);return this.Dn={nh:e,eh:s},s}rh(){var e,s;return((s=(e=this.sh).zOrder)==null?void 0:s.call(e))??"normal"}}function Ja(r){var e,s,i;return{ri:r.text(),Ii:r.coordinate(),Bi:(e=r.fixedCoordinate)==null?void 0:e.call(r),R:r.textColor(),Z:r.backColor(),Vt:((s=r.visible)==null?void 0:s.call(r))??!0,pi:((i=r.tickVisible)==null?void 0:i.call(r))??!0}}class Zn{constructor(e,s){this.Gt=new $a,this._h=e,this.uh=s}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...Ja(this._h)}),this.Gt}}class Xn extends vs{constructor(e,s){super(),this._h=e,this.Yi=s}qi(e,s,i){const a=Ja(this._h);i.Z=a.Z,e.R=a.R;const n=2/12*this.Yi.P();i.Ti=n,i.Ri=n,i.Ii=a.Ii,i.Bi=a.Bi,e.ri=a.ri,e.Vt=a.Vt,e.pi=a.pi}}class eo extends Ga{constructor(e,s){super(e),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=s}cs(){var a,n,o;const e=((n=(a=this.ah).timeAxisViews)==null?void 0:n.call(a))??[];if(((o=this.dh)==null?void 0:o.nh)===e)return this.dh.eh;const s=this.ge.Qt().Et(),i=e.map(l=>new Zn(l,s));return this.dh={nh:e,eh:i},i}Ws(){var a,n,o;const e=((n=(a=this.ah).priceAxisViews)==null?void 0:n.call(a))??[];if(((o=this.fh)==null?void 0:o.nh)===e)return this.fh.eh;const s=this.ge.Ft(),i=e.map(l=>new Xn(l,s));return this.fh={nh:e,eh:i},i}wh(){var i,a,n;const e=((a=(i=this.ah).priceAxisPaneViews)==null?void 0:a.call(i))??[];if(((n=this.ph)==null?void 0:n.nh)===e)return this.ph.eh;const s=e.map(o=>new Wi(o));return this.ph={nh:e,eh:s},s}gh(){var i,a,n;const e=((a=(i=this.ah).timeAxisPaneViews)==null?void 0:a.call(i))??[];if(((n=this.mh)==null?void 0:n.nh)===e)return this.mh.eh;const s=e.map(o=>new Wi(o));return this.mh={nh:e,eh:s},s}Mh(e,s){var i,a;return((a=(i=this.ah).autoscaleInfo)==null?void 0:a.call(i,e,s))??null}}function Bs(r,e,s,i){r.forEach(a=>{e(a).forEach(n=>{n.rh()===s&&i.push(n)})})}function Ms(r){return r.Fs()}function to(r){return r.wh()}function so(r){return r.gh()}const io=["Area","Line","Baseline"];class Ns extends Yn{constructor(e,s,i,a,n){super(e),this.Yt=new Hn,this.er=new Dn(this),this.bh=[],this.Sh=new An(this),this.xh=null,this.Ch=null,this.Ph=null,this.yh=[],this.Ps=i,this.kh=s;const o=new Fn(this);this.vs=[o],this.rr=new Ua(o,this,e),io.includes(this.kh)&&(this.xh=new Ln(this)),this.Th(),this.sh=a(this,this.Qt(),n)}m(){this.Ph!==null&&clearTimeout(this.Ph)}Ie(e){return this.Ps.priceLineColor||e}ye(e){const s={ke:!0},i=this.Ft();if(this.Qt().Et().Ki()||i.Ki()||this.Yt.Ki())return s;const a=this.Qt().Et().Pe(),n=this.zt();if(a===null||n===null)return s;let o,l;if(e){const f=this.Yt.Ar();if(f===null)return s;o=f,l=f.Re}else{const f=this.Yt.Fr(a.bi(),-1);if(f===null||(o=this.Yt.kr(f.Re),o===null))return s;l=f.Re}const c=o.Wt[3],d=this.Rh().Dr(l,{Wt:o}),m=i.Nt(c,n.Wt);return{ke:!1,gt:c,ri:i.Zi(c,n.Wt),Oe:i.Dh(c),Ne:i.Vh(c,n.Wt),R:d.cr,Ii:m,Re:l}}Rh(){return this.Ch!==null||(this.Ch=new qn(this)),this.Ch}N(){return this.Ps}hr(e){const s=e.priceScaleId;s!==void 0&&s!==this.Ps.priceScaleId&&this.Qt().Bh(this,s),Pe(this.Ps,e),e.priceFormat!==void 0&&(this.Th(),this.Qt().Ih()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.yt("options")}ht(e,s){this.Yt.ht(e),this.sh.yt("data"),this.xh!==null&&(s&&s.zh?this.xh.be():e.length===0&&this.xh.Me());const i=this.Qt().Hn(this);this.Qt().Lh(i),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(e){const s=new Vn(this,e);return this.bh.push(s),this.Qt().Eh(this),s}Nh(e){const s=this.bh.indexOf(e);s!==-1&&this.bh.splice(s,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.kh}zt(){const e=this.Wh();return e===null?null:{Wt:e.Wt[3],Hh:e.wt}}Wh(){const e=this.Qt().Et().Pe();if(e===null)return null;const s=e.Uh();return this.Yt.Fr(s,1)}Xs(){return this.Yt}$h(e){const s=this.Yt.kr(e);return s===null?null:this.kh==="Bar"||this.kh==="Candlestick"||this.kh==="Custom"?{qh:s.Wt[0],Yh:s.Wt[1],jh:s.Wt[2],Kh:s.Wt[3]}:s.Wt[3]}Xh(e){const s=[];Bs(this.yh,Ms,"top",s);const i=this.xh;return i!==null&&i.Vt()&&(this.Ph===null&&i.xe()&&(this.Ph=setTimeout(()=>{this.Ph=null,this.Qt().Zh()},0)),i.Se(),s.unshift(i)),s}Fs(){const e=[];this.Gh()||e.push(this.Sh),e.push(this.sh,this.er);const s=this.bh.map(i=>i.lr());return e.push(...s),Bs(this.yh,Ms,"normal",e),e}Jh(){return this.Qh(Ms,"bottom")}ta(e){return this.Qh(to,e)}ia(e){return this.Qh(so,e)}sa(e,s){return this.yh.map(i=>i.jn(e,s)).filter(i=>i!==null)}us(){return[this.rr,...this.bh.map(e=>e._r())]}Ws(e,s){if(s!==this.es&&!this.Gh())return[];const i=[...this.vs];for(const a of this.bh)i.push(a.ur());return this.yh.forEach(a=>{i.push(...a.Ws())}),i}cs(){const e=[];return this.yh.forEach(s=>{e.push(...s.cs())}),e}Mh(e,s){if(this.Ps.autoscaleInfoProvider!==void 0){const i=this.Ps.autoscaleInfoProvider(()=>{const a=this.na(e,s);return a===null?null:a.Xe()});return ps.Ze(i)}return this.na(e,s)}nh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}ea(){return this.ra}Ns(){var e;this.sh.yt();for(const s of this.vs)s.yt();for(const s of this.bh)s.yt();this.er.yt(),this.Sh.yt(),(e=this.xh)==null||e.yt(),this.yh.forEach(s=>s.Ns())}Ft(){return S(super.Ft())}At(e){if(!((this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const s=this.Yt.kr(e);return s===null?null:{gt:s.Wt[3],ft:this.ha(),Ht:this.aa(),Ot:this.la(),Lt:this.oa(e)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}_a(e){this.yh.push(new eo(e,this))}ua(e){this.yh=this.yh.filter(s=>s.oh()!==e)}ca(){if(this.kh==="Custom")return e=>this.sh.da(e)}fa(){if(this.kh==="Custom")return e=>this.sh.pa(e)}va(){return this.Yt.qr()}Gh(){return!js(this.Ft().ma())}na(e,s){if(!$t(e)||!$t(s)||this.Yt.Ki())return null;const i=this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline"||this.kh==="Histogram"?[3]:[2,1],a=this.Yt.Ur(e,s,i);let n=a!==null?new _e(a.Jr,a.Qr):null,o=null;if(this.Rr()==="Histogram"){const l=this.Ps.base,c=new _e(l,l);n=n!==null?n.vn(c):c}return this.yh.forEach(l=>{const c=l.Mh(e,s);if(c!=null&&c.priceRange){const d=new _e(c.priceRange.minValue,c.priceRange.maxValue);n=n!==null?n.vn(d):d}c!=null&&c.margins&&(o=c.margins)}),new ps(n,o)}ha(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}aa(){switch(this.kh){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}la(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}oa(e){switch(this.kh){case"Line":case"Area":case"Baseline":{const s=this.Ps.crosshairMarkerBackgroundColor;if(s.length!==0)return s}}return this.Rh().Dr(e).cr}Th(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.ra={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(s=>s.map(e))};break}case"volume":this.ra=new Tn(this.Ps.priceFormat.precision);break;case"percent":this.ra=new Ya(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.ra=new ws(e,this.Ps.priceFormat.minMove*e)}}this.es!==null&&this.es.wa()}Qh(e,s){const i=[];return Bs(this.yh,e,s,i),i}}const ao=[3],ro=[0,1,2,3];class no{constructor(e){this.Ps=e}ga(e,s,i){let a=e;if(this.Ps.mode===0)return a;const n=i.ks(),o=n.zt();if(o===null)return a;const l=n.Nt(e,o),c=i.Ma().filter(m=>m instanceof Ns).reduce((m,f)=>{if(i.Un(f)||!f.Vt())return m;const g=f.Ft(),x=f.Xs();if(g.Ki()||!x.Te(s))return m;const b=x.kr(s);if(b===null)return m;const v=Ke(f.zt()),y=this.Ps.mode===3?ro:ao;return m.concat(y.map(k=>g.Nt(b.Wt[k],v.Wt)))},[]);if(c.length===0)return a;c.sort((m,f)=>Math.abs(m-l)-Math.abs(f-l));const d=c[0];return a=n.Ts(d,o),a}}function At(r,e,s){return Math.min(Math.max(r,e),s)}function ss(r,e,s){return e-r<=s}class oo extends Yt{constructor(){super(...arguments),this.Yt=null}ht(e){this.Yt=e}et({context:e,bitmapSize:s,horizontalPixelRatio:i,verticalPixelRatio:a}){if(this.Yt===null)return;const n=Math.max(1,Math.floor(i));e.lineWidth=n,function(o,l){o.save(),o.lineWidth%2&&o.translate(.5,.5),l(),o.restore()}(e,()=>{const o=S(this.Yt);if(o.ba){e.strokeStyle=o.Sa,xt(e,o.xa),e.beginPath();for(const l of o.Ca){const c=Math.round(l.Pa*i);e.moveTo(c,-n),e.lineTo(c,s.height+n)}e.stroke()}if(o.ya){e.strokeStyle=o.ka,xt(e,o.Ta),e.beginPath();for(const l of o.Ra){const c=Math.round(l.Pa*a);e.moveTo(-n,c),e.lineTo(s.width+n,c)}e.stroke()}})}}class lo{constructor(e){this.Gt=new oo,this.xt=!0,this.Pt=e}yt(){this.xt=!0}Tt(){if(this.xt){const e=this.Pt.Qt().N().grid,s={ya:e.horzLines.visible,ba:e.vertLines.visible,ka:e.horzLines.color,Sa:e.vertLines.color,Ta:e.horzLines.style,xa:e.vertLines.style,Ra:this.Pt.ks().Da(),Ca:(this.Pt.Qt().Et().Da()||[]).map(i=>({Pa:i.coord}))};this.Gt.ht(s),this.xt=!1}return this.Gt}}class co{constructor(e){this.sh=new lo(e)}lr(){return this.sh}}const As={Va:4,Ba:1e-4};function mt(r,e){const s=100*(r-e)/e;return e<0?-s:s}function ho(r,e){const s=mt(r.$e(),e),i=mt(r.qe(),e);return new _e(s,i)}function Et(r,e){const s=100*(r-e)/e+100;return e<0?-s:s}function uo(r,e){const s=Et(r.$e(),e),i=Et(r.qe(),e);return new _e(s,i)}function xs(r,e){const s=Math.abs(r);if(s<1e-15)return 0;const i=Math.log10(s+e.Ba)+e.Va;return r<0?-i:i}function Wt(r,e){const s=Math.abs(r);if(s<1e-15)return 0;const i=Math.pow(10,s-e.Va)-e.Ba;return r<0?-i:i}function It(r,e){if(r===null)return null;const s=xs(r.$e(),e),i=xs(r.qe(),e);return new _e(s,i)}function ft(r,e){if(r===null)return null;const s=Wt(r.$e(),e),i=Wt(r.qe(),e);return new _e(s,i)}function Es(r){if(r===null)return As;const e=Math.abs(r.qe()-r.$e());if(e>=1||e<1e-15)return As;const s=Math.ceil(Math.abs(Math.log10(e))),i=As.Va+s;return{Va:i,Ba:1/Math.pow(10,i)}}class Ws{constructor(e,s){if(this.Ia=e,this.Ea=s,function(i){if(i<0)return!1;if(i>1e18)return!0;for(let a=i;a>1;a/=10)if(a%10!=0)return!1;return!0}(this.Ia))this.Aa=[2,2.5,2];else{this.Aa=[];for(let i=this.Ia;i!==1;){if(i%2==0)this.Aa.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.Aa.push(2,2.5),i/=5}if(this.Aa.length>100)throw new Error("something wrong with base")}}}za(e,s,i){const a=this.Ia===0?0:1/this.Ia;let n=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-s)))),o=0,l=this.Ea[0];for(;;){const f=ss(n,a,1e-14)&&n>a+1e-14,g=ss(n,i*l,1e-14),x=ss(n,1,1e-14);if(!(f&&g&&x))break;n/=l,l=this.Ea[++o%this.Ea.length]}if(n<=a+1e-14&&(n=a),n=Math.max(1,n),this.Aa.length>0&&(c=n,d=1,m=1e-14,Math.abs(c-d)<m))for(o=0,l=this.Aa[0];ss(n,i*l,1e-14)&&n>a+1e-14;)n/=l,l=this.Aa[++o%this.Aa.length];var c,d,m;return n}}class Li{constructor(e,s,i,a){this.La=[],this.Yi=e,this.Ia=s,this.Oa=i,this.Na=a}za(e,s){if(e<s)throw new Error("high < low");const i=this.Yi.$t(),a=(e-s)*this.Fa()/i,n=new Ws(this.Ia,[2,2.5,2]),o=new Ws(this.Ia,[2,2,2.5]),l=new Ws(this.Ia,[2.5,2,2]),c=[];return c.push(n.za(e,s,a),o.za(e,s,a),l.za(e,s,a)),function(d){if(d.length<1)throw Error("array is empty");let m=d[0];for(let f=1;f<d.length;++f)d[f]<m&&(m=d[f]);return m}(c)}Wa(){const e=this.Yi,s=e.zt();if(s===null)return void(this.La=[]);const i=e.$t(),a=this.Oa(i-1,s),n=this.Oa(0,s),o=this.Yi.N().entireTextOnly?this.Ha()/2:0,l=o,c=i-1-o,d=Math.max(a,n),m=Math.min(a,n);if(d===m)return void(this.La=[]);const f=this.za(d,m);if(this.Ua(s,f,d,m,l,c),e.$a()&&this.qa(f,m,d)){const b=this.Yi.Ya();this.ja(s,f,l,c,b,2*b)}const g=this.La.map(b=>b.Ka),x=this.Yi.Xa(g);for(let b=0;b<this.La.length;b++)this.La[b].Za=x[b]}Da(){return this.La}Ha(){return this.Yi.P()}Fa(){return Math.ceil(2.5*this.Ha())}Ua(e,s,i,a,n,o){const l=this.La,c=this.Yi;let d=i%s;d+=d<0?s:0;const m=i>=a?1:-1;let f=null,g=0;for(let x=i-d;x>a;x-=s){const b=this.Na(x,e,!0);f!==null&&Math.abs(b-f)<this.Fa()||b<n||b>o||(g<l.length?(l[g].Pa=b,l[g].Za=c.Ga(x),l[g].Ka=x):l.push({Pa:b,Za:c.Ga(x),Ka:x}),g++,f=b,c.Ja()&&(s=this.za(x*m,a)))}l.length=g}ja(e,s,i,a,n,o){const l=this.La,c=this.Qa(e,i,n,o),d=this.Qa(e,a,-o,-n),m=this.Na(0,e,!0)-this.Na(s,e,!0);l.length>0&&l[0].Pa-c.Pa<m/2&&l.shift(),l.length>0&&d.Pa-l[l.length-1].Pa<m/2&&l.pop(),l.unshift(c),l.push(d)}Qa(e,s,i,a){const n=(i+a)/2,o=this.Oa(s+i,e),l=this.Oa(s+a,e),c=Math.min(o,l),d=Math.max(o,l),m=Math.max(.1,this.za(d,c)),f=this.Oa(s+n,e),g=f-f%m,x=this.Na(g,e,!0);return{Za:this.Yi.Ga(g),Pa:x,Ka:g}}qa(e,s,i){let a=Ke(this.Yi.Qe());return this.Yi.Ja()&&(a=ft(a,this.Yi.tl())),a.$e()-s<e&&i-a.qe()<e}}function Ka(r){return r.slice().sort((e,s)=>S(e.hs())-S(s.hs()))}var Di;(function(r){r[r.Normal=0]="Normal",r[r.Logarithmic=1]="Logarithmic",r[r.Percentage=2]="Percentage",r[r.IndexedTo100=3]="IndexedTo100"})(Di||(Di={}));const Fi=new Ya,$i=new ws(100,1);class mo{constructor(e,s,i,a,n){this.il=0,this.sl=null,this.Ge=null,this.nl=null,this.el={rl:!1,hl:null},this.al=!1,this.ll=0,this.ol=0,this._l=new ce,this.ul=new ce,this.cl=[],this.dl=null,this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.ra=$i,this.wl=Es(null),this.gl=e,this.Ps=s,this.Ml=i,this.bl=a,this.Sl=n,this.xl=new Li(this,100,this.Cl.bind(this),this.Pl.bind(this))}ma(){return this.gl}N(){return this.Ps}hr(e){if(Pe(this.Ps,e),this.wa(),e.mode!==void 0&&this.yl({ie:e.mode}),e.scaleMargins!==void 0){const s=Re(e.scaleMargins.top),i=Re(e.scaleMargins.bottom);if(s<0||s>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${s}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(s+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${s+i}`);this.kl(),this.pl=null}}Tl(){return this.Ps.autoScale}Rl(){return this.al}Ja(){return this.Ps.mode===1}Le(){return this.Ps.mode===2}Dl(){return this.Ps.mode===3}tl(){return this.wl}ie(){return{sn:this.Ps.autoScale,Vl:this.Ps.invertScale,ie:this.Ps.mode}}yl(e){const s=this.ie();let i=null;e.sn!==void 0&&(this.Ps.autoScale=e.sn),e.ie!==void 0&&(this.Ps.mode=e.ie,e.ie!==2&&e.ie!==3||(this.Ps.autoScale=!0),this.el.rl=!1),s.ie===1&&e.ie!==s.ie&&(function(n,o){if(n===null)return!1;const l=Wt(n.$e(),o),c=Wt(n.qe(),o);return isFinite(l)&&isFinite(c)}(this.Ge,this.wl)?(i=ft(this.Ge,this.wl),i!==null&&this.Bl(i)):this.Ps.autoScale=!0),e.ie===1&&e.ie!==s.ie&&(i=It(this.Ge,this.wl),i!==null&&this.Bl(i));const a=s.ie!==this.Ps.mode;a&&(s.ie===2||this.Le())&&this.wa(),a&&(s.ie===3||this.Dl())&&this.wa(),e.Vl!==void 0&&s.Vl!==e.Vl&&(this.Ps.invertScale=e.Vl,this.Il()),this.ul.p(s,this.ie())}El(){return this.ul}P(){return this.Ml.fontSize}$t(){return this.il}Al(e){this.il!==e&&(this.il=e,this.kl(),this.pl=null)}zl(){if(this.sl)return this.sl;const e=this.$t()-this.Ll()-this.Ol();return this.sl=e,e}Qe(){return this.Nl(),this.Ge}Bl(e,s){const i=this.Ge;(s||i===null&&e!==null||i!==null&&!i.He(e))&&(this.pl=null,this.Ge=e)}Fl(e){this.Bl(e),this.Wl(e!==null)}Ki(){return this.Nl(),this.il===0||!this.Ge||this.Ge.Ki()}Hl(e){return this.Vl()?e:this.$t()-1-e}Nt(e,s){return this.Le()?e=mt(e,s):this.Dl()&&(e=Et(e,s)),this.Pl(e,s)}Ul(e,s,i){this.Nl();const a=this.Ol(),n=S(this.Qe()),o=n.$e(),l=n.qe(),c=this.zl()-1,d=this.Vl(),m=c/(l-o),f=i===void 0?0:i.from,g=i===void 0?e.length:i.to,x=this.$l();for(let b=f;b<g;b++){const v=e[b],y=v.gt;if(isNaN(y))continue;let k=y;x!==null&&(k=x(v.gt,s));const _=a+m*(k-o),L=d?_:this.il-1-_;v.ut=L}}ql(e,s,i){this.Nl();const a=this.Ol(),n=S(this.Qe()),o=n.$e(),l=n.qe(),c=this.zl()-1,d=this.Vl(),m=c/(l-o),f=i===void 0?0:i.from,g=i===void 0?e.length:i.to,x=this.$l();for(let b=f;b<g;b++){const v=e[b];let y=v.qh,k=v.Yh,_=v.jh,L=v.Kh;x!==null&&(y=x(v.qh,s),k=x(v.Yh,s),_=x(v.jh,s),L=x(v.Kh,s));let B=a+m*(y-o),H=d?B:this.il-1-B;v.Yl=H,B=a+m*(k-o),H=d?B:this.il-1-B,v.jl=H,B=a+m*(_-o),H=d?B:this.il-1-B,v.Kl=H,B=a+m*(L-o),H=d?B:this.il-1-B,v.Xl=H}}Ts(e,s){const i=this.Cl(e,s);return this.Zl(i,s)}Zl(e,s){let i=e;return this.Le()?i=function(a,n){return n<0&&(a=-a),a/100*n+n}(i,s):this.Dl()&&(i=function(a,n){return a-=100,n<0&&(a=-a),a/100*n+n}(i,s)),i}Ma(){return this.cl}Dt(){return this.fl||(this.fl=Ka(this.cl)),this.fl}Gl(e){this.cl.indexOf(e)===-1&&(this.cl.push(e),this.wa(),this.Jl())}Ql(e){const s=this.cl.indexOf(e);if(s===-1)throw new Error("source is not attached to scale");this.cl.splice(s,1),this.cl.length===0&&(this.yl({sn:!0}),this.Bl(null)),this.wa(),this.Jl()}zt(){let e=null;for(const s of this.cl){const i=s.zt();i!==null&&(e===null||i.Hh<e.Hh)&&(e=i)}return e===null?null:e.Wt}Vl(){return this.Ps.invertScale}Da(){const e=this.zt()===null;if(this.pl!==null&&(e||this.pl.io===e))return this.pl.Da;this.xl.Wa();const s=this.xl.Da();return this.pl={Da:s,io:e},this._l.p(),s}so(){return this._l}no(e){this.Le()||this.Dl()||this.vl===null&&this.nl===null&&(this.Ki()||(this.vl=this.il-e,this.nl=S(this.Qe()).Ue()))}eo(e){if(this.Le()||this.Dl()||this.vl===null)return;this.yl({sn:!1}),(e=this.il-e)<0&&(e=0);let s=(this.vl+.2*(this.il-1))/(e+.2*(this.il-1));const i=S(this.nl).Ue();s=Math.max(s,.1),i.je(s),this.Bl(i)}ro(){this.Le()||this.Dl()||(this.vl=null,this.nl=null)}ho(e){this.Tl()||this.ml===null&&this.nl===null&&(this.Ki()||(this.ml=e,this.nl=S(this.Qe()).Ue()))}ao(e){if(this.Tl()||this.ml===null)return;const s=S(this.Qe()).Ye()/(this.zl()-1);let i=e-this.ml;this.Vl()&&(i*=-1);const a=i*s,n=S(this.nl).Ue();n.Ke(a),this.Bl(n,!0),this.pl=null}lo(){this.Tl()||this.ml!==null&&(this.ml=null,this.nl=null)}ea(){return this.ra||this.wa(),this.ra}Zi(e,s){switch(this.Ps.mode){case 2:return this.oo(mt(e,s));case 3:return this.ea().format(Et(e,s));default:return this.nr(e)}}Ga(e){switch(this.Ps.mode){case 2:return this.oo(e);case 3:return this.ea().format(e);default:return this.nr(e)}}Xa(e){switch(this.Ps.mode){case 2:return this._o(e);case 3:return this.ea().formatTickmarks(e);default:return this.uo(e)}}Dh(e){return this.nr(e,S(this.dl).ea())}Vh(e,s){return e=mt(e,s),this.oo(e,Fi)}co(){return this.cl}do(e){this.el={hl:e,rl:!1}}Ns(){this.cl.forEach(e=>e.Ns())}$a(){return this.Ps.ensureEdgeTickMarksVisible&&this.Tl()}Ya(){return this.P()/2}wa(){this.pl=null;let e=1/0;this.dl=null;for(const i of this.cl)i.hs()<e&&(e=i.hs(),this.dl=i);let s=100;this.dl!==null&&(s=Math.round(this.dl.nh())),this.ra=$i,this.Le()?(this.ra=Fi,s=100):this.Dl()?(this.ra=new ws(100,1),s=100):this.dl!==null&&(this.ra=this.dl.ea()),this.xl=new Li(this,s,this.Cl.bind(this),this.Pl.bind(this)),this.xl.Wa()}Jl(){this.fl=null}fo(){return this.dl===null||this.Le()||this.Dl()?1:1/this.dl.nh()}Xi(){return this.Sl}Wl(e){this.al=e}Ll(){return this.Vl()?this.Ps.scaleMargins.bottom*this.$t()+this.ol:this.Ps.scaleMargins.top*this.$t()+this.ll}Ol(){return this.Vl()?this.Ps.scaleMargins.top*this.$t()+this.ll:this.Ps.scaleMargins.bottom*this.$t()+this.ol}Nl(){this.el.rl||(this.el.rl=!0,this.po())}kl(){this.sl=null}Pl(e,s){if(this.Nl(),this.Ki())return 0;e=this.Ja()&&e?xs(e,this.wl):e;const i=S(this.Qe()),a=this.Ol()+(this.zl()-1)*(e-i.$e())/i.Ye();return this.Hl(a)}Cl(e,s){if(this.Nl(),this.Ki())return 0;const i=this.Hl(e),a=S(this.Qe()),n=a.$e()+a.Ye()*((i-this.Ol())/(this.zl()-1));return this.Ja()?Wt(n,this.wl):n}Il(){this.pl=null,this.xl.Wa()}po(){if(this.Rl()&&!this.Tl())return;const e=this.el.hl;if(e===null)return;let s=null;const i=this.co();let a=0,n=0;for(const c of i){if(!c.Vt())continue;const d=c.zt();if(d===null)continue;const m=c.Mh(e.Uh(),e.bi());let f=m&&m.Qe();if(f!==null){switch(this.Ps.mode){case 1:f=It(f,this.wl);break;case 2:f=ho(f,d.Wt);break;case 3:f=uo(f,d.Wt)}if(s=s===null?f:s.vn(S(f)),m!==null){const g=m.tr();g!==null&&(a=Math.max(a,g.above),n=Math.max(n,g.below))}}}if(this.$a()&&(a=Math.max(a,this.Ya()),n=Math.max(n,this.Ya())),a===this.ll&&n===this.ol||(this.ll=a,this.ol=n,this.pl=null,this.kl()),s!==null){if(s.$e()===s.qe()){const c=5*this.fo();this.Ja()&&(s=ft(s,this.wl)),s=new _e(s.$e()-c,s.qe()+c),this.Ja()&&(s=It(s,this.wl))}if(this.Ja()){const c=ft(s,this.wl),d=Es(c);if(o=d,l=this.wl,o.Va!==l.Va||o.Ba!==l.Ba){const m=this.nl!==null?ft(this.nl,this.wl):null;this.wl=d,s=It(c,d),m!==null&&(this.nl=It(m,d))}}this.Bl(s)}else this.Ge===null&&(this.Bl(new _e(-.5,.5)),this.wl=Es(null));var o,l}$l(){return this.Le()?mt:this.Dl()?Et:this.Ja()?e=>xs(e,this.wl):null}vo(e,s,i){return s===void 0?(i===void 0&&(i=this.ea()),i.format(e)):s(e)}mo(e,s,i){return s===void 0?(i===void 0&&(i=this.ea()),i.formatTickmarks(e)):s(e)}nr(e,s){return this.vo(e,this.bl.priceFormatter,s)}uo(e,s){const i=this.bl.priceFormatter;return this.mo(e,this.bl.tickmarksPriceFormatter??(i?a=>a.map(i):void 0),s)}oo(e,s){return this.vo(e,this.bl.percentageFormatter,s)}_o(e,s){const i=this.bl.percentageFormatter;return this.mo(e,this.bl.tickmarksPercentageFormatter??(i?a=>a.map(i):void 0),s)}}function Oi(r){return r instanceof Ns}class Vi{constructor(e,s){this.cl=[],this.wo=new Map,this.il=0,this.Mo=0,this.bo=1,this.fl=null,this.So=!1,this.xo=new ce,this.yh=[],this.uh=e,this.ts=s,this.Co=new co(this);const i=s.N();this.Po=this.yo("left",i.leftPriceScale),this.ko=this.yo("right",i.rightPriceScale),this.Po.El().i(this.To.bind(this,this.Po),this),this.ko.El().i(this.To.bind(this,this.ko),this),this.Ro(i)}Ro(e){if(e.leftPriceScale&&this.Po.hr(e.leftPriceScale),e.rightPriceScale&&this.ko.hr(e.rightPriceScale),e.localization&&(this.Po.wa(),this.ko.wa()),e.overlayPriceScales){const s=Array.from(this.wo.values());for(const i of s){const a=S(i[0].Ft());a.hr(e.overlayPriceScales),e.localization&&a.wa()}}}Do(e){switch(e){case"left":return this.Po;case"right":return this.ko}return this.wo.has(e)?Re(this.wo.get(e))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.El().u(this),this.ko.El().u(this),this.cl.forEach(e=>{e.m&&e.m()}),this.yh=this.yh.filter(e=>{const s=e.oh();return s.detached&&s.detached(),!1}),this.xo.p()}Bo(){return this.bo}Io(e){this.bo=e}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.il}Eo(e){this.Mo=e,this.Ao()}Al(e){this.il=e,this.Po.Al(e),this.ko.Al(e),this.cl.forEach(s=>{if(this.Un(s)){const i=s.Ft();i!==null&&i.Al(e)}}),this.Ao()}zo(e){this.So=e}Lo(){return this.So}Oo(){return this.cl.filter(Oi)}Ma(){return this.cl}Un(e){const s=e.Ft();return s===null||this.Po!==s&&this.ko!==s}Gl(e,s,i){this.No(e,s,i?e.hs():this.cl.length)}Ql(e,s){const i=this.cl.indexOf(e);je(i!==-1,"removeDataSource: invalid data source"),this.cl.splice(i,1),s||this.cl.forEach((o,l)=>o.ls(l));const a=S(e.Ft()).ma();if(this.wo.has(a)){const o=Re(this.wo.get(a)),l=o.indexOf(e);l!==-1&&(o.splice(l,1),o.length===0&&this.wo.delete(a))}const n=e.Ft();n&&n.Ma().indexOf(e)>=0&&(n.Ql(e),this.Fo(n)),this.fl=null}qn(e){return e===this.Po?"left":e===this.ko?"right":"overlay"}Wo(){return this.Po}Ho(){return this.ko}Uo(e,s){e.no(s)}$o(e,s){e.eo(s),this.Ao()}qo(e){e.ro()}Yo(e,s){e.ho(s)}jo(e,s){e.ao(s),this.Ao()}Ko(e){e.lo()}Ao(){this.cl.forEach(e=>{e.Ns()})}ks(){let e=null;return this.ts.N().rightPriceScale.visible&&this.ko.Ma().length!==0?e=this.ko:this.ts.N().leftPriceScale.visible&&this.Po.Ma().length!==0?e=this.Po:this.cl.length!==0&&(e=this.cl[0].Ft()),e===null&&(e=this.ko),e}$n(){let e=null;return this.ts.N().rightPriceScale.visible?e=this.ko:this.ts.N().leftPriceScale.visible&&(e=this.Po),e}Fo(e){e!==null&&e.Tl()&&this.Xo(e)}Zo(e){const s=this.uh.Pe();e.yl({sn:!0}),s!==null&&e.do(s),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.ko)}Jo(){this.Fo(this.Po),this.Fo(this.ko),this.cl.forEach(e=>{this.Un(e)&&this.Fo(e.Ft())}),this.Ao(),this.ts.ar()}Dt(){return this.fl===null&&(this.fl=Ka(this.cl)),this.fl}Qo(e,s){s=At(s,0,this.cl.length-1);const i=this.cl.indexOf(e);je(i!==-1,"setSeriesOrder: invalid data source"),this.cl.splice(i,1),this.cl.splice(s,0,e),this.cl.forEach((a,n)=>a.ls(n)),this.fl=null;for(const a of[this.Po,this.ko])a.Jl(),a.wa();this.ts.ar()}Bt(){return this.Dt().filter(Oi)}t_(){return this.xo}i_(){return this.Co}_a(e){this.yh.push(new Kn(e))}ua(e){this.yh=this.yh.filter(s=>s.oh()!==e),e.detached&&e.detached(),this.ts.ar()}s_(){return this.yh}sa(e,s){return this.yh.map(i=>i.jn(e,s)).filter(i=>i!==null)}Xo(e){const s=e.co();if(s&&s.length>0&&!this.uh.Ki()){const i=this.uh.Pe();i!==null&&e.do(i)}e.Ns()}No(e,s,i){let a=this.Do(s);if(a===null&&(a=this.yo(s,this.ts.N().overlayPriceScales)),this.cl.splice(i,0,e),!js(s)){const n=this.wo.get(s)||[];n.push(e),this.wo.set(s,n)}e.ls(i),a.Gl(e),e._s(a),this.Fo(a),this.fl=null}To(e,s,i){s.ie!==i.ie&&this.Xo(e)}yo(e,s){const i={visible:!0,autoScale:!0,...Ue(s)},a=new mo(e,i,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return a.Al(this.$t()),a}}function is(r){return{n_:r.n_,e_:{Kn:r.r_.externalId},h_:r.r_.cursorStyle}}function fo(r,e,s,i){for(const a of r){const n=a.Tt(i);if(n!==null&&n.jn){const o=n.jn(e,s);if(o!==null)return{a_:a,e_:o}}}return null}function po(r){return r.Fs!==void 0}function Qa(r,e,s){const i=[r,...r.Dt()],a=function(n,o,l){var g;let c,d;for(const x of n){const b=((g=x.sa)==null?void 0:g.call(x,o,l))??[];for(const v of b)m=v.zOrder,f=c==null?void 0:c.zOrder,(!f||m==="top"&&f!=="top"||m==="normal"&&f==="bottom")&&(c=v,d=x)}var m,f;return c&&d?{r_:c,n_:d}:null}(i,e,s);if((a==null?void 0:a.r_.zOrder)==="top")return is(a);for(const n of i){if(a&&a.n_===n&&a.r_.zOrder!=="bottom"&&!a.r_.isBackground)return is(a);if(po(n)){const o=fo(n.Fs(r),e,s,r);if(o!==null)return{n_:n,a_:o.a_,e_:o.e_}}if(a&&a.n_===n&&a.r_.zOrder!=="bottom"&&a.r_.isBackground)return is(a)}return a!=null&&a.r_?is(a):null}class go{constructor(e,s,i=50){this.yn=0,this.kn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=e,this.o_=s,this.Vn=i}__(e){const s=e.time,i=this.o_.cacheKey(s),a=this.Dn.get(i);if(a!==void 0)return a.u_;if(this.yn===this.Vn){const o=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(Re(o)),this.Tn++,this.yn--}const n=this.l_(e);return this.Dn.set(i,{u_:n,An:this.kn}),this.Rn.set(this.kn,i),this.yn++,this.kn++,n}}class Lt{constructor(e,s){je(e<=s,"right should be >= left"),this.c_=e,this.d_=s}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(e){return this.c_<=e&&e<=this.d_}He(e){return this.c_===e.Uh()&&this.d_===e.bi()}}function Yi(r,e){return r===null||e===null?r===e:r.He(e)}class xo{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(e){this.v_=e,this.Dn=null}w_(e,s){this.g_(s),this.Dn=null;for(let i=s;i<e.length;++i){const a=e[i];let n=this.p_.get(a.timeWeight);n===void 0&&(n=[],this.p_.set(a.timeWeight,n)),n.push({index:i,time:a.time,weight:a.timeWeight,originalTime:a.originalTime})}}M_(e,s,i,a,n){const o=Math.ceil(s/e);return this.Dn!==null&&this.Dn.b_===o&&n===this.Dn.S_&&i===this.Dn.x_||(this.Dn={S_:n,x_:i,Da:this.C_(o,i,a),b_:o}),this.Dn.Da}g_(e){if(e===0)return void this.p_.clear();const s=[];this.p_.forEach((i,a)=>{e<=i[0].index?s.push(a):i.splice(yt(i,e,n=>n.index<e),1/0)});for(const i of s)this.p_.delete(i)}C_(e,s,i){let a=[];const n=o=>!s||i.has(o.index);for(const o of Array.from(this.p_.keys()).sort((l,c)=>c-l)){if(!this.p_.get(o))continue;const l=a;a=[];const c=l.length;let d=0;const m=Re(this.p_.get(o)),f=m.length;let g=1/0,x=-1/0;for(let b=0;b<f;b++){const v=m[b],y=v.index;for(;d<c;){const k=l[d],_=k.index;if(!(_<y&&n(k))){g=_;break}d++,a.push(k),x=_,g=1/0}if(g-y>=e&&y-x>=e&&n(v))a.push(v),x=y;else if(this.v_)return l}for(;d<c;d++)n(l[d])&&a.push(l[d])}return a}}class pt{constructor(e){this.P_=e}y_(){return this.P_===null?null:new Lt(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}k_(){return this.P_}static T_(){return new pt(null)}}function bo(r,e){return r.weight>e.weight?r:e}class yo{constructor(e,s,i,a){this.Mo=0,this.R_=null,this.D_=[],this.ml=null,this.vl=null,this.V_=new xo,this.B_=new Map,this.I_=pt.T_(),this.E_=!0,this.A_=new ce,this.z_=new ce,this.L_=new ce,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=s,this.bl=i,this.U_=s.rightOffset,this.q_=s.barSpacing,this.ts=e,this.Y_(s),this.o_=a,this.j_(),this.V_.m_(s.uniformDistribution),this.K_()}N(){return this.Ps}X_(e){Pe(this.bl,e),this.Z_(),this.j_()}hr(e,s){Pe(this.Ps,e),this.Ps.fixLeftEdge&&this.G_(),this.Ps.fixRightEdge&&this.J_(),e.barSpacing!==void 0&&this.ts.dn(e.barSpacing),e.rightOffset!==void 0&&this.ts.fn(e.rightOffset),this.Y_(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ts.dn(e.barSpacing??this.q_),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.K_(),this.Z_(),this.j_(),this.L_.p()}Rs(e){var s;return((s=this.D_[e])==null?void 0:s.time)??null}ss(e){return this.D_[e]??null}Q_(e,s){if(this.D_.length<1)return null;if(this.o_.key(e)>this.o_.key(this.D_[this.D_.length-1].time))return s?this.D_.length-1:null;const i=yt(this.D_,this.o_.key(e),(a,n)=>this.o_.key(a.time)<n);return this.o_.key(e)<this.o_.key(this.D_[i].time)?s?i:null:i}Ki(){return this.Mo===0||this.D_.length===0||this.R_===null}tu(){return this.D_.length>0}Pe(){return this.iu(),this.I_.y_()}su(){return this.iu(),this.I_.k_()}nu(){const e=this.Pe();if(e===null)return null;const s={from:e.Uh(),to:e.bi()};return this.eu(s)}eu(e){const s=Math.round(e.from),i=Math.round(e.to),a=S(this.ru()),n=S(this.hu());return{from:S(this.ss(Math.max(a,s))),to:S(this.ss(Math.min(n,i)))}}au(e){return{from:S(this.Q_(e.from,!0)),to:S(this.Q_(e.to,!0))}}Qi(){return this.Mo}Eo(e){if(!isFinite(e)||e<=0||this.Mo===e)return;const s=this.su(),i=this.Mo;if(this.Mo=e,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&i!==0){const a=this.q_*e/i;this.q_=a}if(this.Ps.fixLeftEdge&&s!==null&&s.Uh()<=0){const a=i-e;this.U_-=Math.round(a/this.q_)+1,this.E_=!0}this.lu(),this.ou()}qt(e){if(this.Ki()||!$t(e))return 0;const s=this._u()+this.U_-e;return this.Mo-(s+.5)*this.q_-1}uu(e,s){const i=this._u(),a=s===void 0?0:s.from,n=s===void 0?e.length:s.to;for(let o=a;o<n;o++){const l=e[o].wt,c=i+this.U_-l,d=this.Mo-(c+.5)*this.q_-1;e[o]._t=d}}cu(e,s){const i=Math.ceil(this.du(e));return s&&this.Ps.ignoreWhitespaceIndices&&!this.fu(i)?this.pu(i):i}fn(e){this.E_=!0,this.U_=e,this.ou(),this.ts.vu(),this.ts.ar()}mu(){return this.q_}dn(e){const s=this.q_;if(this.wu(e),this.Ps.rightOffsetPixels!==void 0&&s!==0){const i=this.U_*s/this.q_;this.U_=i}this.ou(),this.ts.vu(),this.ts.ar()}gu(){return this.U_}Da(){if(this.Ki())return null;if(this.N_!==null)return this.N_;const e=this.q_,s=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),i=Math.round(s/e),a=S(this.Pe()),n=Math.max(a.Uh(),a.Uh()-i),o=Math.max(a.bi(),a.bi()-i),l=this.V_.M_(e,s,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),c=this.ru()+i,d=this.hu()-i,m=this.Mu(),f=this.Ps.fixLeftEdge||m,g=this.Ps.fixRightEdge||m;let x=0;for(const b of l){if(!(n<=b.index&&b.index<=o))continue;let v;x<this.H_.length?(v=this.H_[x],v.coord=this.qt(b.index),v.label=this.bu(b),v.weight=b.weight):(v={needAlignCoordinate:!1,coord:this.qt(b.index),label:this.bu(b),weight:b.weight},this.H_.push(v)),this.q_>s/2&&!m?v.needAlignCoordinate=!1:v.needAlignCoordinate=f&&b.index<=c||g&&b.index>=d,x++}return this.H_.length=x,this.N_=this.H_,this.H_}Su(){let e;this.E_=!0,this.dn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.mu():this.Ps.rightOffset,this.fn(e)}xu(e){this.E_=!0,this.R_=e,this.ou(),this.G_()}Cu(e,s){const i=this.du(e),a=this.mu(),n=a+s*(a/10);this.dn(n),this.Ps.rightBarStaysOnScroll||this.fn(this.gu()+(i-this.du(e)))}no(e){this.ml&&this.lo(),this.vl===null&&this.O_===null&&(this.Ki()||(this.vl=e,this.Pu()))}eo(e){if(this.O_===null)return;const s=At(this.Mo-e,0,this.Mo),i=At(this.Mo-S(this.vl),0,this.Mo);s!==0&&i!==0&&this.dn(this.O_.mu*s/i)}ro(){this.vl!==null&&(this.vl=null,this.yu())}ho(e){this.ml===null&&this.O_===null&&(this.Ki()||(this.ml=e,this.Pu()))}ao(e){if(this.ml===null)return;const s=(this.ml-e)/this.mu();this.U_=S(this.O_).gu+s,this.E_=!0,this.ou()}lo(){this.ml!==null&&(this.ml=null,this.yu())}ku(){this.Tu(this.Ps.rightOffset)}Tu(e,s=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(s)||s<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.U_,a=performance.now();this.ts._n({Ru:n=>(n-a)/s>=1,Du:n=>{const o=(n-a)/s;return o>=1?e:i+(e-i)*o}})}yt(e,s){this.E_=!0,this.D_=e,this.V_.w_(e,s),this.ou()}Vu(){return this.A_}Bu(){return this.z_}Iu(){return this.L_}_u(){return this.R_||0}Eu(e,s){const i=e.f_(),a=s&&this.Ps.rightOffsetPixels||0;this.wu((this.Mo-a)/i),this.U_=e.bi()-this._u(),s&&(this.U_=a?a/this.mu():this.Ps.rightOffset),this.ou(),this.E_=!0,this.ts.vu(),this.ts.ar()}Au(){const e=this.ru(),s=this.hu();e!==null&&s!==null&&this.Eu(new Lt(e,s),!0)}zu(e){const s=new Lt(e.from,e.to);this.Eu(s)}ns(e){return this.bl.timeFormatter!==void 0?this.bl.timeFormatter(e.originalTime):this.o_.formatHorzItem(e.time)}K_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const e=this.ts.js();for(const s of e)for(const i of s.va())this.F_.set(i,!0);this.W_++}Mu(){const e=this.ts.N().handleScroll,s=this.ts.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||s.axisDoubleClickReset.time||s.axisPressedMouseMove.time||s.mouseWheel||s.pinch)}ru(){return this.D_.length===0?null:0}hu(){return this.D_.length===0?null:this.D_.length-1}Lu(e){return(this.Mo-1-e)/this.q_}du(e){const s=this.Lu(e),i=this._u()+this.U_-s;return Math.round(1e6*i)/1e6}wu(e){const s=this.q_;this.q_=e,this.lu(),s!==this.q_&&(this.E_=!0,this.Ou())}iu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Nu(pt.T_());const e=this._u(),s=this.Mo/this.q_,i=this.U_+e,a=new Lt(i-s+1,i);this.Nu(new pt(a))}lu(){const e=At(this.q_,this.Fu(),this.Wu());this.q_!==e&&(this.q_=e,this.E_=!0)}Wu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Fu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.D_.length!==0?this.Mo/this.D_.length:this.Ps.minBarSpacing}ou(){const e=this.Hu();e!==null&&this.U_<e&&(this.U_=e,this.E_=!0);const s=this.Uu();this.U_>s&&(this.U_=s,this.E_=!0)}Hu(){const e=this.ru(),s=this.R_;return e===null||s===null?null:e-s-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Uu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Pu(){this.O_={mu:this.mu(),gu:this.gu()}}yu(){this.O_=null}bu(e){let s=this.B_.get(e.weight);return s===void 0&&(s=new go(i=>this.$u(i),this.o_),this.B_.set(e.weight,s)),s.__(e)}$u(e){return this.o_.formatTickmark(e,this.bl)}Nu(e){const s=this.I_;this.I_=e,Yi(s.y_(),this.I_.y_())||this.A_.p(),Yi(s.k_(),this.I_.k_())||this.z_.p(),this.Ou()}Ou(){this.N_=null}Z_(){this.Ou(),this.B_.clear()}j_(){this.o_.updateFormatter(this.bl)}G_(){if(!this.Ps.fixLeftEdge)return;const e=this.ru();if(e===null)return;const s=this.Pe();if(s===null)return;const i=s.Uh()-e;if(i<0){const a=this.U_-i-1;this.fn(a)}this.lu()}J_(){this.ou(),this.lu()}fu(e){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(e)||!1}pu(e){const s=function*(a){const n=Math.round(a),o=n<a;let l=1;for(;;)o?(yield n+l,yield n-l):(yield n-l,yield n+l),l++}(e),i=this.hu();for(;i;){const a=s.next().value;if(this.F_.get(a))return a;if(a<0||a>i)break}return e}Y_(e){if(e.rightOffsetPixels!==void 0){const s=e.rightOffsetPixels/(e.barSpacing||this.q_);this.ts.fn(s)}}}var Ui,qi,Hi,Gi,Ji;(function(r){r[r.OnTouchEnd=0]="OnTouchEnd",r[r.OnNextTap=1]="OnNextTap"})(Ui||(Ui={}));class vo{constructor(e,s,i){this.qu=[],this.Yu=[],this.Mo=0,this.ju=null,this.Ku=new ce,this.Xu=new ce,this.Zu=null,this.Gu=e,this.Ps=s,this.o_=i,this.Sl=new yn(this.Ps.layout.colorParsers),this.Ju=new bn(this),this.uh=new yo(this,s.timeScale,this.Ps.localization,i),this.Ct=new Pn(this,s.crosshair),this.Qu=new no(s.crosshair),s.addDefaultPane&&(this.tc(0),this.qu[0].Io(2)),this.sc=this.nc(0),this.ec=this.nc(1)}Ih(){this.rc(ve.gn())}ar(){this.rc(ve.wn())}Zh(){this.rc(new ve(1))}Eh(e){const s=this.hc(e);this.rc(s)}ac(){return this.ju}lc(e){var i,a,n,o;if(((i=this.ju)==null?void 0:i.n_)===(e==null?void 0:e.n_)&&((n=(a=this.ju)==null?void 0:a.e_)==null?void 0:n.Kn)===((o=e==null?void 0:e.e_)==null?void 0:o.Kn))return;const s=this.ju;this.ju=e,s!==null&&this.Eh(s.n_),e!==null&&e.n_!==(s==null?void 0:s.n_)&&this.Eh(e.n_)}N(){return this.Ps}hr(e){Pe(this.Ps,e),this.qu.forEach(s=>s.Ro(e)),e.timeScale!==void 0&&this.uh.hr(e.timeScale),e.localization!==void 0&&this.uh.X_(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Ku.p(),this.sc=this.nc(0),this.ec=this.nc(1),this.Ih()}oc(e,s,i=0){const a=this.qu[i];if(a===void 0)return;if(e==="left")return Pe(this.Ps,{leftPriceScale:s}),a.Ro({leftPriceScale:s}),this.Ku.p(),void this.Ih();if(e==="right")return Pe(this.Ps,{rightPriceScale:s}),a.Ro({rightPriceScale:s}),this.Ku.p(),void this.Ih();const n=this._c(e,i);n!==null&&(n.Ft.hr(s),this.Ku.p())}_c(e,s){const i=this.qu[s];if(i===void 0)return null;const a=i.Do(e);return a!==null?{Us:i,Ft:a}:null}Et(){return this.uh}$s(){return this.qu}uc(){return this.Ct}cc(){return this.Xu}dc(e,s){e.Al(s),this.vu()}Eo(e){this.Mo=e,this.uh.Eo(this.Mo),this.qu.forEach(s=>s.Eo(e)),this.vu()}fc(e){this.qu.length!==1&&(je(e>=0&&e<this.qu.length,"Invalid pane index"),this.qu.splice(e,1),this.Ih())}vc(e,s){if(this.qu.length<2)return;je(e>=0&&e<this.qu.length,"Invalid pane index");const i=this.qu[e],a=this.qu.reduce((f,g)=>f+g.Bo(),0),n=this.qu.reduce((f,g)=>f+g.$t(),0),o=n-30*(this.qu.length-1);s=Math.min(o,Math.max(30,s));const l=a/n,c=i.$t();i.Io(s*l);let d=s-c,m=this.qu.length-1;for(const f of this.qu)if(f!==i){const g=Math.min(o,Math.max(30,f.$t()-d/m));d-=f.$t()-g,m-=1;const x=g*l;f.Io(x)}this.Ih()}mc(e,s){je(e>=0&&e<this.qu.length&&s>=0&&s<this.qu.length,"Invalid pane index");const i=this.qu[e],a=this.qu[s];this.qu[e]=a,this.qu[s]=i,this.Ih()}wc(e,s){if(je(e>=0&&e<this.qu.length&&s>=0&&s<this.qu.length,"Invalid pane index"),e===s)return;const[i]=this.qu.splice(e,1);this.qu.splice(s,0,i),this.Ih()}Uo(e,s,i){e.Uo(s,i)}$o(e,s,i){e.$o(s,i),this.Ah(),this.rc(this.gc(e,2))}qo(e,s){e.qo(s),this.rc(this.gc(e,2))}Yo(e,s,i){s.Tl()||e.Yo(s,i)}jo(e,s,i){s.Tl()||(e.jo(s,i),this.Ah(),this.rc(this.gc(e,2)))}Ko(e,s){s.Tl()||(e.Ko(s),this.rc(this.gc(e,2)))}Zo(e,s){e.Zo(s),this.rc(this.gc(e,2))}Mc(e){this.uh.no(e)}bc(e,s){const i=this.Et();if(i.Ki()||s===0)return;const a=i.Qi();e=Math.max(1,Math.min(e,a)),i.Cu(e,s),this.vu()}Sc(e){this.xc(0),this.Cc(e),this.Pc()}yc(e){this.uh.eo(e),this.vu()}kc(){this.uh.ro(),this.ar()}xc(e){this.uh.ho(e)}Cc(e){this.uh.ao(e),this.vu()}Pc(){this.uh.lo(),this.ar()}js(){return this.Yu}Tc(e,s,i,a,n){this.Ct.Vs(e,s);let o=NaN,l=this.uh.cu(e,!0);const c=this.uh.Pe();c!==null&&(l=Math.min(Math.max(c.Uh(),l),c.bi()));const d=a.ks(),m=d.zt();if(m!==null&&(o=d.Ts(s,m)),o=this.Qu.ga(o,l,a),this.Ct.As(l,o,a),this.Zh(),!n){const f=Qa(a,e,s);this.lc(f&&{n_:f.n_,e_:f.e_,h_:f.h_||null}),this.Xu.p(this.Ct.It(),{x:e,y:s},i)}}Rc(e,s,i){const a=i.ks(),n=a.zt(),o=a.Nt(e,S(n)),l=this.uh.Q_(s,!0),c=this.uh.qt(S(l));this.Tc(c,o,null,i,!0)}Dc(e){this.uc().Ls(),this.Zh(),e||this.Xu.p(null,null,null)}Ah(){const e=this.Ct.Us();if(e!==null){const s=this.Ct.Is(),i=this.Ct.Es();this.Tc(s,i,null,e)}this.Ct.Ns()}Vc(e,s,i){const a=this.uh.Rs(0);s!==void 0&&i!==void 0&&this.uh.yt(s,i);const n=this.uh.Rs(0),o=this.uh._u(),l=this.uh.Pe();if(l!==null&&a!==null&&n!==null){const c=l.Te(o),d=this.o_.key(a)>this.o_.key(n),m=e!==null&&e>o&&!d,f=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,g=c&&(i!==void 0||f)&&this.uh.N().shiftVisibleRangeOnNewBar;if(m&&!g){const x=e-o;this.uh.fn(this.uh.gu()-x)}}this.uh.xu(e)}Lh(e){e!==null&&e.Jo()}Hn(e){if(function(i){return i instanceof Vi}(e))return e;const s=this.qu.find(i=>i.Dt().includes(e));return s===void 0?null:s}vu(){this.qu.forEach(e=>e.Jo()),this.Ah()}m(){this.qu.forEach(e=>e.m()),this.qu.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Bc(){return this.Ju}Yn(){return this.Ju.N()}Vo(){return this.Ku}Ic(e,s){const i=this.tc(s);this.Ec(e,i),this.Yu.push(e),this.Yu.length===1?this.Ih():this.ar()}Ac(e){const s=this.Hn(e),i=this.Yu.indexOf(e);je(i!==-1,"Series not found");const a=S(s);this.Yu.splice(i,1),a.Ql(e),e.m&&e.m(),this.uh.K_(),this.zc(a)}Bh(e,s){const i=S(this.Hn(e));i.Ql(e,!0),i.Gl(e,s,!0)}Au(){const e=ve.wn();e.rn(),this.rc(e)}Lc(e){const s=ve.wn();s.ln(e),this.rc(s)}cn(){const e=ve.wn();e.cn(),this.rc(e)}dn(e){const s=ve.wn();s.dn(e),this.rc(s)}fn(e){const s=ve.wn();s.fn(e),this.rc(s)}_n(e){const s=ve.wn();s._n(e),this.rc(s)}hn(){const e=ve.wn();e.hn(),this.rc(e)}Oc(){return this.Ps.rightPriceScale.visible?"right":"left"}Nc(e,s){if(je(s>=0,"Index should be greater or equal to 0"),s===this.Fc(e))return;const i=S(this.Hn(e));i.Ql(e);const a=this.tc(s);this.Ec(e,a),i.Ma().length===0&&this.zc(i),this.Ih()}Wc(){return this.ec}$(){return this.sc}Ut(e){const s=this.ec,i=this.sc;if(s===i)return s;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Zu===null||this.Zu.mr!==i||this.Zu.wr!==s)this.Zu={mr:i,wr:s,Hc:new Map};else{const n=this.Zu.Hc.get(e);if(n!==void 0)return n}const a=this.Sl.tt(i,s,e/100);return this.Zu.Hc.set(e,a),a}Uc(e){return this.qu.indexOf(e)}Xi(){return this.Sl}$c(){return this.qc()}qc(e){const s=new Vi(this.uh,this);this.qu.push(s);const i=e??this.qu.length-1,a=ve.gn();return a.Qs(i,{tn:0,sn:!0}),this.rc(a),s}tc(e){return je(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.qu.length,e))<this.qu.length?this.qu[e]:this.qc(e)}Fc(e){return this.qu.findIndex(s=>s.Oo().includes(e))}gc(e,s){const i=new ve(s);if(e!==null){const a=this.qu.indexOf(e);i.Qs(a,{tn:s})}return i}hc(e,s){return s===void 0&&(s=2),this.gc(this.Hn(e),s)}rc(e){this.Gu&&this.Gu(e),this.qu.forEach(s=>s.i_().lr().yt())}Ec(e,s){const i=e.N().priceScaleId,a=i!==void 0?i:this.Oc();s.Gl(e,a),js(a)||e.hr(e.N())}nc(e){const s=this.Ps.layout;return s.background.type==="gradient"?e===0?s.background.topColor:s.background.bottomColor:s.background.color}zc(e){!e.Lo()&&e.Ma().length===0&&this.qu.length>1&&this.qu.splice(this.Uc(e),1)}}function Za(r){if(r>=1)return 0;let e=0;for(;e<8;e++){const s=Math.round(r);if(Math.abs(s-r)<1e-8)return e;r*=10}return e}function ei(r){return!bt(r)&&!Vt(r)}function Xa(r){return bt(r)}(function(r){r[r.Disabled=0]="Disabled",r[r.Continuous=1]="Continuous",r[r.OnDataUpdate=2]="OnDataUpdate"})(qi||(qi={})),function(r){r[r.LastBar=0]="LastBar",r[r.LastVisible=1]="LastVisible"}(Hi||(Hi={})),function(r){r.Solid="solid",r.VerticalGradient="gradient"}(Gi||(Gi={})),function(r){r[r.Year=0]="Year",r[r.Month=1]="Month",r[r.DayOfMonth=2]="DayOfMonth",r[r.Time=3]="Time",r[r.TimeWithSeconds=4]="TimeWithSeconds"}(Ji||(Ji={}));const Ki=r=>r.getUTCFullYear();function jo(r,e,s){return e.replace(/yyyy/g,(i=>qe(Ki(i),4))(r)).replace(/yy/g,(i=>qe(Ki(i)%100,2))(r)).replace(/MMMM/g,((i,a)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(a,{month:"long"}))(r,s)).replace(/MMM/g,((i,a)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(a,{month:"short"}))(r,s)).replace(/MM/g,(i=>qe((a=>a.getUTCMonth()+1)(i),2))(r)).replace(/dd/g,(i=>qe((a=>a.getUTCDate())(i),2))(r))}class er{constructor(e="yyyy-MM-dd",s="default"){this.Yc=e,this.jc=s}__(e){return jo(e,this.Yc,this.jc)}}class wo{constructor(e){this.Kc=e||"%h:%m:%s"}__(e){return this.Kc.replace("%h",qe(e.getUTCHours(),2)).replace("%m",qe(e.getUTCMinutes(),2)).replace("%s",qe(e.getUTCSeconds(),2))}}const No={Xc:"yyyy-MM-dd",Zc:"%h:%m:%s",Gc:" ",Jc:"default"};class So{constructor(e={}){const s={...No,...e};this.Qc=new er(s.Xc,s.Jc),this.td=new wo(s.Zc),this.sd=s.Gc}__(e){return`${this.Qc.__(e)}${this.sd}${this.td.__(e)}`}}function as(r){return 60*r*60*1e3}function Ls(r){return 60*r*1e3}const rs=[{nd:(Qi=1,1e3*Qi),ed:10},{nd:Ls(1),ed:20},{nd:Ls(5),ed:21},{nd:Ls(30),ed:22},{nd:as(1),ed:30},{nd:as(3),ed:31},{nd:as(6),ed:32},{nd:as(12),ed:33}];var Qi;function Zi(r,e){if(r.getUTCFullYear()!==e.getUTCFullYear())return 70;if(r.getUTCMonth()!==e.getUTCMonth())return 60;if(r.getUTCDate()!==e.getUTCDate())return 50;for(let s=rs.length-1;s>=0;--s)if(Math.floor(e.getTime()/rs[s].nd)!==Math.floor(r.getTime()/rs[s].nd))return rs[s].ed;return 0}function Ds(r){let e=r;if(Vt(r)&&(e=li(r)),!ei(e))throw new Error("time must be of type BusinessDay");const s=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{rd:Math.round(s.getTime()/1e3),hd:e}}function Xi(r){if(!Xa(r))throw new Error("time must be of type isUTCTimestamp");return{rd:r}}function li(r){const e=new Date(r);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${r}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function ea(r){Vt(r.time)&&(r.time=li(r.time))}class ta{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(s){s.forEach(ea)}(e):ea(e)}createConverterToInternalObj(e){return S(function(s){return s.length===0?null:ei(s[0].time)||Vt(s[0].time)?Ds:Xi}(e))}key(e){return typeof e=="object"&&"rd"in e?e.rd:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const s=e;return s.hd===void 0?new Date(1e3*s.rd).getTime():new Date(Date.UTC(s.hd.year,s.hd.month-1,s.hd.day)).getTime()}convertHorzItemToInternal(e){return Xa(s=e)?Xi(s):ei(s)?Ds(s):Ds(li(s));var s}updateFormatter(e){if(!this.Ps)return;const s=e.dateFormat;this.Ps.timeScale.timeVisible?this.ad=new So({Xc:s,Zc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Gc:"   ",Jc:e.locale}):this.ad=new er(s,e.locale)}formatHorzItem(e){const s=e;return this.ad.__(new Date(1e3*s.rd))}formatTickmark(e,s){const i=function(n,o,l){switch(n){case 0:case 10:return o?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),a=this.Ps.timeScale;if(a.tickMarkFormatter!==void 0){const n=a.tickMarkFormatter(e.originalTime,i,s.locale);if(n!==null)return n}return function(n,o,l){const c={};switch(o){case 0:c.year="numeric";break;case 1:c.month="short";break;case 2:c.day="numeric";break;case 3:c.hour12=!1,c.hour="2-digit",c.minute="2-digit";break;case 4:c.hour12=!1,c.hour="2-digit",c.minute="2-digit",c.second="2-digit"}const d=n.hd===void 0?new Date(1e3*n.rd):new Date(Date.UTC(n.hd.year,n.hd.month-1,n.hd.day));return new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()).toLocaleString(l,c)}(e.time,i,s.locale)}maxTickMarkWeight(e){let s=e.reduce(bo,e[0]).weight;return s>30&&s<50&&(s=30),s}fillWeightsForPoints(e,s){(function(i,a=0){if(i.length===0)return;let n=a===0?null:i[a-1].time.rd,o=n!==null?new Date(1e3*n):null,l=0;for(let c=a;c<i.length;++c){const d=i[c],m=new Date(1e3*d.time.rd);o!==null&&(d.timeWeight=Zi(m,o)),l+=d.time.rd-(n||d.time.rd),n=d.time.rd,o=m}if(a===0&&i.length>1){const c=Math.ceil(l/(i.length-1)),d=new Date(1e3*(i[0].time.rd-c));i[0].timeWeight=Zi(new Date(1e3*i[0].time.rd),d)}})(e,s)}static ld(e){return Pe({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const vt=typeof window<"u";function sa(){return!!vt&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Fs(){return!!vt&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function ti(r){return r+r%2}function ko(r){vt&&window.chrome!==void 0&&r.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class Ss{constructor(e,s,i){this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.vd=null,this.md=!1,this.wd=null,this.gd=null,this.Md=!1,this.bd=!1,this.Sd=!1,this.xd=null,this.Cd=null,this.Pd=null,this.yd=null,this.kd=null,this.Td=null,this.Rd=null,this.Dd=0,this.Vd=!1,this.Bd=!1,this.Id=!1,this.Ed=0,this.Ad=null,this.zd=!Fs(),this.Ld=a=>{this.Od(a)},this.Nd=a=>{if(this.Fd(a)){const n=this.Wd(a);if(++this.dd,this.fd&&this.dd>1){const{Hd:o}=this.Ud(Oe(a),this.pd);o<30&&!this.Sd&&this.$d(n,this.Yd.qd),this.jd()}}else{const n=this.Wd(a);if(++this.od,this._d&&this.od>1){const{Hd:o}=this.Ud(Oe(a),this.ud);o<5&&!this.bd&&this.Kd(n,this.Yd.Xd),this.Zd()}}},this.Gd=e,this.Yd=s,this.Ps=i,this.Jd()}m(){this.xd!==null&&(this.xd(),this.xd=null),this.Cd!==null&&(this.Cd(),this.Cd=null),this.yd!==null&&(this.yd(),this.yd=null),this.kd!==null&&(this.kd(),this.kd=null),this.Td!==null&&(this.Td(),this.Td=null),this.Pd!==null&&(this.Pd(),this.Pd=null),this.Qd(),this.Zd()}tf(e){this.yd&&this.yd();const s=this.if.bind(this);if(this.yd=()=>{this.Gd.removeEventListener("mousemove",s)},this.Gd.addEventListener("mousemove",s),this.Fd(e))return;const i=this.Wd(e);this.Kd(i,this.Yd.sf),this.zd=!0}Zd(){this._d!==null&&clearTimeout(this._d),this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}jd(){this.fd!==null&&clearTimeout(this.fd),this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}if(e){if(this.Id||this.gd!==null||this.Fd(e))return;const s=this.Wd(e);this.Kd(s,this.Yd.nf),this.zd=!0}ef(e){const s=$s(e.changedTouches,S(this.Ad));if(s===null||(this.Ed=ns(e),this.Rd!==null)||this.Bd)return;this.Vd=!0;const i=this.Ud(Oe(s),S(this.gd)),{rf:a,hf:n,Hd:o}=i;if(this.Md||!(o<5)){if(!this.Md){const l=.5*a,c=n>=l&&!this.Ps.af(),d=l>n&&!this.Ps.lf();c||d||(this.Bd=!0),this.Md=!0,this.Sd=!0,this.Qd(),this.jd()}if(!this.Bd){const l=this.Wd(e,s);this.$d(l,this.Yd._f),ht(e)}}}uf(e){if(e.button!==0)return;const s=this.Ud(Oe(e),S(this.wd)),{Hd:i}=s;if(i>=5&&(this.bd=!0,this.Zd()),this.bd){const a=this.Wd(e);this.Kd(a,this.Yd.cf)}}Ud(e,s){const i=Math.abs(s._t-e._t),a=Math.abs(s.ut-e.ut);return{rf:i,hf:a,Hd:i+a}}df(e){let s=$s(e.changedTouches,S(this.Ad));if(s===null&&e.touches.length===0&&(s=e.changedTouches[0]),s===null)return;this.Ad=null,this.Ed=ns(e),this.Qd(),this.gd=null,this.Td&&(this.Td(),this.Td=null);const i=this.Wd(e,s);if(this.$d(i,this.Yd.ff),++this.dd,this.fd&&this.dd>1){const{Hd:a}=this.Ud(Oe(s),this.pd);a<30&&!this.Sd&&this.$d(i,this.Yd.qd),this.jd()}else this.Sd||(this.$d(i,this.Yd.pf),this.Yd.pf&&ht(e));this.dd===0&&ht(e),e.touches.length===0&&this.md&&(this.md=!1,ht(e))}Od(e){if(e.button!==0)return;const s=this.Wd(e);if(this.wd=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),sa()&&this.Gd.ownerDocument.documentElement.removeEventListener("mouseleave",this.Ld),!this.Fd(e))if(this.Kd(s,this.Yd.vf),++this.od,this._d&&this.od>1){const{Hd:i}=this.Ud(Oe(e),this.ud);i<5&&!this.bd&&this.Kd(s,this.Yd.Xd),this.Zd()}else this.bd||this.Kd(s,this.Yd.mf)}Qd(){this.vd!==null&&(clearTimeout(this.vd),this.vd=null)}wf(e){if(this.Ad!==null)return;const s=e.changedTouches[0];this.Ad=s.identifier,this.Ed=ns(e);const i=this.Gd.ownerDocument.documentElement;this.Sd=!1,this.Md=!1,this.Bd=!1,this.gd=Oe(s),this.Td&&(this.Td(),this.Td=null);{const n=this.ef.bind(this),o=this.df.bind(this);this.Td=()=>{i.removeEventListener("touchmove",n),i.removeEventListener("touchend",o)},i.addEventListener("touchmove",n,{passive:!1}),i.addEventListener("touchend",o,{passive:!1}),this.Qd(),this.vd=setTimeout(this.gf.bind(this,e),240)}const a=this.Wd(e,s);this.$d(a,this.Yd.Mf),this.fd||(this.dd=0,this.fd=setTimeout(this.jd.bind(this),500),this.pd=Oe(s))}bf(e){if(e.button!==0)return;const s=this.Gd.ownerDocument.documentElement;sa()&&s.addEventListener("mouseleave",this.Ld),this.bd=!1,this.wd=Oe(e),this.kd&&(this.kd(),this.kd=null);{const a=this.uf.bind(this),n=this.Od.bind(this);this.kd=()=>{s.removeEventListener("mousemove",a),s.removeEventListener("mouseup",n)},s.addEventListener("mousemove",a),s.addEventListener("mouseup",n)}if(this.Id=!0,this.Fd(e))return;const i=this.Wd(e);this.Kd(i,this.Yd.Sf),this._d||(this.od=0,this._d=setTimeout(this.Zd.bind(this),500),this.ud=Oe(e))}Jd(){this.Gd.addEventListener("mouseenter",this.tf.bind(this)),this.Gd.addEventListener("touchcancel",this.Qd.bind(this));{const e=this.Gd.ownerDocument,s=i=>{this.Yd.xf&&(i.composed&&this.Gd.contains(i.composedPath()[0])||i.target&&this.Gd.contains(i.target)||this.Yd.xf())};this.Cd=()=>{e.removeEventListener("touchstart",s)},this.xd=()=>{e.removeEventListener("mousedown",s)},e.addEventListener("mousedown",s),e.addEventListener("touchstart",s,{passive:!0})}Fs()&&(this.Pd=()=>{this.Gd.removeEventListener("dblclick",this.Nd)},this.Gd.addEventListener("dblclick",this.Nd)),this.Gd.addEventListener("mouseleave",this.Cf.bind(this)),this.Gd.addEventListener("touchstart",this.wf.bind(this),{passive:!0}),ko(this.Gd),this.Gd.addEventListener("mousedown",this.bf.bind(this)),this.Pf(),this.Gd.addEventListener("touchmove",()=>{},{passive:!1})}Pf(){this.Yd.yf===void 0&&this.Yd.kf===void 0&&this.Yd.Tf===void 0||(this.Gd.addEventListener("touchstart",e=>this.Rf(e.touches),{passive:!0}),this.Gd.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Rd!==null&&this.Yd.kf!==void 0){const s=ia(e.touches[0],e.touches[1])/this.Dd;this.Yd.kf(this.Rd,s),ht(e)}},{passive:!1}),this.Gd.addEventListener("touchend",e=>{this.Rf(e.touches)}))}Rf(e){e.length===1&&(this.Vd=!1),e.length!==2||this.Vd||this.md?this.Df():this.Vf(e)}Vf(e){const s=this.Gd.getBoundingClientRect()||{left:0,top:0};this.Rd={_t:(e[0].clientX-s.left+(e[1].clientX-s.left))/2,ut:(e[0].clientY-s.top+(e[1].clientY-s.top))/2},this.Dd=ia(e[0],e[1]),this.Yd.yf!==void 0&&this.Yd.yf(),this.Qd()}Df(){this.Rd!==null&&(this.Rd=null,this.Yd.Tf!==void 0&&this.Yd.Tf())}Cf(e){if(this.yd&&this.yd(),this.Fd(e)||!this.zd)return;const s=this.Wd(e);this.Kd(s,this.Yd.Bf),this.zd=!Fs()}gf(e){const s=$s(e.touches,S(this.Ad));if(s===null)return;const i=this.Wd(e,s);this.$d(i,this.Yd.If),this.Sd=!0,this.md=!0}Fd(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:ns(e)<this.Ed+500}$d(e,s){s&&s.call(this.Yd,e)}Kd(e,s){s&&s.call(this.Yd,e)}Wd(e,s){const i=s||e,a=this.Gd.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-a.left,localY:i.clientY-a.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Ef:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Af:e.type,zf:i.target,a_:e.view,Lf:()=>{e.type!=="touchstart"&&ht(e)}}}}function ia(r,e){const s=r.clientX-e.clientX,i=r.clientY-e.clientY;return Math.sqrt(s*s+i*i)}function ht(r){r.cancelable&&r.preventDefault()}function Oe(r){return{_t:r.pageX,ut:r.pageY}}function ns(r){return r.timeStamp||performance.now()}function $s(r,e){for(let s=0;s<r.length;++s)if(r[s].identifier===e)return r[s];return null}class Co{constructor(e,s,i){this.Of=null,this.Nf=null,this.Ff=!0,this.Wf=null,this.Hf=e,this.Uf=e.$f()[s],this.qf=e.$f()[i],this.Yf=document.createElement("tr"),this.Yf.style.height="1px",this.jf=document.createElement("td"),this.jf.style.position="relative",this.jf.style.padding="0",this.jf.style.margin="0",this.jf.setAttribute("colspan","3"),this.Kf(),this.Yf.appendChild(this.jf),this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of=null,this.Nf=null)}m(){this.Nf!==null&&this.Nf.m()}Zf(){return this.Yf}Gf(){return te({width:this.Uf.Gf().width,height:1})}Jf(){return te({width:this.Uf.Jf().width,height:1*window.devicePixelRatio})}Qf(e,s,i){const a=this.Jf();e.fillStyle=this.Hf.N().layout.panes.separatorColor,e.fillRect(s,i,a.width,a.height)}yt(){this.Kf(),this.Hf.N().layout.panes.enableResize!==this.Ff&&(this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of!==null&&(this.jf.removeChild(this.Of.tp),this.jf.removeChild(this.Of.ip),this.Of=null),this.Nf!==null&&(this.Nf.m(),this.Nf=null)))}Xf(){const e=document.createElement("div"),s=e.style;s.position="fixed",s.display="none",s.zIndex="49",s.top="0",s.left="0",s.width="100%",s.height="100%",s.cursor="row-resize",this.jf.appendChild(e);const i=document.createElement("div"),a=i.style;a.position="absolute",a.zIndex="50",a.top="-4px",a.height="9px",a.width="100%",a.backgroundColor="",a.cursor="row-resize",this.jf.appendChild(i);const n={sf:this.sp.bind(this),Bf:this.np.bind(this),Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this)};this.Nf=new Ss(i,n,{af:()=>!1,lf:()=>!0}),this.Of={ip:i,tp:e}}Kf(){this.jf.style.background=this.Hf.N().layout.panes.separatorColor}sp(e){this.Of!==null&&(this.Of.ip.style.backgroundColor=this.Hf.N().layout.panes.separatorHoverColor)}np(e){this.Of!==null&&this.Wf===null&&(this.Of.ip.style.backgroundColor="")}ep(e){if(this.Of===null)return;const s=this.Uf.ap().Bo()+this.qf.ap().Bo(),i=s/(this.Uf.Gf().height+this.qf.Gf().height),a=30*i;s<=2*a||(this.Wf={lp:e.pageY,op:this.Uf.ap().Bo(),_p:s-a,up:s,cp:i,dp:a},this.Of.tp.style.display="block")}rp(e){const s=this.Wf;if(s===null)return;const i=(e.pageY-s.lp)*s.cp,a=At(s.op+i,s.dp,s._p);this.Uf.ap().Io(a),this.qf.ap().Io(s.up-a),this.Hf.Qt().Ih()}hp(e){this.Wf!==null&&this.Of!==null&&(this.Wf=null,this.Of.tp.style.display="none")}}function Os(r,e){return r.fp-e.fp}function Vs(r,e,s){const i=(r.fp-e.fp)/(r.wt-e.wt);return Math.sign(i)*Math.min(Math.abs(i),s)}class _o{constructor(e,s,i,a){this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=null,this.Mp=0,this.bp=0,this.Sp=e,this.xp=s,this.Cp=i,this.Mn=a}Pp(e,s){if(this.pp!==null){if(this.pp.wt===s)return void(this.pp.fp=e);if(Math.abs(this.pp.fp-e)<this.Mn)return}this.wp=this.mp,this.mp=this.vp,this.vp=this.pp,this.pp={wt:s,fp:e}}le(e,s){if(this.pp===null||this.vp===null||s-this.pp.wt>50)return;let i=0;const a=Vs(this.pp,this.vp,this.xp),n=Os(this.pp,this.vp),o=[a],l=[n];if(i+=n,this.mp!==null){const d=Vs(this.vp,this.mp,this.xp);if(Math.sign(d)===Math.sign(a)){const m=Os(this.vp,this.mp);if(o.push(d),l.push(m),i+=m,this.wp!==null){const f=Vs(this.mp,this.wp,this.xp);if(Math.sign(f)===Math.sign(a)){const g=Os(this.mp,this.wp);o.push(f),l.push(g),i+=g}}}}let c=0;for(let d=0;d<o.length;++d)c+=l[d]/i*o[d];Math.abs(c)<this.Sp||(this.gp={fp:e,wt:s},this.bp=c,this.Mp=function(d,m){const f=Math.log(m);return Math.log(1*f/-d)/f}(Math.abs(c),this.Cp))}Du(e){const s=S(this.gp),i=e-s.wt;return s.fp+this.bp*(Math.pow(this.Cp,i)-1)/Math.log(this.Cp)}Ru(e){return this.gp===null||this.yp(e)===this.Mp}yp(e){const s=e-S(this.gp).wt;return Math.min(s,this.Mp)}}class zo{constructor(e,s){this.kp=void 0,this.Tp=void 0,this.Rp=void 0,this.ps=!1,this.Dp=e,this.Vp=s,this.Bp()}yt(){this.Bp()}Ip(){this.kp&&this.Dp.removeChild(this.kp),this.Tp&&this.Dp.removeChild(this.Tp),this.kp=void 0,this.Tp=void 0}Ep(){return this.ps!==this.Ap()||this.Rp!==this.zp()}zp(){return this.Vp.Qt().Xi().J(this.Vp.N().layout.textColor)>160?"dark":"light"}Ap(){return this.Vp.N().layout.attributionLogo}Lp(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}Bp(){this.Ep()&&(this.Ip(),this.ps=this.Ap(),this.ps&&(this.Rp=this.zp(),this.Tp=document.createElement("style"),this.Tp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Lp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark",this.Rp==="dark"),this.Dp.appendChild(this.Tp),this.Dp.appendChild(this.kp)))}}function at(r,e){const s=S(r.ownerDocument).createElement("canvas");r.appendChild(s);const i=un(s,{options:{allowResizeObserver:!0},transform:(a,n)=>({width:Math.max(a.width,n.width),height:Math.max(a.height,n.height)})});return i.resizeCanvasElement(e),i}function rt(r){var e;r.width=1,r.height=1,(e=r.getContext("2d"))==null||e.clearRect(0,0,1,1)}function si(r,e,s,i){r.ih&&r.ih(e,s,i)}function cs(r,e,s,i){r.nt(e,s,i)}function ii(r,e,s,i){const a=r(s,i);for(const n of a){const o=n.Tt(i);o!==null&&e(o)}}function Ys(r,e){return s=>{var i,a;return function(n){return n.Ft!==void 0}(s)?(((i=s.Ft())==null?void 0:i.ma())??"")!==e?[]:((a=s.ta)==null?void 0:a.call(s,r))??[]:[]}}function aa(r,e,s,i){if(!r.length)return;let a=0;const n=r[0].$t(i,!0);let o=e===1?s/2-(r[0].Fi()-n/2):r[0].Fi()-n/2-s/2;o=Math.max(0,o);for(let l=1;l<r.length;l++){const c=r[l],d=r[l-1],m=d.$t(i,!1),f=c.Fi(),g=d.Fi();if(e===1?f>g-m:f<g+m){const x=g-m*e;c.Wi(x);const b=x-e*m/2;if((e===1?b<0:b>s)&&o>0){const v=e===1?-1-b:b-s,y=Math.min(v,o);for(let k=a;k<r.length;k++)r[k].Wi(r[k].Fi()+e*y);o-=y}}else a=l,o=e===1?g-m-f:f-(g+m)}}class ra{constructor(e,s,i,a){this.Yi=null,this.Op=null,this.Np=!1,this.Fp=new fs(200),this.Wp=null,this.Hp=0,this.Up=!1,this.$p=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Yp=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Pt=e,this.Ps=s,this.Ml=s.layout,this.Ju=i,this.jp=a==="left",this.Kp=Ys("normal",a),this.Xp=Ys("top",a),this.Zp=Ys("bottom",a),this.jf=document.createElement("div"),this.jf.style.height="100%",this.jf.style.overflow="hidden",this.jf.style.width="25px",this.jf.style.left="0",this.jf.style.position="relative",this.Gp=at(this.jf,te({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const n=this.Gp.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Jp=at(this.jf,te({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const o=this.Jp.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const l={Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),xf:this.Qp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this),Xd:this.tv.bind(this),qd:this.tv.bind(this),sf:this.iv.bind(this),Bf:this.np.bind(this)};this.Nf=new Ss(this.Jp.canvasElement,l,{af:()=>!this.Ps.handleScroll.vertTouchDrag,lf:()=>!0})}m(){this.Nf.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),rt(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),rt(this.Gp.canvasElement),this.Gp.dispose(),this.Yi!==null&&this.Yi.so().u(this),this.Yi=null}Zf(){return this.jf}P(){return this.Ml.fontSize}sv(){const e=this.Ju.N();return this.Wp!==e.k&&(this.Fp.Bn(),this.Wp=e.k),e}nv(){if(this.Yi===null)return 0;let e=0;const s=this.sv(),i=S(this.Gp.canvasElement.getContext("2d",{colorSpace:this.Pt.qp().N().layout.colorSpace}));i.save();const a=this.Yi.Da();i.font=this.ev(),a.length>0&&(e=Math.max(this.Fp.Vi(i,a[0].Za),this.Fp.Vi(i,a[a.length-1].Za)));const n=this.rv();for(let d=n.length;d--;){const m=this.Fp.Vi(i,n[d].ri());m>e&&(e=m)}const o=this.Yi.zt();if(o!==null&&this.Op!==null&&(l=this.Ps.crosshair).mode!==2&&l.horzLine.visible&&l.horzLine.labelVisible){const d=this.Yi.Ts(1,o),m=this.Yi.Ts(this.Op.height-2,o);e=Math.max(e,this.Fp.Vi(i,this.Yi.Zi(Math.floor(Math.min(d,m))+.11111111111111,o)),this.Fp.Vi(i,this.Yi.Zi(Math.ceil(Math.max(d,m))-.11111111111111,o)))}var l;i.restore();const c=e||34;return ti(Math.ceil(s.S+s.C+s.B+s.I+5+c))}hv(e){this.Op!==null&&st(this.Op,e)||(this.Op=e,this.Up=!0,this.Gp.resizeCanvasElement(e),this.Jp.resizeCanvasElement(e),this.Up=!1,this.jf.style.width=`${e.width}px`,this.jf.style.height=`${e.height}px`)}av(){return S(this.Op).width}_s(e){this.Yi!==e&&(this.Yi!==null&&this.Yi.so().u(this),this.Yi=e,e.so().i(this._l.bind(this),this))}Ft(){return this.Yi}Bn(){const e=this.Pt.ap();this.Pt.qp().Qt().Zo(e,S(this.Ft()))}lv(e){if(this.Op===null)return;const s={colorSpace:this.Pt.qp().N().layout.colorSpace};if(e!==1){this.ov(),this.Gp.applySuggestedBitmapSize();const a=it(this.Gp,s);a!==null&&(a.useBitmapCoordinateSpace(n=>{this._v(n),this.uv(n)}),this.Pt.cv(a,this.Zp),this.dv(a),this.Pt.cv(a,this.Kp),this.fv(a))}this.Jp.applySuggestedBitmapSize();const i=it(this.Jp,s);i!==null&&(i.useBitmapCoordinateSpace(({context:a,bitmapSize:n})=>{a.clearRect(0,0,n.width,n.height)}),this.pv(i),this.Pt.cv(i,this.Xp))}Jf(){return this.Gp.bitmapSize}Qf(e,s,i,a){const n=this.Jf();if(n.width>0&&n.height>0&&(e.drawImage(this.Gp.canvasElement,s,i),a)){const o=this.Jp.canvasElement;e.drawImage(o,s,i)}}yt(){var e;(e=this.Yi)==null||e.Da()}ep(e){if(this.Yi===null||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const s=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!0,s.Uo(i,this.Yi,e.localY)}rp(e){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const s=this.Pt.qp().Qt(),i=this.Pt.ap(),a=this.Yi;s.$o(i,a,e.localY)}Qp(){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.qp().Qt(),s=this.Pt.ap(),i=this.Yi;this.Np&&(this.Np=!1,e.qo(s,i))}hp(e){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const s=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!1,s.qo(i,this.Yi)}tv(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.Bn()}iv(e){this.Yi!==null&&(!this.Pt.qp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Dl()||this.vv(1))}np(e){this.vv(0)}rv(){const e=[],s=this.Yi===null?void 0:this.Yi;return(i=>{for(let a=0;a<i.length;++a){const n=i[a].Ws(this.Pt.ap(),s);for(let o=0;o<n.length;o++)e.push(n[o])}})(this.Pt.ap().Dt()),e}_v({context:e,bitmapSize:s}){const{width:i,height:a}=s,n=this.Pt.ap().Qt(),o=n.$(),l=n.Wc();o===l?ys(e,0,0,i,a,o):Fa(e,0,0,i,a,o,l)}uv({context:e,bitmapSize:s,horizontalPixelRatio:i}){if(this.Op===null||this.Yi===null||!this.Yi.N().borderVisible)return;e.fillStyle=this.Yi.N().borderColor;const a=Math.max(1,Math.floor(this.sv().S*i));let n;n=this.jp?s.width-a:0,e.fillRect(n,0,a,s.height)}dv(e){if(this.Op===null||this.Yi===null)return;const s=this.Yi.Da(),i=this.Yi.N(),a=this.sv(),n=this.jp?this.Op.width-a.C:0;i.borderVisible&&i.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:l,verticalPixelRatio:c})=>{o.fillStyle=i.borderColor;const d=Math.max(1,Math.floor(c)),m=Math.floor(.5*c),f=Math.round(a.C*l);o.beginPath();for(const g of s)o.rect(Math.floor(n*l),Math.round(g.Pa*c)-m,f,d);o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{o.font=this.ev(),o.fillStyle=i.textColor??this.Ml.textColor,o.textAlign=this.jp?"right":"left",o.textBaseline="middle";const l=this.jp?Math.round(n-a.B):Math.round(n+a.C+a.B),c=s.map(d=>this.Fp.Di(o,d.Za));for(let d=s.length;d--;){const m=s[d];o.fillText(m.Za,l,m.Pa+c[d])}})}ov(){if(this.Op===null||this.Yi===null)return;let e=this.Op.height/2;const s=[],i=this.Yi.Dt().slice(),a=this.Pt.ap(),n=this.sv();this.Yi===a.$n()&&this.Pt.ap().Dt().forEach(c=>{a.Un(c)&&i.push(c)});const o=this.Yi.Ma()[0],l=this.Yi;i.forEach(c=>{const d=c.Ws(a,l);d.forEach(m=>{m.Wi(null),m.Hi()&&s.push(m)}),o===c&&d.length>0&&(e=d[0].Ii())}),s.forEach(c=>c.Wi(c.Ii())),this.Yi.N().alignLabels&&this.mv(s,n,e)}mv(e,s,i){if(this.Op===null)return;const a=e.filter(o=>o.Ii()<=i),n=e.filter(o=>o.Ii()>i);a.sort((o,l)=>l.Ii()-o.Ii()),a.length&&n.length&&n.push(a[0]),n.sort((o,l)=>o.Ii()-l.Ii());for(const o of e){const l=Math.floor(o.$t(s)/2),c=o.Ii();c>-l&&c<l&&o.Wi(l),c>this.Op.height-l&&c<this.Op.height+l&&o.Wi(this.Op.height-l)}aa(a,1,this.Op.height,s),aa(n,-1,this.Op.height,s)}fv(e){if(this.Op===null)return;const s=this.rv(),i=this.sv(),a=this.jp?"right":"left";s.forEach(n=>{n.Ui()&&n.Tt(S(this.Yi)).nt(e,i,this.Fp,a)})}pv(e){if(this.Op===null||this.Yi===null)return;const s=this.Pt.qp().Qt(),i=[],a=this.Pt.ap(),n=s.uc().Ws(a,this.Yi);n.length&&i.push(n);const o=this.sv(),l=this.jp?"right":"left";i.forEach(c=>{c.forEach(d=>{d.Tt(S(this.Yi)).nt(e,o,this.Fp,l)})})}vv(e){this.jf.style.cursor=e===1?"ns-resize":"default"}_l(){const e=this.nv();this.Hp<e&&this.Pt.qp().Qt().Ih(),this.Hp=e}ev(){return ms(this.Ml.fontSize,this.Ml.fontFamily)}}function Ro(r,e){var s;return((s=r.Jh)==null?void 0:s.call(r,e))??[]}function na(r,e){var s;return((s=r.Fs)==null?void 0:s.call(r,e))??[]}function oa(r,e){var s;return((s=r.us)==null?void 0:s.call(r,e))??[]}function Po(r,e){var s;return((s=r.Xh)==null?void 0:s.call(r,e))??[]}class ci{constructor(e,s){this.Op=te({width:0,height:0}),this.wv=null,this.gv=null,this.Mv=null,this.bv=null,this.Sv=!1,this.xv=new ce,this.Cv=new ce,this.Pv=0,this.yv=!1,this.kv=null,this.Tv=!1,this.Rv=null,this.Dv=null,this.Up=!1,this.$p=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Yp=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Vp=e,this.Vv=s,this.Vv.t_().i(this.Bv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Av=document.createElement("td"),this.Av.style.padding="0",this.Iv.appendChild(i),this.Gp=at(i,te({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const a=this.Gp.canvasElement;a.style.position="absolute",a.style.zIndex="1",a.style.left="0",a.style.top="0",this.Jp=at(i,te({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const n=this.Jp.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.Yf=document.createElement("tr"),this.Yf.appendChild(this.Ev),this.Yf.appendChild(this.Iv),this.Yf.appendChild(this.Av),this.zv(),this.Nf=new Ss(this.Jp.canvasElement,this,{af:()=>this.kv===null&&!this.Vp.N().handleScroll.vertTouchDrag,lf:()=>this.kv===null&&!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.wv!==null&&this.wv.m(),this.gv!==null&&this.gv.m(),this.Mv=null,this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),rt(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),rt(this.Gp.canvasElement),this.Gp.dispose(),this.Vv!==null&&(this.Vv.t_().u(this),this.Vv.m()),this.Nf.m()}ap(){return S(this.Vv)}Lv(e){var s;this.Vv!==null&&this.Vv.t_().u(this),this.Vv=e,this.Vv!==null&&this.Vv.t_().i(ci.prototype.Bv.bind(this),this,!0),this.zv(),this.Vp.$f().indexOf(this)===this.Vp.$f().length-1?(this.Mv=this.Mv??new zo(this.Iv,this.Vp),this.Mv.yt()):((s=this.Mv)==null||s.Ip(),this.Mv=null)}qp(){return this.Vp}Zf(){return this.Yf}zv(){if(this.Vv!==null&&(this.Ov(),this.ts().js().length!==0)){if(this.wv!==null){const e=this.Vv.Wo();this.wv._s(S(e))}if(this.gv!==null){const e=this.Vv.Ho();this.gv._s(S(e))}}}Nv(){this.wv!==null&&this.wv.yt(),this.gv!==null&&this.gv.yt()}Bo(){return this.Vv!==null?this.Vv.Bo():0}Io(e){this.Vv&&this.Vv.Io(e)}sf(e){if(!this.Vv)return;this.Fv();const s=e.localX,i=e.localY;this.Wv(s,i,e)}Sf(e){this.Fv(),this.Hv(),this.Wv(e.localX,e.localY,e)}nf(e){if(!this.Vv)return;this.Fv();const s=e.localX,i=e.localY;this.Wv(s,i,e)}mf(e){this.Vv!==null&&(this.Fv(),this.Uv(e))}Xd(e){this.Vv!==null&&this.$v(this.Cv,e)}qd(e){this.Xd(e)}cf(e){this.Fv(),this.qv(e),this.Wv(e.localX,e.localY,e)}vf(e){this.Vv!==null&&(this.Fv(),this.yv=!1,this.Yv(e))}pf(e){this.Vv!==null&&this.Uv(e)}If(e){if(this.yv=!0,this.kv===null){const s={x:e.localX,y:e.localY};this.jv(s,s,e)}}Bf(e){this.Vv!==null&&(this.Fv(),this.Vv.Qt().lc(null),this.Kv())}Xv(){return this.xv}Zv(){return this.Cv}yf(){this.Pv=1,this.ts().hn()}kf(e,s){if(!this.Vp.N().handleScale.pinch)return;const i=5*(s-this.Pv);this.Pv=s,this.ts().bc(e._t,i)}Mf(e){this.yv=!1,this.Tv=this.kv!==null,this.Hv();const s=this.ts().uc();this.kv!==null&&s.Vt()&&(this.Rv={x:s.si(),y:s.ni()},this.kv={x:e.localX,y:e.localY})}_f(e){if(this.Vv===null)return;const s=e.localX,i=e.localY;if(this.kv===null)this.qv(e);else{this.Tv=!1;const a=S(this.Rv),n=a.x+(s-this.kv.x),o=a.y+(i-this.kv.y);this.Wv(n,o,e)}}ff(e){this.qp().N().trackingMode.exitMode===0&&(this.Tv=!0),this.Gv(),this.Yv(e)}jn(e,s){const i=this.Vv;return i===null?null:Qa(i,e,s)}Jv(e,s){S(s==="left"?this.wv:this.gv).hv(te({width:e,height:this.Op.height}))}Gf(){return this.Op}hv(e){st(this.Op,e)||(this.Op=e,this.Up=!0,this.Gp.resizeCanvasElement(e),this.Jp.resizeCanvasElement(e),this.Up=!1,this.Iv.style.width=e.width+"px",this.Iv.style.height=e.height+"px")}Qv(){const e=S(this.Vv);e.Fo(e.Wo()),e.Fo(e.Ho());for(const s of e.Ma())if(e.Un(s)){const i=s.Ft();i!==null&&e.Fo(i),s.Ns()}for(const s of e.s_())s.Ns()}Jf(){return this.Gp.bitmapSize}Qf(e,s,i,a){const n=this.Jf();if(n.width>0&&n.height>0&&(e.drawImage(this.Gp.canvasElement,s,i),a)){const o=this.Jp.canvasElement;e!==null&&e.drawImage(o,s,i)}}lv(e){if(e===0||this.Vv===null)return;e>1&&this.Qv(),this.wv!==null&&this.wv.lv(e),this.gv!==null&&this.gv.lv(e);const s={colorSpace:this.Vp.N().layout.colorSpace};if(e!==1){this.Gp.applySuggestedBitmapSize();const a=it(this.Gp,s);a!==null&&(a.useBitmapCoordinateSpace(n=>{this._v(n)}),this.Vv&&(this.tm(a,Ro),this.im(a),this.tm(a,na),this.tm(a,oa)))}this.Jp.applySuggestedBitmapSize();const i=it(this.Jp,s);i!==null&&(i.useBitmapCoordinateSpace(({context:a,bitmapSize:n})=>{a.clearRect(0,0,n.width,n.height)}),this.sm(i),this.tm(i,Po),this.tm(i,oa))}nm(){return this.wv}rm(){return this.gv}cv(e,s){this.tm(e,s)}Bv(){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=null}Uv(e){this.$v(this.xv,e)}$v(e,s){const i=s.localX,a=s.localY;e.v()&&e.p(this.ts().Et().cu(i),{x:i,y:a},s)}_v({context:e,bitmapSize:s}){const{width:i,height:a}=s,n=this.ts(),o=n.$(),l=n.Wc();o===l?ys(e,0,0,i,a,l):Fa(e,0,0,i,a,o,l)}im(e){const s=S(this.Vv),i=s.i_().lr().Tt(s);i!==null&&i.nt(e,!1)}sm(e){this.hm(e,na,cs,this.ts().uc())}tm(e,s){const i=S(this.Vv),a=i.Dt(),n=i.s_();for(const o of n)this.hm(e,s,si,o);for(const o of a)this.hm(e,s,si,o);for(const o of n)this.hm(e,s,cs,o);for(const o of a)this.hm(e,s,cs,o)}hm(e,s,i,a){const n=S(this.Vv),o=n.Qt().ac(),l=o!==null&&o.n_===a,c=o!==null&&l&&o.e_!==void 0?o.e_.Xn:void 0;ii(s,d=>i(d,e,l,c),a,n)}Ov(){if(this.Vv===null)return;const e=this.Vp,s=this.Vv.Wo().N().visible,i=this.Vv.Ho().N().visible;s||this.wv===null||(this.Ev.removeChild(this.wv.Zf()),this.wv.m(),this.wv=null),i||this.gv===null||(this.Av.removeChild(this.gv.Zf()),this.gv.m(),this.gv=null);const a=e.Qt().Bc();s&&this.wv===null&&(this.wv=new ra(this,e.N(),a,"left"),this.Ev.appendChild(this.wv.Zf())),i&&this.gv===null&&(this.gv=new ra(this,e.N(),a,"right"),this.Av.appendChild(this.gv.Zf()))}am(e){return e.Ef&&this.yv||this.kv!==null}lm(e){return Math.max(0,Math.min(e,this.Op.width-1))}om(e){return Math.max(0,Math.min(e,this.Op.height-1))}Wv(e,s,i){this.ts().Tc(this.lm(e),this.om(s),i,S(this.Vv))}Kv(){this.ts().Dc()}Gv(){this.Tv&&(this.kv=null,this.Kv())}jv(e,s,i){this.kv=e,this.Tv=!1,this.Wv(s.x,s.y,i);const a=this.ts().uc();this.Rv={x:a.si(),y:a.ni()}}ts(){return this.Vp.Qt()}Yv(e){if(!this.Sv)return;const s=this.ts(),i=this.ap();if(s.Ko(i,i.ks()),this.bv=null,this.Sv=!1,s.Pc(),this.Dv!==null){const a=performance.now(),n=s.Et();this.Dv.le(n.gu(),a),this.Dv.Ru(a)||s._n(this.Dv)}}Fv(){this.kv=null}Hv(){if(this.Vv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)S(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Vv.ks().Ki()&&this.ts().Et().Ki()}}qv(e){if(this.Vv===null)return;const s=this.ts(),i=s.Et();if(i.Ki())return;const a=this.Vp.N(),n=a.handleScroll,o=a.kineticScroll;if((!n.pressedMouseMove||e.Ef)&&(!n.horzTouchDrag&&!n.vertTouchDrag||!e.Ef))return;const l=this.Vv.ks(),c=performance.now();if(this.bv!==null||this.am(e)||(this.bv={x:e.clientX,y:e.clientY,rd:c,_m:e.localX,um:e.localY}),this.bv!==null&&!this.Sv&&(this.bv.x!==e.clientX||this.bv.y!==e.clientY)){if(e.Ef&&o.touch||!e.Ef&&o.mouse){const d=i.mu();this.Dv=new _o(.2/d,7/d,.997,15/d),this.Dv.Pp(i.gu(),this.bv.rd)}else this.Dv=null;l.Ki()||s.Yo(this.Vv,l,e.localY),s.xc(e.localX),this.Sv=!0}this.Sv&&(l.Ki()||s.jo(this.Vv,l,e.localY),s.Cc(e.localX),this.Dv!==null&&this.Dv.Pp(i.gu(),c))}}class la{constructor(e,s,i,a,n){this.xt=!0,this.Op=te({width:0,height:0}),this.$p=()=>this.lv(3),this.jp=e==="left",this.Ju=i.Bc,this.Ps=s,this.dm=a,this.fm=n,this.jf=document.createElement("div"),this.jf.style.width="25px",this.jf.style.height="100%",this.jf.style.overflow="hidden",this.Gp=at(this.jf,te({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p)}m(){this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),rt(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.jf}Gf(){return this.Op}hv(e){st(this.Op,e)||(this.Op=e,this.Gp.resizeCanvasElement(e),this.jf.style.width=`${e.width}px`,this.jf.style.height=`${e.height}px`,this.xt=!0)}lv(e){if(e<3&&!this.xt||this.Op.width===0||this.Op.height===0)return;this.xt=!1,this.Gp.applySuggestedBitmapSize();const s=it(this.Gp,{colorSpace:this.Ps.layout.colorSpace});s!==null&&s.useBitmapCoordinateSpace(i=>{this._v(i),this.uv(i)})}Jf(){return this.Gp.bitmapSize}Qf(e,s,i){const a=this.Jf();a.width>0&&a.height>0&&e.drawImage(this.Gp.canvasElement,s,i)}uv({context:e,bitmapSize:s,horizontalPixelRatio:i,verticalPixelRatio:a}){if(!this.dm())return;e.fillStyle=this.Ps.timeScale.borderColor;const n=Math.floor(this.Ju.N().S*i),o=Math.floor(this.Ju.N().S*a),l=this.jp?s.width-n:0;e.fillRect(l,0,n,o)}_v({context:e,bitmapSize:s}){ys(e,0,0,s.width,s.height,this.fm())}}function di(r){return e=>{var s;return((s=e.ia)==null?void 0:s.call(e,r))??[]}}const To=di("normal"),Io=di("top"),Bo=di("bottom");class Mo{constructor(e,s){this.pm=null,this.vm=null,this.M=null,this.wm=!1,this.Op=te({width:0,height:0}),this.gm=new ce,this.Fp=new fs(5),this.Up=!1,this.$p=()=>{this.Up||this.Vp.Qt().ar()},this.Yp=()=>{this.Up||this.Vp.Qt().ar()},this.Vp=e,this.o_=s,this.Ps=e.N().layout,this.kp=document.createElement("tr"),this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.bm=document.createElement("td"),this.bm.style.padding="0",this.jf=document.createElement("td"),this.jf.style.height="25px",this.jf.style.padding="0",this.Sm=document.createElement("div"),this.Sm.style.width="100%",this.Sm.style.height="100%",this.Sm.style.position="relative",this.Sm.style.overflow="hidden",this.jf.appendChild(this.Sm),this.Gp=at(this.Sm,te({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const i=this.Gp.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jp=at(this.Sm,te({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const a=this.Jp.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0",this.kp.appendChild(this.Mm),this.kp.appendChild(this.jf),this.kp.appendChild(this.bm),this.xm(),this.Vp.Qt().Vo().i(this.xm.bind(this),this),this.Nf=new Ss(this.Jp.canvasElement,this,{af:()=>!0,lf:()=>!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.Nf.m(),this.pm!==null&&this.pm.m(),this.vm!==null&&this.vm.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),rt(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),rt(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.kp}Cm(){return this.pm}Pm(){return this.vm}Sf(e){if(this.wm)return;this.wm=!0;const s=this.Vp.Qt();!s.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&s.Mc(e.localX)}Mf(e){this.Sf(e)}xf(){const e=this.Vp.Qt();!e.Et().Ki()&&this.wm&&(this.wm=!1,this.Vp.N().handleScale.axisPressedMouseMove.time&&e.kc())}cf(e){const s=this.Vp.Qt();!s.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&s.yc(e.localX)}_f(e){this.cf(e)}vf(){this.wm=!1;const e=this.Vp.Qt();e.Et().Ki()&&!this.Vp.N().handleScale.axisPressedMouseMove.time||e.kc()}ff(){this.vf()}Xd(){this.Vp.N().handleScale.axisDoubleClickReset.time&&this.Vp.Qt().cn()}qd(){this.Xd()}sf(){this.Vp.Qt().N().handleScale.axisPressedMouseMove.time&&this.vv(1)}Bf(){this.vv(0)}Gf(){return this.Op}ym(){return this.gm}km(e,s,i){st(this.Op,e)||(this.Op=e,this.Up=!0,this.Gp.resizeCanvasElement(e),this.Jp.resizeCanvasElement(e),this.Up=!1,this.jf.style.width=`${e.width}px`,this.jf.style.height=`${e.height}px`,this.gm.p(e)),this.pm!==null&&this.pm.hv(te({width:s,height:e.height})),this.vm!==null&&this.vm.hv(te({width:i,height:e.height}))}Tm(){const e=this.Rm();return Math.ceil(e.S+e.C+e.P+e.A+e.V+e.Dm)}yt(){this.Vp.Qt().Et().Da()}Jf(){return this.Gp.bitmapSize}Qf(e,s,i,a){const n=this.Jf();if(n.width>0&&n.height>0&&(e.drawImage(this.Gp.canvasElement,s,i),a)){const o=this.Jp.canvasElement;e.drawImage(o,s,i)}}lv(e){if(e===0)return;const s={colorSpace:this.Ps.colorSpace};if(e!==1){this.Gp.applySuggestedBitmapSize();const a=it(this.Gp,s);a!==null&&(a.useBitmapCoordinateSpace(n=>{this._v(n),this.uv(n),this.Vm(a,Bo)}),this.dv(a),this.Vm(a,To)),this.pm!==null&&this.pm.lv(e),this.vm!==null&&this.vm.lv(e)}this.Jp.applySuggestedBitmapSize();const i=it(this.Jp,s);i!==null&&(i.useBitmapCoordinateSpace(({context:a,bitmapSize:n})=>{a.clearRect(0,0,n.width,n.height)}),this.Bm([...this.Vp.Qt().js(),this.Vp.Qt().uc()],i),this.Vm(i,Io))}Vm(e,s){const i=this.Vp.Qt().js();for(const a of i)ii(s,n=>si(n,e,!1,void 0),a,void 0);for(const a of i)ii(s,n=>cs(n,e,!1,void 0),a,void 0)}_v({context:e,bitmapSize:s}){ys(e,0,0,s.width,s.height,this.Vp.Qt().Wc())}uv({context:e,bitmapSize:s,verticalPixelRatio:i}){if(this.Vp.N().timeScale.borderVisible){e.fillStyle=this.Im();const a=Math.max(1,Math.floor(this.Rm().S*i));e.fillRect(0,0,s.width,a)}}dv(e){const s=this.Vp.Qt().Et(),i=s.Da();if(!i||i.length===0)return;const a=this.o_.maxTickMarkWeight(i),n=this.Rm(),o=s.N();o.borderVisible&&o.ticksVisible&&e.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:c,verticalPixelRatio:d})=>{l.strokeStyle=this.Im(),l.fillStyle=this.Im();const m=Math.max(1,Math.floor(c)),f=Math.floor(.5*c);l.beginPath();const g=Math.round(n.C*d);for(let x=i.length;x--;){const b=Math.round(i[x].coord*c);l.rect(b-f,0,m,g)}l.fill()}),e.useMediaCoordinateSpace(({context:l})=>{const c=n.S+n.C+n.A+n.P/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.H(),l.font=this.ev();for(const d of i)if(d.weight<a){const m=d.needAlignCoordinate?this.Em(l,d.coord,d.label):d.coord;l.fillText(d.label,m,c)}this.Vp.N().timeScale.allowBoldLabels&&(l.font=this.Am());for(const d of i)if(d.weight>=a){const m=d.needAlignCoordinate?this.Em(l,d.coord,d.label):d.coord;l.fillText(d.label,m,c)}})}Em(e,s,i){const a=this.Fp.Vi(e,i),n=a/2,o=Math.floor(s-n)+.5;return o<0?s+=Math.abs(0-o):o+a>this.Op.width&&(s-=Math.abs(this.Op.width-(o+a))),s}Bm(e,s){const i=this.Rm();for(const a of e)for(const n of a.cs())n.Tt().nt(s,i)}Im(){return this.Vp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}ev(){return ms(this.F(),this.Ps.fontFamily)}Am(){return ms(this.F(),this.Ps.fontFamily,"bold")}Rm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new fs,Dm:0});const e=this.M,s=this.ev();if(e.k!==s){const i=this.F();e.P=i,e.k=s,e.A=3*i/12,e.V=3*i/12,e.Ji=9*i/12,e.L=0,e.Dm=4*i/12,e.Gi.Bn()}return this.M}vv(e){this.jf.style.cursor=e===1?"ew-resize":"default"}xm(){const e=this.Vp.Qt(),s=e.N();s.leftPriceScale.visible||this.pm===null||(this.Mm.removeChild(this.pm.Zf()),this.pm.m(),this.pm=null),s.rightPriceScale.visible||this.vm===null||(this.bm.removeChild(this.vm.Zf()),this.vm.m(),this.vm=null);const i={Bc:this.Vp.Qt().Bc()},a=()=>s.leftPriceScale.borderVisible&&e.Et().N().borderVisible,n=()=>e.Wc();s.leftPriceScale.visible&&this.pm===null&&(this.pm=new la("left",s,i,a,n),this.Mm.appendChild(this.pm.Zf())),s.rightPriceScale.visible&&this.vm===null&&(this.vm=new la("right",s,i,a,n),this.bm.appendChild(this.vm.Zf()))}}var ja;const Ao=!!vt&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(r=>r.brand.includes("Chromium"))&&!!vt&&((ja=navigator==null?void 0:navigator.userAgentData)!=null&&ja.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class Eo{constructor(e,s,i){var a;this.zm=[],this.Lm=[],this.Om=0,this.il=0,this.Mo=0,this.Nm=0,this.Fm=0,this.Wm=null,this.Hm=!1,this.xv=new ce,this.Cv=new ce,this.Xu=new ce,this.Um=null,this.$m=null,this.Dp=e,this.Ps=s,this.o_=i,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(a=this.kp).style.userSelect="none",a.style.webkitUserSelect="none",a.style.msUserSelect="none",a.style.MozUserSelect="none",a.style.webkitTapHighlightColor="transparent",this.qm=document.createElement("table"),this.qm.setAttribute("cellspacing","0"),this.kp.appendChild(this.qm),this.Ym=this.jm.bind(this),Us(this.Ps)&&this.Km(!0),this.ts=new vo(this.Gu.bind(this),this.Ps,i),this.Qt().cc().i(this.Xm.bind(this),this),this.Zm=new Mo(this,this.o_),this.qm.appendChild(this.Zm.Zf());const n=s.autoSize&&this.Gm();let o=this.Ps.width,l=this.Ps.height;if(n||o===0||l===0){const c=e.getBoundingClientRect();o=o||c.width,l=l||c.height}this.Jm(o,l),this.Qm(),e.appendChild(this.kp),this.tw(),this.ts.Et().Iu().i(this.ts.Ih.bind(this.ts),this),this.ts.Vo().i(this.ts.Ih.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}$f(){return this.zm}iw(){return this.Zm}m(){this.Km(!1),this.Om!==0&&window.cancelAnimationFrame(this.Om),this.ts.cc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const e of this.zm)this.qm.removeChild(e.Zf()),e.Xv().u(this),e.Zv().u(this),e.m();this.zm=[];for(const e of this.Lm)this.sw(e);this.Lm=[],S(this.Zm).m(),this.kp.parentElement!==null&&this.kp.parentElement.removeChild(this.kp),this.Xu.m(),this.xv.m(),this.Cv.m(),this.nw()}Jm(e,s,i=!1){if(this.il===s&&this.Mo===e)return;const a=function(l){const c=Math.floor(l.width),d=Math.floor(l.height);return te({width:c-c%2,height:d-d%2})}(te({width:e,height:s}));this.il=a.height,this.Mo=a.width;const n=this.il+"px",o=this.Mo+"px";S(this.kp).style.height=n,S(this.kp).style.width=o,this.qm.style.height=n,this.qm.style.width=o,i?this.ew(ve.gn(),performance.now()):this.ts.Ih()}lv(e){e===void 0&&(e=ve.gn());for(let s=0;s<this.zm.length;s++)this.zm[s].lv(e.en(s).tn);this.Ps.timeScale.visible&&this.Zm.lv(e.nn())}hr(e){var a;const s=Us(this.Ps);this.ts.hr(e);const i=Us(this.Ps);i!==s&&this.Km(i),(a=e.layout)!=null&&a.panes&&this.rw(),this.tw(),this.hw(e)}Xv(){return this.xv}Zv(){return this.Cv}cc(){return this.Xu}aw(e=!1){this.Wm!==null&&(this.ew(this.Wm,performance.now()),this.Wm=null);const s=this.lw(null),i=document.createElement("canvas");i.width=s.width,i.height=s.height;const a=S(i.getContext("2d"));return this.lw(a,e),i}ow(e){return e==="left"&&!this._w()||e==="right"&&!this.uw()||this.zm.length===0?0:S(e==="left"?this.zm[0].nm():this.zm[0].rm()).av()}cw(){return this.Ps.autoSize&&this.Um!==null}ip(){return this.kp}dw(e){this.$m=e,this.$m?this.ip().style.setProperty("cursor",e):this.ip().style.removeProperty("cursor")}fw(){return this.$m}pw(e){return Re(this.zm[e]).Gf()}rw(){this.Lm.forEach(e=>{e.yt()})}hw(e){(e.autoSize!==void 0||!this.Um||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Um&&this.Gm(),e.autoSize===!1&&this.Um!==null&&this.nw(),e.autoSize||e.width===void 0&&e.height===void 0||this.Jm(e.width||this.Mo,e.height||this.il))}lw(e,s){let i=0,a=0;const n=this.zm[0],o=(c,d)=>{let m=0;for(let f=0;f<this.zm.length;f++){const g=this.zm[f],x=S(c==="left"?g.nm():g.rm()),b=x.Jf();if(e!==null&&x.Qf(e,d,m,s),m+=b.height,f<this.zm.length-1){const v=this.Lm[f],y=v.Jf();e!==null&&v.Qf(e,d,m),m+=y.height}}};this._w()&&(o("left",0),i+=S(n.nm()).Jf().width);for(let c=0;c<this.zm.length;c++){const d=this.zm[c],m=d.Jf();if(e!==null&&d.Qf(e,i,a,s),a+=m.height,c<this.zm.length-1){const f=this.Lm[c],g=f.Jf();e!==null&&f.Qf(e,i,a),a+=g.height}}i+=n.Jf().width,this.uw()&&(o("right",i),i+=S(n.rm()).Jf().width);const l=(c,d,m)=>{S(c==="left"?this.Zm.Cm():this.Zm.Pm()).Qf(S(e),d,m)};if(this.Ps.timeScale.visible){const c=this.Zm.Jf();if(e!==null){let d=0;this._w()&&(l("left",d,a),d=S(n.nm()).Jf().width),this.Zm.Qf(e,d,a,s),d+=c.width,this.uw()&&l("right",d,a)}a+=c.height}return te({width:i,height:a})}mw(){let e=0,s=0,i=0;for(const y of this.zm)this._w()&&(s=Math.max(s,S(y.nm()).nv(),this.Ps.leftPriceScale.minimumWidth)),this.uw()&&(i=Math.max(i,S(y.rm()).nv(),this.Ps.rightPriceScale.minimumWidth)),e+=y.Bo();s=ti(s),i=ti(i);const a=this.Mo,n=this.il,o=Math.max(a-s-i,0),l=1*this.Lm.length,c=this.Ps.timeScale.visible;let d=c?Math.max(this.Zm.Tm(),this.Ps.timeScale.minimumHeight):0;var m;d=(m=d)+m%2;const f=l+d,g=n<f?0:n-f,x=g/e;let b=0;const v=window.devicePixelRatio||1;for(let y=0;y<this.zm.length;++y){const k=this.zm[y];k.Lv(this.ts.$s()[y]);let _=0,L=0;L=y===this.zm.length-1?Math.ceil((g-b)*v)/v:Math.round(k.Bo()*x*v)/v,_=Math.max(L,2),b+=_,k.hv(te({width:o,height:_})),this._w()&&k.Jv(s,"left"),this.uw()&&k.Jv(i,"right"),k.ap()&&this.ts.dc(k.ap(),_)}this.Zm.km(te({width:c?o:0,height:d}),c?s:0,c?i:0),this.ts.Eo(o),this.Nm!==s&&(this.Nm=s),this.Fm!==i&&(this.Fm=i)}Km(e){e?this.kp.addEventListener("wheel",this.Ym,{passive:!1}):this.kp.removeEventListener("wheel",this.Ym)}ww(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return Ao?1/window.devicePixelRatio:1}jm(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const s=this.ww(e),i=s*e.deltaX/100,a=-s*e.deltaY/100;if(e.cancelable&&e.preventDefault(),a!==0&&this.Ps.handleScale.mouseWheel){const n=Math.sign(a)*Math.min(1,Math.abs(a)),o=e.clientX-this.kp.getBoundingClientRect().left;this.Qt().bc(o,n)}i!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Sc(-80*i)}ew(e,s){var a;const i=e.nn();i===3&&this.gw(),i!==3&&i!==2||(this.Mw(e),this.bw(e,s),this.Zm.yt(),this.zm.forEach(n=>{n.Nv()}),((a=this.Wm)==null?void 0:a.nn())===3&&(this.Wm.vn(e),this.gw(),this.Mw(this.Wm),this.bw(this.Wm,s),e=this.Wm,this.Wm=null)),this.lv(e)}bw(e,s){for(const i of e.pn())this.mn(i,s)}Mw(e){const s=this.ts.$s();for(let i=0;i<s.length;i++)e.en(i).sn&&s[i].Go()}mn(e,s){const i=this.ts.Et();switch(e.an){case 0:i.Au();break;case 1:i.zu(e.Wt);break;case 2:i.dn(e.Wt);break;case 3:i.fn(e.Wt);break;case 4:i.Su();break;case 5:e.Wt.Ru(s)||i.fn(e.Wt.Du(s))}}Gu(e){this.Wm!==null?this.Wm.vn(e):this.Wm=e,this.Hm||(this.Hm=!0,this.Om=window.requestAnimationFrame(s=>{if(this.Hm=!1,this.Om=0,this.Wm!==null){const i=this.Wm;this.Wm=null,this.ew(i,s);for(const a of i.pn())if(a.an===5&&!a.Wt.Ru(s)){this.Qt()._n(a.Wt);break}}}))}gw(){this.Qm()}sw(e){this.qm.removeChild(e.Zf()),e.m()}Qm(){const e=this.ts.$s(),s=e.length,i=this.zm.length;for(let a=s;a<i;a++){const n=Re(this.zm.pop());this.qm.removeChild(n.Zf()),n.Xv().u(this),n.Zv().u(this),n.m();const o=this.Lm.pop();o!==void 0&&this.sw(o)}for(let a=i;a<s;a++){const n=new ci(this,e[a]);if(n.Xv().i(this.Sw.bind(this,n),this),n.Zv().i(this.xw.bind(this,n),this),this.zm.push(n),a>0){const o=new Co(this,a-1,a);this.Lm.push(o),this.qm.insertBefore(o.Zf(),this.Zm.Zf())}this.qm.insertBefore(n.Zf(),this.Zm.Zf())}for(let a=0;a<s;a++){const n=e[a],o=this.zm[a];o.ap()!==n?o.Lv(n):o.zv()}this.tw(),this.mw()}Cw(e,s,i,a){var f;const n=new Map;e!==null&&this.ts.js().forEach(g=>{const x=g.Xs().Fr(e);x!==null&&n.set(g,x)});let o;if(e!==null){const g=(f=this.ts.Et().ss(e))==null?void 0:f.originalTime;g!==void 0&&(o=g)}const l=this.Qt().ac(),c=l!==null&&l.n_ instanceof Ns?l.n_:void 0,d=l!==null&&l.e_!==void 0?l.e_.Kn:void 0,m=this.Pw(a);return{yw:o,Re:e??void 0,kw:s??void 0,Tw:m!==-1?m:void 0,Rw:c,Dw:n,Vw:d,Bw:i??void 0}}Pw(e){let s=-1;if(e)s=this.zm.indexOf(e);else{const i=this.Qt().uc().Us();i!==null&&(s=this.Qt().$s().indexOf(i))}return s}Sw(e,s,i,a){this.xv.p(()=>this.Cw(s,i,a,e))}xw(e,s,i,a){this.Cv.p(()=>this.Cw(s,i,a,e))}Xm(e,s,i){var a;this.dw(((a=this.Qt().ac())==null?void 0:a.h_)??null),this.Xu.p(()=>this.Cw(e,s,i))}tw(){const e=this.Ps.timeScale.visible?"":"none";this.Zm.Zf().style.display=e}_w(){return this.zm[0].ap().Wo().N().visible}uw(){return this.zm[0].ap().Ho().N().visible}Gm(){return"ResizeObserver"in window&&(this.Um=new ResizeObserver(e=>{const s=e[e.length-1];s&&this.Jm(s.contentRect.width,s.contentRect.height)}),this.Um.observe(this.Dp,{box:"border-box"}),!0)}nw(){this.Um!==null&&this.Um.disconnect(),this.Um=null}}function Us(r){return!!(r.handleScroll.mouseWheel||r.handleScale.mouseWheel)}function Wo(r){return r.open===void 0&&r.value===void 0}function Lo(r){return function(e){return e.open!==void 0}(r)||function(e){return e.value!==void 0}(r)}function ca(r,e,s,i){const a=s.value,n={Re:e,wt:r,Wt:[a,a,a,a],yw:i};return s.color!==void 0&&(n.R=s.color),n}function Do(r,e,s,i){const a=s.value,n={Re:e,wt:r,Wt:[a,a,a,a],yw:i};return s.lineColor!==void 0&&(n.vt=s.lineColor),s.topColor!==void 0&&(n.mr=s.topColor),s.bottomColor!==void 0&&(n.wr=s.bottomColor),n}function Fo(r,e,s,i){const a=s.value,n={Re:e,wt:r,Wt:[a,a,a,a],yw:i};return s.topLineColor!==void 0&&(n.gr=s.topLineColor),s.bottomLineColor!==void 0&&(n.Mr=s.bottomLineColor),s.topFillColor1!==void 0&&(n.br=s.topFillColor1),s.topFillColor2!==void 0&&(n.Sr=s.topFillColor2),s.bottomFillColor1!==void 0&&(n.Cr=s.bottomFillColor1),s.bottomFillColor2!==void 0&&(n.Pr=s.bottomFillColor2),n}function $o(r,e,s,i){const a={Re:e,wt:r,Wt:[s.open,s.high,s.low,s.close],yw:i};return s.color!==void 0&&(a.R=s.color),a}function Oo(r,e,s,i){const a={Re:e,wt:r,Wt:[s.open,s.high,s.low,s.close],yw:i};return s.color!==void 0&&(a.R=s.color),s.borderColor!==void 0&&(a.Ht=s.borderColor),s.wickColor!==void 0&&(a.vr=s.wickColor),a}function Vo(r,e,s,i,a){const n=Re(a)(s),o=Math.max(...n),l=Math.min(...n),c=n[n.length-1],d=[c,o,l,c],{time:m,color:f,...g}=s;return{Re:e,wt:r,Wt:d,yw:i,se:g,R:f}}function Bt(r){return r.Wt!==void 0}function da(r,e){return e.customValues!==void 0&&(r.Iw=e.customValues),r}function Xe(r){return(e,s,i,a,n,o)=>function(l,c){return c?c(l):Wo(l)}(i,o)?da({wt:e,Re:s,yw:a},i):da(r(e,s,i,a,n),i)}function ha(r){return{Candlestick:Xe(Oo),Bar:Xe($o),Area:Xe(Do),Baseline:Xe(Fo),Histogram:Xe(ca),Line:Xe(ca),Custom:Xe(Vo)}[r]}function ua(r){return{Re:0,Ew:new Map,Hh:r}}function ma(r,e){if(r!==void 0&&r.length!==0)return{Aw:e.key(r[0].wt),zw:e.key(r[r.length-1].wt)}}function fa(r){let e;return r.forEach(s=>{e===void 0&&(e=s.yw)}),Re(e)}class Yo{constructor(e){this.Lw=new Map,this.Ow=new Map,this.Nw=new Map,this.Fw=[],this.o_=e}m(){this.Lw.clear(),this.Ow.clear(),this.Nw.clear(),this.Fw=[]}Ww(e,s){let i=this.Lw.size!==0,a=!1;const n=this.Ow.get(e);if(n!==void 0)if(this.Ow.size===1)i=!1,a=!0,this.Lw.clear();else for(const c of this.Fw)c.pointData.Ew.delete(e)&&(a=!0);let o=[];if(s.length!==0){const c=s.map(x=>x.time),d=this.o_.createConverterToInternalObj(s),m=ha(e.Rr()),f=e.ca(),g=e.fa();o=s.map((x,b)=>{const v=d(x.time),y=this.o_.key(v);let k=this.Lw.get(y);k===void 0&&(k=ua(v),this.Lw.set(y,k),a=!0);const _=m(v,k.Re,x,c[b],f,g);return k.Ew.set(e,_),_})}i&&this.Hw(),this.Uw(e,o);let l=-1;if(a){const c=[];this.Lw.forEach(d=>{c.push({timeWeight:0,time:d.Hh,pointData:d,originalTime:fa(d.Ew)})}),c.sort((d,m)=>this.o_.key(d.time)-this.o_.key(m.time)),l=this.$w(c)}return this.qw(e,l,function(c,d,m){const f=ma(c,m),g=ma(d,m);if(f!==void 0&&g!==void 0)return{Yw:!1,zh:f.zw>=g.zw&&f.Aw>=g.Aw}}(this.Ow.get(e),n,this.o_))}Ac(e){return this.Ww(e,[])}jw(e,s,i){const a=s;(function(y){y.yw===void 0&&(y.yw=y.time)})(a),this.o_.preprocessData(s);const n=this.o_.createConverterToInternalObj([s])(s.time),o=this.Nw.get(e);if(!i&&o!==void 0&&this.o_.key(n)<this.o_.key(o))throw new Error(`Cannot update oldest data, last time=${o}, new time=${n}`);let l=this.Lw.get(this.o_.key(n));if(i&&l===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const c=l===void 0;l===void 0&&(l=ua(n),this.Lw.set(this.o_.key(n),l));const d=ha(e.Rr()),m=e.ca(),f=e.fa(),g=d(n,l.Re,s,a.yw,m,f);l.Ew.set(e,g),i?this.Kw(e,g,l.Re):this.Xw(e,g);const x={zh:Bt(g),Yw:i};if(!c)return this.qw(e,-1,x);const b={timeWeight:0,time:l.Hh,pointData:l,originalTime:fa(l.Ew)},v=yt(this.Fw,this.o_.key(b.time),(y,k)=>this.o_.key(y.time)<k);this.Fw.splice(v,0,b);for(let y=v;y<this.Fw.length;++y)os(this.Fw[y].pointData,y);return this.o_.fillWeightsForPoints(this.Fw,v),this.qw(e,v,x)}Zw(e,s){const i=this.Ow.get(e);if(i===void 0||s<=0)return[[],this.Gw()];s=Math.min(s,i.length);const a=i.splice(-s).reverse();i.length===0?this.Nw.delete(e):this.Nw.set(e,i[i.length-1].wt);for(const n of a){const o=this.Lw.get(this.o_.key(n.wt));if(o&&(o.Ew.delete(e),o.Ew.size===0)){this.Lw.delete(this.o_.key(o.Hh)),this.Fw.splice(o.Re,1);for(let l=o.Re;l<this.Fw.length;++l)os(this.Fw[l].pointData,l)}}return[a,this.qw(e,this.Fw.length-1,{Yw:!1,zh:!1})]}Xw(e,s){let i=this.Ow.get(e);i===void 0&&(i=[],this.Ow.set(e,i));const a=i.length!==0?i[i.length-1]:null;a===null||this.o_.key(s.wt)>this.o_.key(a.wt)?Bt(s)&&i.push(s):Bt(s)?i[i.length-1]=s:i.splice(-1,1),this.Nw.set(e,s.wt)}Kw(e,s,i){const a=this.Ow.get(e);if(a===void 0)return;const n=yt(a,i,(o,l)=>o.Re<l);Bt(s)?a[n]=s:a.splice(n,1)}Uw(e,s){s.length!==0?(this.Ow.set(e,s.filter(Bt)),this.Nw.set(e,s[s.length-1].wt)):(this.Ow.delete(e),this.Nw.delete(e))}Hw(){for(const e of this.Fw)e.pointData.Ew.size===0&&this.Lw.delete(this.o_.key(e.time))}$w(e){let s=-1;for(let i=0;i<this.Fw.length&&i<e.length;++i){const a=this.Fw[i],n=e[i];if(this.o_.key(a.time)!==this.o_.key(n.time)){s=i;break}n.timeWeight=a.timeWeight,os(n.pointData,i)}if(s===-1&&this.Fw.length!==e.length&&(s=Math.min(this.Fw.length,e.length)),s===-1)return-1;for(let i=s;i<e.length;++i)os(e[i].pointData,i);return this.o_.fillWeightsForPoints(e,s),this.Fw=e,s}Jw(){if(this.Ow.size===0)return null;let e=0;return this.Ow.forEach(s=>{s.length!==0&&(e=Math.max(e,s[s.length-1].Re))}),e}qw(e,s,i){const a=this.Gw();if(s!==-1)this.Ow.forEach((n,o)=>{a.Oo.set(o,{se:n,Qw:o===e?i:void 0})}),this.Ow.has(e)||a.Oo.set(e,{se:[],Qw:i}),a.Et.tg=this.Fw,a.Et.ig=s;else{const n=this.Ow.get(e);a.Oo.set(e,{se:n||[],Qw:i})}return a}Gw(){return{Oo:new Map,Et:{_u:this.Jw()}}}}function os(r,e){r.Re=e,r.Ew.forEach(s=>{s.Re=e})}function Uo(r,e){return r.wt<e}function qo(r,e){return e<r.wt}function Ho(r,e,s){const i=e.Uh(),a=e.bi(),n=yt(r,i,Uo),o=Ha(r,a,qo);if(!s)return{from:n,to:o};let l=n,c=o;return n>0&&n<r.length&&r[n].wt>=i&&(l=n-1),o>0&&o<r.length&&r[o-1].wt<=a&&(c=o+1),{from:l,to:c}}class Go{constructor(e,s,i){this.sg=!0,this.ng=!0,this.eg=!0,this.rg=[],this.hg=null,this.Jn=e,this.Qn=s,this.ag=i}yt(e){this.sg=!0,e==="data"&&(this.ng=!0),e==="options"&&(this.eg=!0)}Tt(){return this.Jn.Vt()?(this.lg(),this.hg===null?null:this.og):null}_g(){this.rg=this.rg.map(e=>({...e,...this.Jn.Rh().Dr(e.wt)}))}ug(){this.hg=null}lg(){this.ng&&(this.cg(),this.ng=!1),this.eg&&(this._g(),this.eg=!1),this.sg&&(this.dg(),this.sg=!1)}dg(){const e=this.Jn.Ft(),s=this.Qn.Et();if(this.ug(),s.Ki()||e.Ki())return;const i=s.Pe();if(i===null||this.Jn.Xs().zr()===0)return;const a=this.Jn.zt();a!==null&&(this.hg=Ho(this.rg,i,this.ag),this.fg(e,s,a.Wt),this.pg())}}class Jo{constructor(e,s){this.vg=e,this.Yi=s}nt(e,s,i){this.vg.draw(e,this.Yi,s,i)}}class Ko extends Go{constructor(e,s,i){super(e,s,!1),this.sh=i,this.og=new Jo(this.sh.renderer(),a=>{const n=e.zt();return n===null?null:e.Ft().Nt(a,n.Wt)})}da(e){return this.sh.priceValueBuilder(e)}pa(e){return this.sh.isWhitespace(e)}cg(){const e=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map(s=>({wt:s.Re,_t:NaN,...e.Dr(s.Re),mg:s.se}))}fg(e,s){s.uu(this.rg,xn(this.hg))}pg(){this.sh.update({bars:this.rg.map(Qo),barSpacing:this.Qn.Et().mu(),visibleRange:this.hg},this.Jn.N())}}function Qo(r){return{x:r._t,time:r.wt,originalData:r.mg,barColor:r.cr}}const Zo={color:"#2196f3"},Xo=(r,e,s)=>{const i=Ke(s);return new Ko(r,e,i)};function hi(r){const e={value:r.Wt[3],time:r.yw};return r.Iw!==void 0&&(e.customValues=r.Iw),e}function pa(r){const e=hi(r);return r.R!==void 0&&(e.color=r.R),e}function el(r){const e=hi(r);return r.vt!==void 0&&(e.lineColor=r.vt),r.mr!==void 0&&(e.topColor=r.mr),r.wr!==void 0&&(e.bottomColor=r.wr),e}function tl(r){const e=hi(r);return r.gr!==void 0&&(e.topLineColor=r.gr),r.Mr!==void 0&&(e.bottomLineColor=r.Mr),r.br!==void 0&&(e.topFillColor1=r.br),r.Sr!==void 0&&(e.topFillColor2=r.Sr),r.Cr!==void 0&&(e.bottomFillColor1=r.Cr),r.Pr!==void 0&&(e.bottomFillColor2=r.Pr),e}function tr(r){const e={open:r.Wt[0],high:r.Wt[1],low:r.Wt[2],close:r.Wt[3],time:r.yw};return r.Iw!==void 0&&(e.customValues=r.Iw),e}function sl(r){const e=tr(r);return r.R!==void 0&&(e.color=r.R),e}function il(r){const e=tr(r),{R:s,Ht:i,vr:a}=r;return s!==void 0&&(e.color=s),i!==void 0&&(e.borderColor=i),a!==void 0&&(e.wickColor=a),e}function ds(r){return{Area:el,Line:pa,Baseline:tl,Histogram:pa,Bar:sl,Candlestick:il,Custom:al}[r]}function al(r){const e=r.yw;return{...r.se,time:e}}const rl={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},nl={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},ol={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Da,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},qs={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},ll={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function ga(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:ol,crosshair:rl,grid:nl,overlayPriceScales:{...qs},leftPriceScale:{...qs,visible:!1},rightPriceScale:{...qs,visible:!0},timeScale:ll,localization:{locale:vt?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class sr{constructor(e,s,i){this.Hf=e,this.wg=s,this.gg=i??0}applyOptions(e){this.Hf.Qt().oc(this.wg,e,this.gg)}options(){return this.Yi().N()}width(){return js(this.wg)?this.Hf.ow(this.wg):0}setVisibleRange(e){this.setAutoScale(!1),this.Yi().Fl(new _e(e.from,e.to))}getVisibleRange(){let e,s,i=this.Yi().Qe();if(i===null)return null;if(this.Yi().Ja()){const a=this.Yi().fo(),n=Za(a);i=ft(i,this.Yi().tl()),e=Number((Math.round(i.$e()/a)*a).toFixed(n)),s=Number((Math.round(i.qe()/a)*a).toFixed(n))}else e=i.$e(),s=i.qe();return{from:e,to:s}}setAutoScale(e){this.applyOptions({autoScale:e})}Yi(){return S(this.Hf.Qt()._c(this.wg,this.gg)).Ft}}class cl{constructor(e,s,i,a){this.Hf=e,this.Pt=i,this.Mg=s,this.bg=a}getHeight(){return this.Pt.$t()}setHeight(e){const s=this.Hf.Qt(),i=s.Uc(this.Pt);s.vc(i,e)}getStretchFactor(){return this.Pt.Bo()}setStretchFactor(e){this.Pt.Io(e),this.Hf.Qt().Ih()}paneIndex(){return this.Hf.Qt().Uc(this.Pt)}moveTo(e){const s=this.paneIndex();s!==e&&(je(e>=0&&e<this.Hf.$f().length,"Invalid pane index"),this.Hf.Qt().wc(s,e))}getSeries(){return this.Pt.Oo().map(e=>this.Mg(e))??[]}getHTMLElement(){const e=this.Hf.$f();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].Zf():null}attachPrimitive(e){this.Pt._a(e),e.attached&&e.attached({chart:this.bg,requestUpdate:()=>this.Pt.Qt().Ih()})}detachPrimitive(e){this.Pt.ua(e)}priceScale(e){if(this.Pt.Do(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new sr(this.Hf,e,this.paneIndex())}setPreserveEmptyPane(e){this.Pt.zo(e)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(e,s={},i=0){return this.bg.addCustomSeries(e,s,i)}addSeries(e,s={}){return this.bg.addSeries(e,s,this.paneIndex())}}const dl={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class xa{constructor(e){this.ir=e}applyOptions(e){this.ir.hr(e)}options(){return this.ir.N()}Sg(){return this.ir}}class hl{constructor(e,s,i,a,n,o){this.xg=new ce,this.Jn=e,this.Cg=s,this.Pg=i,this.o_=n,this.bg=a,this.yg=o}m(){this.xg.m()}priceFormatter(){return this.Jn.ea()}priceToCoordinate(e){const s=this.Jn.zt();return s===null?null:this.Jn.Ft().Nt(e,s.Wt)}coordinateToPrice(e){const s=this.Jn.zt();return s===null?null:this.Jn.Ft().Ts(e,s.Wt)}barsInLogicalRange(e){if(e===null)return null;const s=new pt(new Lt(e.from,e.to)).y_(),i=this.Jn.Xs();if(i.Ki())return null;const a=i.Fr(s.Uh(),1),n=i.Fr(s.bi(),-1),o=S(i.Lr()),l=S(i.Ks());if(a!==null&&n!==null&&a.Re>n.Re)return{barsBefore:e.from-o,barsAfter:l-e.to};const c={barsBefore:a===null||a.Re===o?e.from-o:a.Re-o,barsAfter:n===null||n.Re===l?l-e.to:l-n.Re};return a!==null&&n!==null&&(c.from=a.yw,c.to=n.yw),c}setData(e){this.o_,this.Jn.Rr(),this.Cg.kg(this.Jn,e),this.Tg("full")}update(e,s=!1){this.Jn.Rr(),this.Cg.Rg(this.Jn,e,s),this.Tg("update")}pop(e=1){const s=this.Cg.Dg(this.Jn,e);s.length!==0&&this.Tg("update");const i=ds(this.seriesType());return s.map(a=>i(a))}dataByIndex(e,s){const i=this.Jn.Xs().Fr(e,s);return i===null?null:ds(this.seriesType())(i)}data(){const e=ds(this.seriesType());return this.Jn.Xs().Hr().map(s=>e(s))}subscribeDataChanged(e){this.xg.i(e)}unsubscribeDataChanged(e){this.xg._(e)}applyOptions(e){this.Jn.hr(e)}options(){return Ue(this.Jn.N())}priceScale(){return this.Pg.priceScale(this.Jn.Ft().ma(),this.getPane().paneIndex())}createPriceLine(e){const s=Pe(Ue(dl),e),i=this.Jn.Oh(s);return new xa(i)}removePriceLine(e){this.Jn.Nh(e.Sg())}priceLines(){return this.Jn.Fh().map(e=>new xa(e))}seriesType(){return this.Jn.Rr()}lastValueData(e){const s=this.Jn.ye(e);return s.ke?{noData:!0}:{noData:!1,price:s.gt,color:s.R}}attachPrimitive(e){this.Jn._a(e),e.attached&&e.attached({chart:this.bg,series:this,requestUpdate:()=>this.Jn.Qt().Ih(),horzScaleBehavior:this.o_})}detachPrimitive(e){this.Jn.ua(e),e.detached&&e.detached(),this.Jn.Qt().Ih()}getPane(){const e=this.Jn,s=S(this.Jn.Qt().Hn(e));return this.yg(s)}moveToPane(e){this.Jn.Qt().Nc(this.Jn,e)}seriesOrder(){const e=this.Jn.Qt().Hn(this.Jn);return e===null?-1:e.Oo().indexOf(this.Jn)}setSeriesOrder(e){const s=this.Jn.Qt().Hn(this.Jn);s!==null&&s.Qo(this.Jn,e)}Tg(e){this.xg.v()&&this.xg.p(e)}}class ul{constructor(e,s,i){this.Vg=new ce,this.z_=new ce,this.gm=new ce,this.ts=e,this.uh=e.Et(),this.Zm=s,this.uh.Vu().i(this.Bg.bind(this)),this.uh.Bu().i(this.Ig.bind(this)),this.Zm.ym().i(this.Eg.bind(this)),this.o_=i}m(){this.uh.Vu().u(this),this.uh.Bu().u(this),this.Zm.ym().u(this),this.Vg.m(),this.z_.m(),this.gm.m()}scrollPosition(){return this.uh.gu()}scrollToPosition(e,s){s?this.uh.Tu(e,1e3):this.ts.fn(e)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const e=this.uh.nu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const s={from:this.o_.convertHorzItemToInternal(e.from),to:this.o_.convertHorzItemToInternal(e.to)},i=this.uh.au(s);this.ts.Lc(i)}getVisibleLogicalRange(){const e=this.uh.su();return e===null?null:{from:e.Uh(),to:e.bi()}}setVisibleLogicalRange(e){je(e.from<=e.to,"The from index cannot be after the to index."),this.ts.Lc(e)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Au()}logicalToCoordinate(e){const s=this.ts.Et();return s.Ki()?null:s.qt(e)}coordinateToLogical(e){return this.uh.Ki()?null:this.uh.cu(e)}timeToIndex(e,s){const i=this.o_.convertHorzItemToInternal(e);return this.uh.Q_(i,s)}timeToCoordinate(e){const s=this.timeToIndex(e,!1);return s===null?null:this.uh.qt(s)}coordinateToTime(e){const s=this.ts.Et(),i=s.cu(e),a=s.ss(i);return a===null?null:a.originalTime}width(){return this.Zm.Gf().width}height(){return this.Zm.Gf().height}subscribeVisibleTimeRangeChange(e){this.Vg.i(e)}unsubscribeVisibleTimeRangeChange(e){this.Vg._(e)}subscribeVisibleLogicalRangeChange(e){this.z_.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.z_._(e)}subscribeSizeChange(e){this.gm.i(e)}unsubscribeSizeChange(e){this.gm._(e)}applyOptions(e){this.uh.hr(e)}options(){return{...Ue(this.uh.N()),barSpacing:this.uh.mu()}}Bg(){this.Vg.v()&&this.Vg.p(this.getVisibleRange())}Ig(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Eg(e){this.gm.p(e.width,e.height)}}function ba(r){return function(e){if(es(e.handleScale)){const i=e.handleScale;e.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:a}=e.handleScale;es(i)&&(e.handleScale.axisPressedMouseMove={time:i,price:i}),es(a)&&(e.handleScale.axisDoubleClickReset={time:a,price:a})}const s=e.handleScroll;es(s)&&(e.handleScroll={horzTouchDrag:s,vertTouchDrag:s,mouseWheel:s,pressedMouseMove:s})}(r),r}class ml{constructor(e,s,i){this.Ag=new Map,this.zg=new Map,this.Lg=new ce,this.Og=new ce,this.Ng=new ce,this.qu=new WeakMap,this.Fg=new Yo(s);const a=i===void 0?Ue(ga()):Pe(Ue(ga()),ba(i));this.Wg=s,this.Hf=new Eo(e,a,s),this.Hf.Xv().i(o=>{this.Lg.v()&&this.Lg.p(this.Hg(o()))},this),this.Hf.Zv().i(o=>{this.Og.v()&&this.Og.p(this.Hg(o()))},this),this.Hf.cc().i(o=>{this.Ng.v()&&this.Ng.p(this.Hg(o()))},this);const n=this.Hf.Qt();this.Ug=new ul(n,this.Hf.iw(),this.Wg)}remove(){this.Hf.Xv().u(this),this.Hf.Zv().u(this),this.Hf.cc().u(this),this.Ug.m(),this.Hf.m(),this.Ag.clear(),this.zg.clear(),this.Lg.m(),this.Og.m(),this.Ng.m(),this.Fg.m()}resize(e,s,i){this.autoSizeActive()||this.Hf.Jm(e,s,i)}addCustomSeries(e,s={},i=0){const a=(n=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...Zo,...n.defaultOptions()},$g:Xo,qg:n}))(Ke(e));return this.Yg(a,s,i)}addSeries(e,s={},i=0){return this.Yg(e,s,i)}removeSeries(e){const s=Re(this.Ag.get(e)),i=this.Fg.Ac(s);this.Hf.Qt().Ac(s),this.jg(i),this.Ag.delete(e),this.zg.delete(s)}kg(e,s){this.jg(this.Fg.Ww(e,s))}Rg(e,s,i){this.jg(this.Fg.jw(e,s,i))}Dg(e,s){const[i,a]=this.Fg.Zw(e,s);return i.length!==0&&this.jg(a),i}subscribeClick(e){this.Lg.i(e)}unsubscribeClick(e){this.Lg._(e)}subscribeCrosshairMove(e){this.Ng.i(e)}unsubscribeCrosshairMove(e){this.Ng._(e)}subscribeDblClick(e){this.Og.i(e)}unsubscribeDblClick(e){this.Og._(e)}priceScale(e,s=0){return new sr(this.Hf,e,s)}timeScale(){return this.Ug}applyOptions(e){this.Hf.hr(ba(e))}options(){return this.Hf.N()}takeScreenshot(e=!1,s=!1){let i,a;try{s||(i=this.Hf.Qt().N().crosshair.mode,this.Hf.hr({crosshair:{mode:2}})),a=this.Hf.aw(e)}finally{s||i===void 0||this.Hf.Qt().hr({crosshair:{mode:i}})}return a}addPane(e=!1){const s=this.Hf.Qt().$c();return s.zo(e),this.Kg(s)}removePane(e){this.Hf.Qt().fc(e)}swapPanes(e,s){this.Hf.Qt().mc(e,s)}autoSizeActive(){return this.Hf.cw()}chartElement(){return this.Hf.ip()}panes(){return this.Hf.Qt().$s().map(e=>this.Kg(e))}paneSize(e=0){const s=this.Hf.pw(e);return{height:s.height,width:s.width}}setCrosshairPosition(e,s,i){const a=this.Ag.get(i);if(a===void 0)return;const n=this.Hf.Qt().Hn(a);n!==null&&this.Hf.Qt().Rc(e,s,n)}clearCrosshairPosition(){this.Hf.Qt().Dc(!0)}horzBehaviour(){return this.Wg}Yg(e,s={},i=0){je(e.$g!==void 0),function(c){if(c===void 0||c.type==="custom")return;const d=c;d.minMove!==void 0&&d.precision===void 0&&(d.precision=Za(d.minMove))}(s.priceFormat),e.type==="Candlestick"&&function(c){c.borderColor!==void 0&&(c.borderUpColor=c.borderColor,c.borderDownColor=c.borderColor),c.wickColor!==void 0&&(c.wickUpColor=c.wickColor,c.wickDownColor=c.wickColor)}(s);const a=Pe(Ue(Wa),Ue(e.defaultOptions),s),n=e.$g,o=new Ns(this.Hf.Qt(),e.type,a,n,e.qg);this.Hf.Qt().Ic(o,i);const l=new hl(o,this,this,this,this.Wg,c=>this.Kg(c));return this.Ag.set(l,o),this.zg.set(o,l),l}jg(e){const s=this.Hf.Qt();s.Vc(e.Et._u,e.Et.tg,e.Et.ig),e.Oo.forEach((i,a)=>a.ht(i.se,i.Qw)),s.Et().K_(),s.vu()}Xg(e){return Re(this.zg.get(e))}Hg(e){const s=new Map;e.Dw.forEach((a,n)=>{const o=n.Rr(),l=ds(o)(a);if(o!=="Custom")je(Lo(l));else{const c=n.fa();je(!c||c(l)===!1)}s.set(this.Xg(n),l)});const i=e.Rw!==void 0&&this.zg.has(e.Rw)?this.Xg(e.Rw):void 0;return{time:e.yw,logical:e.Re,point:e.kw,paneIndex:e.Tw,hoveredSeries:i,hoveredObjectId:e.Vw,seriesData:s,sourceEvent:e.Bw}}Kg(e){let s=this.qu.get(e);return s||(s=new cl(this.Hf,i=>this.Xg(i),e,this),this.qu.set(e,s)),s}}function fl(r){if(Vt(r)){const e=document.getElementById(r);return je(e!==null,`Cannot find element in DOM with id=${r}`),e}return r}function pl(r,e,s){const i=fl(r),a=new ml(i,e,s);return e.setOptions(a.options()),a}function gl(r,e){return pl(r,new ta,ta.ld(e))}({...Wa});const xl=[{symbol:"AAPL",name:"Apple Inc."},{symbol:"MSFT",name:"Microsoft Corporation"},{symbol:"GOOGL",name:"Alphabet Inc."},{symbol:"AMZN",name:"Amazon.com Inc."},{symbol:"TSLA",name:"Tesla Inc."},{symbol:"NVDA",name:"NVIDIA Corporation"},{symbol:"META",name:"Meta Platforms Inc."},{symbol:"NFLX",name:"Netflix Inc."},{symbol:"AMD",name:"Advanced Micro Devices"},{symbol:"INTC",name:"Intel Corporation"},{symbol:"CRM",name:"Salesforce Inc."},{symbol:"ORCL",name:"Oracle Corporation"},{symbol:"CSCO",name:"Cisco Systems Inc."},{symbol:"IBM",name:"International Business Machines"},{symbol:"UBER",name:"Uber Technologies Inc."},{symbol:"SPOT",name:"Spotify Technology S.A."}];async function bl(){var e;const r={AAPL:0,MSFT:0,GOOGL:0,AMZN:0,TSLA:0,NVDA:0,META:0,NFLX:0};try{console.log("ðŸ”„ Fetching stock prices from Yahoo Finance...");const s=["AAPL","MSFT","GOOGL","AMZN","TSLA","NVDA","META","NFLX"],i={...r},a=await fetch(`https://query1.finance.yahoo.com/v7/finance/quote?symbols=${s.join(",")}`,{method:"GET",headers:{Accept:"application/json","User-Agent":"CipherVault-App/1.0"}});if(a.ok&&((((e=(await a.json()).quoteResponse)==null?void 0:e.result)||[]).forEach(c=>{const d=c.regularMarketPrice;d&&d>0&&(i[c.symbol]=d)}),Object.values(i).filter(c=>c>0).length>=4))return console.log("âœ… Yahoo Finance stock prices fetched successfully:",i),i}catch(s){console.warn("âš ï¸ Yahoo Finance API failed:",s)}try{console.log("ðŸ”„ Fetching stock prices from Alpha Vantage...");const s=void 0}catch(s){console.warn("âš ï¸ Alpha Vantage API failed:",s)}return console.error("âŒ All stock price APIs failed - returning default values"),r}async function ya(r){var e,s;try{console.log(`ðŸ”„ Fetching detailed data for ${r}...`);const i=await fetch(`https://query1.finance.yahoo.com/v7/finance/quote?symbols=${r}`,{method:"GET",headers:{Accept:"application/json","User-Agent":"CipherVault-App/1.0"}});if(i.ok){const n=(s=(e=(await i.json()).quoteResponse)==null?void 0:e.result)==null?void 0:s[0];if(n)return{symbol:n.symbol,name:n.longName||n.shortName||r,current_price:n.regularMarketPrice||0,change:n.regularMarketChange||0,change_percent:n.regularMarketChangePercent||0,volume:n.regularMarketVolume||0,market_cap:n.marketCap,pe_ratio:n.trailingPE,dividend_yield:n.dividendYield,high_52w:n.fiftyTwoWeekHigh,low_52w:n.fiftyTwoWeekLow,avg_volume_10d:n.averageDailyVolume10Day,last_updated:new Date().toISOString()}}}catch(i){console.warn(`âš ï¸ Failed to fetch ${r} details:`,i)}return null}async function yl(r,e="1D"){var s,i,a,n;try{console.log(`ðŸ”„ Fetching chart data for ${r} (${e})...`);const o={"1D":"1d","1W":"5d","1M":"1mo","3M":"3mo","6M":"6mo","1Y":"1y","5Y":"5y"},l={"1D":"5m","1W":"1h","1M":"1d","3M":"1d","6M":"1wk","1Y":"1wk","5Y":"1mo"},c=await fetch(`https://query1.finance.yahoo.com/v8/finance/chart/${r}?period1=${Math.floor(Date.now()/1e3)-31536e3}&period2=${Math.floor(Date.now()/1e3)}&interval=${l[e]}`,{method:"GET",headers:{Accept:"application/json","User-Agent":"CipherVault-App/1.0"}});if(c.ok){const m=(i=(s=(await c.json()).chart)==null?void 0:s.result)==null?void 0:i[0];if(m){const f=m.timestamp||[],g=((n=(a=m.indicators)==null?void 0:a.quote)==null?void 0:n[0])||{},x=f.map((b,v)=>{var y,k,_,L,B;return{timestamp:b*1e3,open:((y=g.open)==null?void 0:y[v])||0,high:((k=g.high)==null?void 0:k[v])||0,low:((_=g.low)==null?void 0:_[v])||0,close:((L=g.close)==null?void 0:L[v])||0,volume:((B=g.volume)==null?void 0:B[v])||0}}).filter(b=>b.close>0);return{symbol:r,timeframe:e,data:x}}}}catch(o){console.warn(`âš ï¸ Failed to fetch chart data for ${r}:`,o)}return null}async function vl(r){try{console.log(`ðŸ”„ Searching stocks for "${r}"...`);const e=await fetch(`https://query1.finance.yahoo.com/v1/finance/search?q=${encodeURIComponent(r)}&quotesCount=10&newsCount=0`,{method:"GET",headers:{Accept:"application/json","User-Agent":"CipherVault-App/1.0"}});if(e.ok)return((await e.json()).quotes||[]).filter(a=>a.symbol&&a.shortname).map(a=>({symbol:a.symbol,name:a.shortname}))}catch(e){console.warn("âš ï¸ Stock search failed:",e)}return[]}function Mt(r){return r==null||isNaN(r)?"$0.00":r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}function jl(r){return r==null||isNaN(r)?"$0":r>=1e12?`$${(r/1e12).toFixed(2)}T`:r>=1e9?`$${(r/1e9).toFixed(2)}B`:r>=1e6?`$${(r/1e6).toFixed(2)}M`:`$${r.toLocaleString()}`}function wl(){var Z;const[r,e]=j.useState({AAPL:0,MSFT:0,GOOGL:0,AMZN:0,TSLA:0,NVDA:0,META:0,NFLX:0}),[s,i]=j.useState(null),[a,n]=j.useState(null),[o,l]=j.useState(null),[c,d]=j.useState(!0),[m,f]=j.useState(""),[g,x]=j.useState([]),[b,v]=j.useState(!1),[y,k]=j.useState("1D"),[_,L]=j.useState("buy"),[B,H]=j.useState(""),[p,U]=j.useState("market"),[V,de]=j.useState(""),fe=j.useRef(null),oe=j.useRef(null),N=j.useRef(null);j.useEffect(()=>{async function P(){d(!0);try{const I=await bl();e(I);const ke=await ya("AAPL");ke&&(i(ke),n(ke))}catch(I){console.error("Failed to load stock prices:",I)}d(!1)}P();const Y=setInterval(P,3e4);return()=>clearInterval(Y)},[]),j.useEffect(()=>{s&&we(s.symbol,y)},[s,y]),j.useEffect(()=>{if(fe.current&&!oe.current){const P=gl(fe.current,{layout:{background:{color:"#0f172a"},textColor:"#cbd5e1"},grid:{vertLines:{color:"rgba(255,255,255,0.1)"},horzLines:{color:"rgba(255,255,255,0.1)"}},width:fe.current.clientWidth,height:400,timeScale:{timeVisible:!0,secondsVisible:!1},rightPriceScale:{borderColor:"rgba(255,255,255,0.1)"}}),Y=P.addCandlestickSeries({upColor:"#10b981",downColor:"#ef4444",borderVisible:!1,wickUpColor:"#10b981",wickDownColor:"#ef4444"});oe.current=P,N.current=Y}return()=>{oe.current&&(oe.current.remove(),oe.current=null,N.current=null)}},[]),j.useEffect(()=>{if(o&&N.current){const P=o.data.map(Y=>({time:Y.timestamp/1e3,open:Y.open,high:Y.high,low:Y.low,close:Y.close}));N.current.setData(P),oe.current&&oe.current.timeScale().fitContent()}},[o]);const we=async(P,Y)=>{try{const I=await yl(P,Y);I&&l(I)}catch(I){console.error("Failed to load chart data:",I)}},G=async P=>{try{const Y=await ya(P);Y&&(i(Y),n(Y),f(""),v(!1))}catch(Y){console.error("Failed to load stock details:",Y)}},J=async P=>{if(f(P),P.length>=2)try{const Y=await vl(P);x(Y),v(!0)}catch(Y){console.error("Search failed:",Y)}else v(!1)},Q=()=>{if(!s||!B)return;const P=parseFloat(B),Y=s.current_price,I=P*Y;alert(`${_.toUpperCase()} Order: ${P} shares of ${s.symbol} at $${Y.toFixed(2)} = $${I.toFixed(2)}`)};return c?t.jsx("div",{className:"stock-trading",style:{padding:"2rem",color:"#f8fafc"},children:t.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[t.jsx("i",{className:"icofont-spinner icofont-spin",style:{fontSize:"2rem",color:"#f59e0b"}}),t.jsx("p",{children:"Loading stock market data..."})]})}):t.jsxs("div",{className:"stock-trading",style:{padding:"2rem",color:"#f8fafc",maxWidth:"1400px",margin:"0 auto"},children:[t.jsxs("div",{style:{marginBottom:"2rem"},children:[t.jsxs("h1",{style:{color:"#f8fafc",fontSize:"2rem",fontWeight:"bold",marginBottom:"1rem"},children:[t.jsx("i",{className:"icofont-chart-line",style:{marginRight:"0.5rem",color:"#f59e0b"}}),"Stock Trading"]}),t.jsx("p",{style:{color:"#94a3b8"},children:"Trade stocks with real-time data and advanced charting"})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 400px",gap:"2rem"},children:[t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"2rem",position:"relative"},children:[t.jsx("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:t.jsxs("div",{style:{flex:1,position:"relative"},children:[t.jsx("input",{type:"text",placeholder:"Search stocks (e.g., AAPL, Apple)...",value:m,onChange:P=>J(P.target.value),style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.05)",color:"#f8fafc",fontSize:"0.875rem"}}),b&&g.length>0&&t.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#1e293b",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,marginTop:"0.25rem"},children:g.map(P=>t.jsxs("div",{onClick:()=>G(P.symbol),style:{padding:"0.75rem 1rem",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.1)",transition:"background-color 0.2s"},children:[t.jsx("div",{style:{fontWeight:"600",color:"#f8fafc"},children:P.symbol}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#94a3b8"},children:P.name})]},P.symbol))})]})}),t.jsxs("div",{children:[t.jsx("h3",{style:{color:"#f8fafc",fontSize:"1rem",fontWeight:"600",marginBottom:"0.5rem"},children:"Popular Stocks"}),t.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:xl.slice(0,8).map(P=>t.jsx("button",{onClick:()=>G(P.symbol),style:{padding:"0.5rem 1rem",borderRadius:"20px",border:(s==null?void 0:s.symbol)===P.symbol?"1px solid #f59e0b":"1px solid rgba(255,255,255,0.1)",background:(s==null?void 0:s.symbol)===P.symbol?"rgba(245,158,11,0.1)":"rgba(255,255,255,0.05)",color:"#f8fafc",cursor:"pointer",fontSize:"0.875rem",fontWeight:(s==null?void 0:s.symbol)===P.symbol?"600":"normal"},children:P.symbol},P.symbol))})]})]}),a&&t.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem",border:"1px solid rgba(245,158,11,0.2)"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[t.jsxs("div",{children:[t.jsxs("h2",{style:{color:"#f8fafc",fontSize:"1.5rem",fontWeight:"bold",margin:0},children:[a.name," (",a.symbol,")"]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginTop:"0.5rem"},children:[t.jsx("span",{style:{fontSize:"2rem",fontWeight:"bold",color:"#f8fafc"},children:Mt(a.current_price)}),t.jsxs("span",{style:{color:a.change>=0?"#10b981":"#ef4444",fontWeight:"600",fontSize:"1.125rem"},children:[a.change>=0?"+":"",Mt(a.change),"(",a.change_percent>=0?"+":"",a.change_percent.toFixed(2),"%)"]})]})]}),t.jsxs("div",{style:{textAlign:"right"},children:[t.jsx("div",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:"Volume"}),t.jsx("div",{style:{color:"#f8fafc",fontWeight:"600"},children:((Z=a.volume)==null?void 0:Z.toLocaleString())||"N/A"})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[a.market_cap&&t.jsxs("div",{children:[t.jsx("div",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:"Market Cap"}),t.jsx("div",{style:{color:"#f8fafc",fontWeight:"600"},children:jl(a.market_cap)})]}),a.pe_ratio&&t.jsxs("div",{children:[t.jsx("div",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:"P/E Ratio"}),t.jsx("div",{style:{color:"#f8fafc",fontWeight:"600"},children:a.pe_ratio.toFixed(2)})]}),a.dividend_yield&&t.jsxs("div",{children:[t.jsx("div",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:"Dividend Yield"}),t.jsxs("div",{style:{color:"#f8fafc",fontWeight:"600"},children:[(a.dividend_yield*100).toFixed(2),"%"]})]}),a.high_52w&&t.jsxs("div",{children:[t.jsx("div",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:"52W High"}),t.jsx("div",{style:{color:"#f8fafc",fontWeight:"600"},children:Mt(a.high_52w)})]})]})]}),t.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(245,158,11,0.2)",marginBottom:"2rem"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[t.jsxs("h3",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:"600",margin:0},children:["Price Chart - ",(s==null?void 0:s.symbol)||"AAPL"]}),t.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:["1D","1W","1M","3M","6M","1Y"].map(P=>t.jsx("button",{onClick:()=>k(P),style:{padding:"0.5rem 1rem",borderRadius:"6px",border:y===P?"1px solid #f59e0b":"1px solid rgba(255,255,255,0.1)",background:y===P?"rgba(245,158,11,0.1)":"rgba(255,255,255,0.05)",color:"#f8fafc",cursor:"pointer",fontSize:"0.875rem",fontWeight:y===P?"600":"normal"},children:P},P))})]}),t.jsx("div",{ref:fe,style:{width:"100%",height:"400px"}})]})]}),t.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"12px",padding:"1.5rem",border:"1px solid rgba(245,158,11,0.2)",height:"fit-content"},children:[t.jsxs("h3",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:"600",marginBottom:"1.5rem"},children:[t.jsx("i",{className:"icofont-exchange",style:{marginRight:"0.5rem",color:"#f59e0b"}}),"Trade ",(s==null?void 0:s.symbol)||"AAPL"]}),t.jsx("div",{style:{marginBottom:"1.5rem"},children:t.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[t.jsx("button",{onClick:()=>L("buy"),style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:_==="buy"?"1px solid #10b981":"1px solid rgba(255,255,255,0.1)",background:_==="buy"?"rgba(16,185,129,0.1)":"rgba(255,255,255,0.05)",color:_==="buy"?"#10b981":"#f8fafc",cursor:"pointer",fontWeight:"600"},children:"Buy"}),t.jsx("button",{onClick:()=>L("sell"),style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:_==="sell"?"1px solid #ef4444":"1px solid rgba(255,255,255,0.1)",background:_==="sell"?"rgba(239,68,68,0.1)":"rgba(255,255,255,0.05)",color:_==="sell"?"#ef4444":"#f8fafc",cursor:"pointer",fontWeight:"600"},children:"Sell"})]})}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",color:"#f8fafc",fontSize:"0.875rem",fontWeight:"500",marginBottom:"0.5rem"},children:"Order Type"}),t.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[t.jsx("button",{onClick:()=>U("market"),style:{flex:1,padding:"0.5rem",borderRadius:"6px",border:p==="market"?"1px solid #f59e0b":"1px solid rgba(255,255,255,0.1)",background:p==="market"?"rgba(245,158,11,0.1)":"rgba(255,255,255,0.05)",color:"#f8fafc",cursor:"pointer",fontSize:"0.875rem"},children:"Market"}),t.jsx("button",{onClick:()=>U("limit"),style:{flex:1,padding:"0.5rem",borderRadius:"6px",border:p==="limit"?"1px solid #f59e0b":"1px solid rgba(255,255,255,0.1)",background:p==="limit"?"rgba(245,158,11,0.1)":"rgba(255,255,255,0.05)",color:"#f8fafc",cursor:"pointer",fontSize:"0.875rem"},children:"Limit"})]})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",color:"#f8fafc",fontSize:"0.875rem",fontWeight:"500",marginBottom:"0.5rem"},children:"Quantity (Shares)"}),t.jsx("input",{type:"number",value:B,onChange:P=>H(P.target.value),placeholder:"Enter quantity",min:"1",style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.05)",color:"#f8fafc",fontSize:"0.875rem"}})]}),p==="limit"&&t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("label",{style:{display:"block",color:"#f8fafc",fontSize:"0.875rem",fontWeight:"500",marginBottom:"0.5rem"},children:"Limit Price ($)"}),t.jsx("input",{type:"number",value:V,onChange:P=>de(P.target.value),placeholder:"Enter limit price",min:"0.01",step:"0.01",style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.05)",color:"#f8fafc",fontSize:"0.875rem"}})]}),B&&s&&t.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem"},children:[t.jsx("h4",{style:{color:"#f8fafc",fontSize:"0.875rem",fontWeight:"600",marginBottom:"0.5rem"},children:"Order Summary"}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},children:[t.jsx("span",{style:{color:"#94a3b8"},children:"Quantity:"}),t.jsxs("span",{style:{color:"#f8fafc"},children:[parseFloat(B)||0," shares"]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},children:[t.jsx("span",{style:{color:"#94a3b8"},children:"Price:"}),t.jsx("span",{style:{color:"#f8fafc"},children:Mt(s.current_price)})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"600"},children:[t.jsx("span",{style:{color:"#f8fafc"},children:"Total:"}),t.jsx("span",{style:{color:_==="buy"?"#10b981":"#ef4444"},children:Mt((parseFloat(B)||0)*s.current_price)})]})]}),t.jsxs("button",{onClick:Q,disabled:!B||!s,style:{width:"100%",padding:"1rem",borderRadius:"8px",border:"none",background:_==="buy"?"linear-gradient(135deg, #10b981 0%, #059669 100%)":"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"#ffffff",fontSize:"1rem",fontWeight:"600",cursor:!B||!s?"not-allowed":"pointer",opacity:!B||!s?.5:1},children:[_==="buy"?"Buy":"Sell"," ",(s==null?void 0:s.symbol)||"Stock"]})]})]})]})}function Nl(){var fi,pi,gi;const[r,e]=j.useState([]),s=jt(),i=(h,C,R="info")=>{const A={id:Date.now(),title:h,message:C,type:R,read:!1,created_at:new Date().toISOString()};e(ee=>[A,...ee]);const X=JSON.parse(localStorage.getItem("userNotifications")||"[]");X.unshift(A),localStorage.setItem("userNotifications",JSON.stringify(X.slice(0,50)))},[a,n]=j.useState(!1),[o,l]=j.useState({BTC:0,ETH:0,USDT:1,BNB:0,XRP:0,SOL:0,DOGE:0,ADA:0}),[c,d]=j.useState([]),[m,f]=j.useState(!0);j.useEffect(()=>{async function h(){f(!0);try{console.log("ðŸ“Š Loading real-time crypto prices for dashboard...");const[R,A]=await Promise.all([Or(),ni()]),X=Object.values(R).filter(ee=>ee>0).length;X>=3?(l(R),d(A),console.log(`âœ… Dashboard crypto prices updated: ${X} valid prices, ${A.length} detailed entries`)):console.warn("âš ï¸ Insufficient real-time data received, keeping previous values")}catch(R){console.error("âŒ Failed to load crypto prices:",R)}f(!1)}h();const C=setInterval(h,15e3);return()=>clearInterval(C)},[]);const[g,x]=j.useState({show:!1,type:"info",title:"",message:""});function b(){x({...g,show:!1})}const[v,y]=j.useState({show:!1,title:"",message:"",onConfirm:()=>{},onCancel:()=>{},confirmText:"",cancelText:""});function k(){y({...v,show:!1})}j.useEffect(()=>{async function h(){try{Ea();const C=localStorage.getItem("activeUser")||sessionStorage.getItem("activeUser");if(!C){s("/login");return}const R=JSON.parse(C);try{const A=await $.getUserByIdnum(R.idnum);if(A){const X={...R,...A};localStorage.setItem("activeUser",JSON.stringify(X)),U(X)}else U(R)}catch(A){console.log("Could not fetch user data from database, using localStorage:",A),U(R)}try{const A=await $.getInvestmentsByUser(R.idnum);de(A),localStorage.setItem("userInvestments",JSON.stringify(A))}catch(A){console.log("Could not fetch investments from database, using localStorage:",A);const X=localStorage.getItem("userInvestments");X&&de(JSON.parse(X))}try{const X=(await $.getNotificationsByUser(R.idnum)).map(ee=>({id:parseInt(ee.id||"0")||Date.now(),title:ee.title||"Notification",message:ee.message||"",type:ee.type||"info",read:ee.read||!1,created_at:ee.created_at||new Date().toISOString()}));e(X),localStorage.setItem("userNotifications",JSON.stringify(X))}catch(A){console.log("Could not fetch notifications from database, using localStorage:",A);const X=localStorage.getItem("userNotifications");if(X){const ee=JSON.parse(X);if(ee.length===0){const Ae={id:Date.now(),title:"Welcome!",message:"Welcome to your dashboard! Start by exploring investment plans.",type:"info",read:!1,created_at:new Date().toISOString()};e([Ae]),localStorage.setItem("userNotifications",JSON.stringify([Ae]))}else e(ee)}else{const ee={id:Date.now(),title:"Welcome!",message:`Welcome ${R.name||R.userName||"to your dashboard"}! Start exploring our investment plans.`,type:"success",read:!1,created_at:new Date().toISOString()};e([ee]),localStorage.setItem("userNotifications",JSON.stringify([ee]))}}try{const A=await $.getKycByUser(R.idnum);if(A&&A.length>0){const X=A.sort((ee,Ae)=>new Date(Ae.submittedAt||0).getTime()-new Date(ee.submittedAt||0).getTime())[0];we(X)}}catch(A){console.log("Could not fetch KYC data from database:",A),we(null)}try{const A=await $.getLoansByUser(R.idnum);A&&A.length>0&&oe(A)}catch(A){console.log("Could not fetch loans from database:",A),oe([])}}catch(C){console.error("Error initializing dashboard:",C),s("/login")}H(!1)}h()},[s]);function _(h,C,R){x({show:!0,type:h,title:C,message:R}),setTimeout(()=>x(A=>({...A,show:!1})),5e3)}function L(h,C,R,A,X,ee){window.confirm(`${h}: ${C}`)?R():A&&A()}const[B,H]=j.useState(!0),[p,U]=j.useState(null),[V,de]=j.useState([]),[fe,oe]=j.useState([]),[N,we]=j.useState(null),[G,J]=j.useState("Dashboard"),[Q,Z]=j.useState(!1),[P,Y]=j.useState(!1),[I,ke]=j.useState({email:"",phoneNumber:"",address:""}),[le,Le]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[D,pe]=j.useState(!1),[se,xe]=j.useState(!1),[De,he]=j.useState("select"),[T,Nt]=j.useState(null),[F,Ie]=j.useState({capital:"",paymentMethod:"Bitcoin",transactionHash:"",bankSlip:null}),[Ut,qt]=j.useState(!1),[ks,Ve]=j.useState(!1),[ie,Ne]=j.useState("intro"),[K,St]=j.useState({idNumber:"",idType:"passport",idDocument:null,addressDocument:null,selfieDocument:null}),[Qe,Ht]=j.useState(!1),[ne,Be]=j.useState("amount"),[E,Te]=j.useState({amount:"",method:"Bitcoin",walletAddress:"",bankName:"",accountNumber:"",accountName:"",routingNumber:""}),[Cs,Ze]=j.useState(!1),[ge,Fe]=j.useState("amount"),[u,w]=j.useState({amount:"",duration:"30",purpose:""}),z=()=>{localStorage.clear(),sessionStorage.clear(),s("/login")},M=()=>{const h=`${window.location.origin}/signup?ref=${(p==null?void 0:p.referralCode)||(p==null?void 0:p.idnum)}`;navigator.clipboard.writeText(h),pe(!0),setTimeout(()=>pe(!1),2e3)},ue=async()=>{var h,C;if(!P){ke({email:(p==null?void 0:p.email)||"",phoneNumber:(p==null?void 0:p.phoneNumber)||"",address:(p==null?void 0:p.address)||""}),Y(!0);return}try{if(!I.email||!I.email.trim()){_("error","Validation Error","Email is required.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(I.email)){_("error","Validation Error","Please enter a valid email address.");return}if(p!=null&&p.idnum){await $.updateUser(p.idnum,{email:I.email.trim(),phoneNumber:((h=I.phoneNumber)==null?void 0:h.trim())||void 0,address:((C=I.address)==null?void 0:C.trim())||void 0});const A={...p,...I};U(A),localStorage.setItem("activeUser",JSON.stringify(A)),sessionStorage.setItem("activeUser",JSON.stringify(A)),Y(!1),i("Profile Updated","Your profile information has been updated successfully.","success"),_("success","Profile Updated!","Your profile has been updated successfully.")}}catch(R){console.error("Error updating profile:",R);const A=R instanceof Error?R.message:"Unknown error occurred";_("error","Update Failed",`Failed to update profile: ${A}`)}},Ce=async h=>{if(h.preventDefault(),le.newPassword!==le.confirmPassword){_("error","Password Mismatch","New passwords do not match!");return}if(le.newPassword.length<6){_("error","Password Too Short","Password must be at least 6 characters long!");return}try{i("Password Change Attempted","A password change was requested on your account. If this was not you, please contact support.","warning"),_("info","Feature Coming Soon","Password change feature will be implemented soon."),Le({currentPassword:"",newPassword:"",confirmPassword:""})}catch(C){console.error("Error changing password:",C),_("error","Password Change Failed","Failed to change password. Please try again.")}},be=async()=>{L("Delete Account","Are you sure you want to delete your account? This action cannot be undone!",()=>{L("Final Warning","This will permanently delete all your data including investments and withdrawals. Are you absolutely sure?",async()=>{try{_("info","Feature Coming Soon","Account deletion feature will be implemented soon.")}catch(h){console.error("Error deleting account:",h),_("error","Deletion Failed","Failed to delete account. Please contact support.")}},()=>{},"Yes, Delete Everything","Cancel")},()=>{})},me={Bitcoin:{name:"Bitcoin (BTC)",address:"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",network:"Bitcoin Network",icon:"â‚¿"},Ethereum:{name:"Ethereum (ETH)",address:"0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb1",network:"Ethereum Network (ERC-20)",icon:"Îž"},USDT:{name:"Tether (USDT)",address:"0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb1",network:"Ethereum Network (ERC-20)",icon:"â‚®"},Bank:{name:"Bank Transfer",accountName:"CipherVault Investments Ltd.",accountNumber:"1234567890",bankName:"Global Trust Bank",routingNumber:"GTB001234",swiftCode:"GTBKUS33",icon:"ðŸ¦"}},He=h=>{Nt(h),Ie({capital:h.minCapital.toString(),paymentMethod:"Bitcoin",transactionHash:"",bankSlip:null}),he("confirm"),xe(!0)},nt=async()=>{if(De==="confirm"){const h=parseFloat(F.capital);if(!h||h<T.minCapital){_("error","Invalid Amount",`Minimum investment is $${T.minCapital.toLocaleString()}`);return}if(T.maxCapital&&h>T.maxCapital){_("error","Invalid Amount",`Maximum investment is $${T.maxCapital.toLocaleString()}`);return}he("payment")}else if(De==="payment"){if(!F.transactionHash||F.transactionHash.trim()===""){_("error","Transaction Hash Required","Please enter your transaction hash/ID to verify payment");return}if(!F.bankSlip){_("error","Payment Proof Required","Please upload a screenshot or photo of your payment as proof");return}try{const h=await $.createInvestment({idnum:(p==null?void 0:p.idnum)||"",plan:T.name,capital:parseFloat(F.capital),roi:T.roi,duration:T.duration,paymentOption:F.paymentMethod,transactionHash:F.transactionHash,status:"pending",authStatus:"unseen"}),C=await $.getInvestmentsByUser((p==null?void 0:p.idnum)||"");de(C),localStorage.setItem("userInvestments",JSON.stringify(C)),he("success"),_("success","Investment Created!",`Your ${T.name} investment of $${parseFloat(F.capital).toLocaleString()} has been created. You'll earn $${T.dailyRoi.toLocaleString()} daily for ${T.duration} days once activated.`)}catch{_("error","Error","Failed to create investment. Please try again.")}}},Gt=()=>{De==="payment"?he("confirm"):De==="confirm"&&xe(!1)},kt=()=>{Ne("intro"),Ve(!0)},Jt=()=>{if(ie==="intro")Ne("personal");else if(ie==="personal"){if(!K.idNumber||!K.idType){_("error","Missing Information","Please fill in all required fields");return}Ne("documents")}else if(ie==="documents"){if(!K.idDocument||!K.addressDocument||!K.selfieDocument){_("error","Missing Documents","Please upload all required documents");return}Ne("review")}else if(ie==="review")try{const h={idnum:p==null?void 0:p.idnum,fullName:(p==null?void 0:p.name)||(p==null?void 0:p.userName),dateOfBirth:"1990-01-01",nationality:"United States",documentType:K.idType,documentNumber:K.idNumber,status:"pending",submittedAt:new Date().toISOString()};console.log("KYC data to submit:",h),i("KYC Documents Submitted","Your KYC verification documents have been submitted for review. This may take 1-3 business days.","info"),Ne("success"),setTimeout(()=>{we({...h,status:"pending"})},1e3)}catch(h){console.error("Error submitting KYC:",h),i("KYC Submission Failed","There was an error submitting your KYC documents. Please try again.","error")}},Kt=()=>{ie==="documents"?Ne("personal"):ie==="personal"?Ne("intro"):ie==="review"&&Ne("documents")},Ct=()=>{Ve(!1),Ne("intro")},_t=(h,C)=>{C.target.files&&C.target.files[0]&&St({...K,[h]:C.target.files[0]})},Qt=()=>{Be("amount"),Ht(!0)},_s=async()=>{if(ne==="amount"){const h=parseFloat(E.amount);if(!h||h<50){alert("Minimum withdrawal is $50");return}if(h>((p==null?void 0:p.balance)||0)){alert("Insufficient balance");return}Be("method")}else if(ne==="method")Be("details");else if(ne==="details"){if(E.method==="Bank Transfer"){if(!E.bankName||!E.accountNumber||!E.accountName){alert("Please fill in all bank details");return}}else if(!E.walletAddress){alert("Please enter wallet address");return}Be("confirm")}else if(ne==="confirm"){const h=parseFloat(E.amount);try{const C={idnum:p==null?void 0:p.idnum,amount:h,method:E.method,walletAddress:E.method!=="Bank Transfer"?E.walletAddress:null,bankName:E.method==="Bank Transfer"?E.bankName:null,accountNumber:E.method==="Bank Transfer"?E.accountNumber:null,accountName:E.method==="Bank Transfer"?E.accountName:null,routingNumber:E.method==="Bank Transfer"?E.routingNumber:null,status:"pending",authStatus:"pending",date:new Date().toISOString()},R=await $.createWithdrawal(C);await Zs((p==null?void 0:p.email)||"",(p==null?void 0:p.userName)||(p==null?void 0:p.name)||"","pending",h,E.method),p&&U({...p,balance:(p.balance||0)-h}),i("Withdrawal Requested",`Your withdrawal request of $${h.toLocaleString()} via ${E.method} has been submitted for processing.`,"info"),Be("success")}catch(C){console.error("Error creating withdrawal:",C),_("error","Error","Failed to submit withdrawal request. Please try again.")}}},zs=()=>{ne==="method"?Be("amount"):ne==="details"?Be("method"):ne==="confirm"&&Be("details")},Zt=()=>{Ht(!1),Be("amount"),Te({amount:"",method:"Bitcoin",walletAddress:"",bankName:"",accountNumber:"",accountName:"",routingNumber:""})},ae=()=>{Fe("amount"),Ze(!0)},W=async()=>{if(ge==="amount"){const h=parseFloat(u.amount),C=Ye*.5;if(!h||h<100){_("error","Invalid Amount","Minimum loan amount is $100");return}if(h>C){_("error","Invalid Amount",`Maximum loan amount is $${C.toLocaleString()}`);return}Fe("terms")}else if(ge==="terms"){if(!u.purpose){_("error","Missing Information","Please specify the loan purpose");return}Fe("confirm")}else if(ge==="confirm")try{const h=parseFloat(u.amount),C=5,R=parseInt(u.duration),A=h*(C/100)*(R/30),X=h+A,ee={idnum:p==null?void 0:p.idnum,amount:h,interestRate:C,duration:R,purpose:u.purpose,totalRepayment:X,status:"pending",authStatus:"pending",date:new Date().toISOString()},Ae=await $.createLoan(ee);await Xs((p==null?void 0:p.email)||"",(p==null?void 0:p.userName)||(p==null?void 0:p.name)||"","pending",h,R),oe(Rs=>[Ae,...Rs]),i("Loan Request Submitted",`Your loan request of $${h.toLocaleString()} for ${R} days has been submitted for review.`,"info"),Fe("success")}catch(h){console.error("Error creating loan:",h),_("error","Error","Failed to submit loan request. Please try again.")}},ye=()=>{ge==="terms"?Fe("amount"):ge==="confirm"&&Fe("terms")},$e=()=>{Ze(!1),Fe("amount"),w({amount:"",duration:"30",purpose:""})},ze=()=>{const h=me[F.paymentMethod],C="address"in h?h.address:`Account: ${h.accountNumber}
Bank: ${h.bankName}
Routing: ${h.routingNumber}`;navigator.clipboard.writeText(C),qt(!0),setTimeout(()=>qt(!1),2e3)},O=async()=>{try{const h=parseFloat(F.capital),C=h*T.dailyRate,R=C*T.durationDays,A=h*T.referralBonus,X={id:"INV"+Date.now(),idnum:p==null?void 0:p.idnum,userName:(p==null?void 0:p.userName)||(p==null?void 0:p.name),plan:T.name,status:"Pending",capital:h,dailyRoi:C,earnedRoi:0,totalExpectedRoi:R,roi:0,bonus:A,duration:T.durationDays,daysCompleted:0,paymentOption:F.paymentMethod,authStatus:"unseen",date:new Date().toISOString(),startDate:""};try{await $.createInvestment(X),p&&await Qs(p.email||"",p.userName||p.name||"","pending",h,T.name)}catch{console.log("Database unavailable, storing locally");const Ae=JSON.parse(localStorage.getItem("userInvestments")||"[]");Ae.push(X),localStorage.setItem("userInvestments",JSON.stringify(Ae))}de(ee=>[...ee,X]),i("New Investment Created",`You invested $${h.toLocaleString()} in ${T.name}. Daily earnings: $${C.toLocaleString()} for ${T.durationDays} days.`,"success"),_("success","Investment Created!",`Your ${T.name} investment of $${h.toLocaleString()} has been created. You'll earn $${C.toLocaleString()} daily for ${T.durationDays} days once activated.`),he("success"),setTimeout(()=>{xe(!1),he("select"),Nt(null),Ie({capital:"",paymentMethod:"Bitcoin",transactionHash:"",bankSlip:null})},3e3)}catch(h){console.error("Error creating investment:",h),_("error","Investment Failed","Unable to create investment. Please check your details and try again.")}},Me=()=>{xe(!1),he("select"),Nt(null),Ie({capital:"",paymentMethod:"Bitcoin",transactionHash:"",bankSlip:null})},zt=V.filter(h=>{var C,R,A;return((C=h.status)==null?void 0:C.toLowerCase())==="active"||((R=h.status)==null?void 0:R.toLowerCase())==="approved"||((A=h.status)==null?void 0:A.toLowerCase())==="completed"}),Ye=zt.reduce((h,C)=>h+(C.capital||0),0),ar=zt.reduce((h,C)=>h+(C.roi||0),0),mi=zt.reduce((h,C)=>h+(C.bonus||0),0),Rt=((p==null?void 0:p.balance)||0)+((p==null?void 0:p.bonus)||0);return B?t.jsxs("div",{className:"dashboard-loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading Dashboard..."})]}):t.jsxs("div",{className:"modern-dashboard",children:[t.jsxs("aside",{className:`dashboard-sidebar ${Q?"mobile-open":""}`,children:[t.jsx("div",{className:"sidebar-header",children:t.jsx(re,{to:"/",className:"logo-link",children:t.jsx("img",{src:"/images/ciphervaultlogobig.svg",alt:"CipherVault",className:"sidebar-logo"})})}),t.jsxs("div",{className:"sidebar-user",children:[t.jsx("div",{className:"user-avatar",children:t.jsx("img",{src:`/images/${(p==null?void 0:p.avatar)||"avatar_male_1"}.svg`,alt:"Avatar"})}),t.jsxs("div",{className:"user-info",children:[t.jsx("h3",{children:(p==null?void 0:p.name)||(p==null?void 0:p.userName)}),t.jsx("p",{children:p==null?void 0:p.email})]})]}),t.jsx("div",{className:"sidebar-notifications",children:t.jsxs("button",{className:"sidebar-notification-btn",onClick:()=>n(!0),children:[t.jsx("i",{className:"icofont-notification"}),t.jsx("span",{children:"Notifications"}),r.filter(h=>!h.read).length>0&&t.jsx("span",{className:"sidebar-notif-badge",children:r.filter(h=>!h.read).length})]})}),t.jsxs("nav",{className:"sidebar-nav",children:[t.jsxs("button",{className:`nav-item ${G==="Dashboard"?"active":""}`,onClick:()=>{J("Dashboard"),Z(!1)},children:[t.jsx("i",{className:"icofont-dashboard-web"}),t.jsx("span",{children:"Dashboard"})]}),t.jsxs("button",{className:`nav-item ${G==="Wallet"?"active":""}`,onClick:()=>{J("Wallet"),Z(!1)},children:[t.jsx("i",{className:"icofont-wallet"}),t.jsx("span",{children:"Wallet"})]}),t.jsxs("button",{className:`nav-item ${G==="Bonus"?"active":""}`,onClick:()=>{J("Bonus"),Z(!1)},children:[t.jsx("i",{className:"icofont-gift"}),t.jsx("span",{children:"Bonus"})]}),t.jsxs("button",{className:`nav-item ${G==="Stocks"?"active":""}`,onClick:()=>{J("Stocks"),Z(!1)},children:[t.jsx("i",{className:"icofont-chart-line"}),t.jsx("span",{children:"Stock Trading"})]}),t.jsxs("button",{className:`nav-item ${G==="Profile"?"active":""}`,onClick:()=>{J("Profile"),Z(!1)},children:[t.jsx("i",{className:"icofont-user-suited"}),t.jsx("span",{children:"Profile & KYC"})]}),t.jsxs("button",{className:`nav-item ${G==="Investments"?"active":""}`,onClick:()=>{J("Investments"),Z(!1)},children:[t.jsx("i",{className:"icofont-chart-growth"}),t.jsx("span",{children:"Investments"}),V.filter(h=>h.authStatus!=="seen").length>0&&t.jsx("span",{className:"badge",children:V.filter(h=>h.authStatus!=="seen").length})]}),t.jsxs("button",{className:`nav-item ${G==="Withdrawals"?"active":""}`,onClick:()=>{J("Withdrawals"),Z(!1)},children:[t.jsx("i",{className:"icofont-money"}),t.jsx("span",{children:"Withdrawals"})]}),t.jsxs("button",{className:`nav-item ${G==="Loans"?"active":""}`,onClick:()=>{J("Loans"),Z(!1)},children:[t.jsx("i",{className:"icofont-money-bag"}),t.jsx("span",{children:"Loans"})]}),t.jsxs("button",{className:`nav-item ${G==="Downline"?"active":""}`,onClick:()=>{J("Downline"),Z(!1)},children:[t.jsx("i",{className:"icofont-users-social"}),t.jsx("span",{children:"Downline"})]}),t.jsxs("button",{className:`nav-item ${G==="Support"?"active":""}`,onClick:()=>{J("Support"),Z(!1)},children:[t.jsx("i",{className:"icofont-live-support"}),t.jsx("span",{children:"Support"})]}),((p==null?void 0:p.role)==="admin"||(p==null?void 0:p.role)==="superadmin")&&t.jsxs("button",{className:"nav-item",onClick:()=>s("/admin"),style:{background:"linear-gradient(135deg, rgba(139,92,246,0.15) 0%, rgba(59,130,246,0.15) 100%)",border:"1px solid rgba(139,92,246,0.3)",marginTop:"0.5rem"},children:[t.jsx("i",{className:"icofont-shield"}),t.jsx("span",{children:"Admin Panel"})]})]}),t.jsx("div",{className:"sidebar-footer",children:t.jsxs("button",{className:"logout-btn",onClick:z,children:[t.jsx("i",{className:"icofont-sign-out"}),t.jsx("span",{children:"Log Out"})]})}),Q&&t.jsx("button",{className:"sidebar-close",onClick:()=>Z(!1),children:t.jsx("i",{className:"icofont-close"})})]}),t.jsx("main",{className:"dashboard-main",children:t.jsxs("div",{className:"dashboard-content",children:[G==="Dashboard"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card primary",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-wallet"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Total Balance"}),t.jsxs("h2",{className:"stat-value",children:["$",Rt.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"stat-change positive",children:"+12.5% this month"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-money-bag"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Total Invested"}),t.jsxs("h2",{className:"stat-value",children:["$",Ye.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsxs("p",{className:"stat-info",children:[V.length," active investments"]})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-chart-growth"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Total Returns"}),t.jsxs("h2",{className:"stat-value",children:["$",ar.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsxs("p",{className:"stat-change positive",children:["+$",mi.toLocaleString()," bonus"]})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-users"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Referrals"}),t.jsx("h2",{className:"stat-value",children:(p==null?void 0:p.referralCount)||0}),t.jsx("p",{className:"stat-info",children:"Active network members"})]})]})]}),t.jsxs("div",{className:"activity-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h3",{children:"Recent Investments"}),t.jsx(re,{to:"#",className:"view-all",children:"View All â†’"})]}),t.jsx("div",{className:"activity-list",children:V.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("i",{className:"icofont-chart-line"}),t.jsx("p",{children:"No investments yet"}),t.jsx("button",{className:"cta-btn",onClick:()=>J("Investments"),children:"Start Investing"})]}):V.slice(0,5).map((h,C)=>t.jsxs("div",{className:"activity-item",children:[t.jsx("div",{className:"activity-icon",children:t.jsx("i",{className:"icofont-money-bag"})}),t.jsxs("div",{className:"activity-details",children:[t.jsxs("h4",{children:[h.plan," Plan"]}),t.jsx("p",{children:new Date(h.date||"").toLocaleDateString()})]}),t.jsxs("div",{className:"activity-amount",children:[t.jsxs("p",{className:"amount",children:["$",(h.capital||0).toLocaleString()]}),t.jsx("span",{className:`status-badge ${h.status}`,children:h.status})]})]},C))})]}),t.jsxs("div",{className:"quick-actions",children:[t.jsx("div",{className:"section-header",children:t.jsx("h3",{children:"Quick Actions"})}),t.jsxs("div",{className:"actions-grid",children:[t.jsxs("button",{className:"action-card",onClick:()=>J("Investments"),children:[t.jsx("i",{className:"icofont-plus-circle"}),t.jsx("h4",{children:"New Investment"}),t.jsx("p",{children:"Start earning today"})]}),t.jsxs("button",{className:"action-card",onClick:()=>J("Withdrawals"),children:[t.jsx("i",{className:"icofont-pay"}),t.jsx("h4",{children:"Withdraw Funds"}),t.jsx("p",{children:"Cash out earnings"})]}),t.jsxs("button",{className:"action-card",onClick:()=>J("Referrals"),children:[t.jsx("i",{className:"icofont-share"}),t.jsx("h4",{children:"Refer & Earn"}),t.jsx("p",{children:"Invite friends"})]}),t.jsxs("button",{className:"action-card",onClick:()=>J("Profile"),children:[t.jsx("i",{className:"icofont-settings"}),t.jsx("h4",{children:"Settings"}),t.jsx("p",{children:"Manage account"})]})]})]})]}),G==="Wallet"&&t.jsxs("div",{className:"page-section",children:[t.jsxs("div",{className:"page-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"icofont-wallet"})," Wallet Overview"]}),t.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[m&&t.jsxs("span",{style:{color:"#f0b90b",fontSize:"12px"},children:[t.jsx("i",{className:"icofont-refresh"})," Updating..."]}),t.jsxs("button",{className:"primary-btn",children:[t.jsx("i",{className:"icofont-plus-circle"})," Deposit"]})]})]}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card primary",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-dollar-true"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Fiat Balance"}),t.jsxs("h2",{className:"stat-value",children:["$",Rt.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsxs("p",{className:"stat-change positive",children:[t.jsx("i",{className:"icofont-check-circled"})," Available: $",((p==null?void 0:p.balance)||0).toLocaleString()]}),t.jsxs("p",{className:"stat-info",style:{color:"#f0b90b"},children:[t.jsx("i",{className:"icofont-gift"})," Bonus: +$",((p==null?void 0:p.bonus)||0).toLocaleString()]})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(247, 147, 26, 0.1)",color:"#f7931a"},children:t.jsx("i",{className:"icofont-bitcoin"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Bitcoin (BTC)"}),t.jsx("h2",{className:"stat-value",children:"0.00 BTC"}),t.jsxs("p",{className:"stat-info",children:[t.jsx("i",{className:"icofont-dollar"})," â‰ˆ $0.00 USD"]}),t.jsxs("p",{className:"stat-change positive",children:[t.jsx("i",{className:"icofont-chart-line"})," $",Ee(o.BTC),"/BTC"]})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(98, 126, 234, 0.1)",color:"#627eea"},children:t.jsx("i",{className:"icofont-ethereum"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Ethereum (ETH)"}),t.jsx("h2",{className:"stat-value",children:"0.00 ETH"}),t.jsxs("p",{className:"stat-info",children:[t.jsx("i",{className:"icofont-dollar"})," â‰ˆ $0.00 USD"]}),t.jsxs("p",{className:"stat-change positive",children:[t.jsx("i",{className:"icofont-chart-line"})," $",Ee(o.ETH),"/ETH"]})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:t.jsx("i",{className:"icofont-cur-dollar"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"USDT (Tether)"}),t.jsx("h2",{className:"stat-value",children:"0.00 USDT"}),t.jsxs("p",{className:"stat-info",children:[t.jsx("i",{className:"icofont-dollar"})," â‰ˆ $0.00 USD"]}),t.jsxs("p",{className:"stat-change positive",children:[t.jsx("i",{className:"icofont-chart-line"})," $",Ee(o.USDT),"/USDT"]})]})]})]}),t.jsxs("div",{className:"profile-card",style:{marginTop:"24px"},children:[t.jsxs("div",{className:"profile-card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("h3",{children:[t.jsx("i",{className:"icofont-chart-line-alt"})," Live Market Prices"]}),t.jsxs("span",{style:{fontSize:"11px",color:"rgba(255,255,255,0.5)"},children:[t.jsx("i",{className:"icofont-refresh"})," Auto-updates every 60s"]})]}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[t.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"rgba(255,255,255,0.6)",fontSize:"12px",fontWeight:"500"},children:"#"}),t.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"rgba(255,255,255,0.6)",fontSize:"12px",fontWeight:"500"},children:"Asset"}),t.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"rgba(255,255,255,0.6)",fontSize:"12px",fontWeight:"500"},children:"Price"}),t.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"rgba(255,255,255,0.6)",fontSize:"12px",fontWeight:"500"},children:"24h Change"}),t.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"rgba(255,255,255,0.6)",fontSize:"12px",fontWeight:"500"},children:"Market Cap"}),t.jsx("th",{style:{padding:"12px 16px",textAlign:"right",color:"rgba(255,255,255,0.6)",fontSize:"12px",fontWeight:"500"},children:"24h High/Low"})]})}),t.jsx("tbody",{children:c.map((h,C)=>t.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",transition:"background 0.2s"},onMouseEnter:R=>R.currentTarget.style.background="rgba(240,185,11,0.05)",onMouseLeave:R=>R.currentTarget.style.background="transparent",children:[t.jsx("td",{style:{padding:"14px 16px",color:"rgba(255,255,255,0.5)",fontSize:"13px"},children:C+1}),t.jsx("td",{style:{padding:"14px 16px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[t.jsx("img",{src:h.image,alt:h.name,style:{width:"28px",height:"28px",borderRadius:"50%"},onError:R=>{R.target.style.display="none"}}),t.jsxs("div",{children:[t.jsx("div",{style:{color:"#fff",fontWeight:"600",fontSize:"14px"},children:h.name}),t.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase"},children:h.symbol})]})]})}),t.jsxs("td",{style:{padding:"14px 16px",textAlign:"right",color:"#fff",fontWeight:"600",fontSize:"14px"},children:["$",Ee(h.current_price)]}),t.jsx("td",{style:{padding:"14px 16px",textAlign:"right"},children:t.jsxs("span",{style:{color:h.price_change_percentage_24h>=0?"#4ade80":"#f87171",fontWeight:"600",fontSize:"13px",display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"4px"},children:[t.jsx("i",{className:h.price_change_percentage_24h>=0?"icofont-arrow-up":"icofont-arrow-down"}),Math.abs(h.price_change_percentage_24h).toFixed(2),"%"]})}),t.jsx("td",{style:{padding:"14px 16px",textAlign:"right",color:"rgba(255,255,255,0.7)",fontSize:"13px"},children:Ks(h.market_cap)}),t.jsxs("td",{style:{padding:"14px 16px",textAlign:"right",fontSize:"12px"},children:[t.jsxs("div",{style:{color:"#4ade80"},children:["$",Ee(h.high_24h)]}),t.jsxs("div",{style:{color:"#f87171"},children:["$",Ee(h.low_24h)]})]})]},h.id))})]})})]}),t.jsxs("div",{className:"quick-actions",children:[t.jsx("div",{className:"section-header",children:t.jsx("h3",{children:"Quick Actions"})}),t.jsxs("div",{className:"actions-grid",children:[t.jsxs("button",{className:"action-card",children:[t.jsx("i",{className:"icofont-plus-circle"}),t.jsx("span",{children:"Deposit"})]}),t.jsxs("button",{className:"action-card",onClick:Qt,children:[t.jsx("i",{className:"icofont-money"}),t.jsx("span",{children:"Withdraw"})]}),t.jsxs("button",{className:"action-card",children:[t.jsx("i",{className:"icofont-exchange"}),t.jsx("span",{children:"Transfer"})]}),t.jsxs("button",{className:"action-card",onClick:()=>J("Investments"),children:[t.jsx("i",{className:"icofont-chart-growth"}),t.jsx("span",{children:"Invest"})]})]})]}),t.jsxs("div",{className:"activity-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"icofont-history"})," Transaction History"]}),t.jsxs("button",{className:"view-all",children:["Filter ",t.jsx("i",{className:"icofont-filter"})]})]}),V.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("i",{className:"icofont-chart-line"}),t.jsx("p",{children:"No transactions yet"}),t.jsx("button",{className:"cta-btn",onClick:()=>J("Investments"),children:"Start Investing"})]}):t.jsx("div",{className:"activity-list",children:V.slice(0,5).map((h,C)=>t.jsxs("div",{className:"activity-item",children:[t.jsx("div",{className:"activity-icon",children:t.jsx("i",{className:"icofont-chart-line"})}),t.jsxs("div",{className:"activity-details",children:[t.jsx("h4",{children:h.plan}),t.jsx("p",{children:new Date(h.date||"").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),t.jsxs("div",{className:"activity-amount negative",children:["-$",(h.capital||0).toLocaleString()]}),t.jsx("span",{className:`status-badge ${h.status}`,children:h.status})]},C))})]})]}),G==="Bonus"&&t.jsxs("div",{className:"page-section",children:[t.jsx("div",{className:"page-header",children:t.jsxs("h2",{children:[t.jsx("i",{className:"icofont-gift"})," Bonus & Rewards"]})}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card primary",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-gift"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Current Bonus"}),t.jsxs("h2",{className:"stat-value",children:["$",((p==null?void 0:p.bonus)||0).toLocaleString()]}),t.jsx("p",{className:"stat-info",children:"Available for withdrawal"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:t.jsx("i",{className:"icofont-chart-growth"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Total Earned"}),t.jsxs("h2",{className:"stat-value",children:["$",mi.toLocaleString()]}),t.jsx("p",{className:"stat-info",children:"From all investments"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(245, 158, 11, 0.1)",color:"#f59e0b"},children:t.jsx("i",{className:"icofont-users-social"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Referral Bonus"}),t.jsxs("h2",{className:"stat-value",children:["$",((p==null?void 0:p.referralBonusTotal)||0).toLocaleString()]}),t.jsx("p",{className:"stat-info",children:"From referrals"})]})]})]}),t.jsxs("div",{className:"profile-card",style:{marginTop:"24px"},children:[t.jsx("div",{className:"profile-card-header",children:t.jsxs("h3",{children:[t.jsx("i",{className:"icofont-history"})," Bonus History"]})}),t.jsx("div",{className:"activity-list",children:V.filter(h=>(h.bonus||0)>0).length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("i",{className:"icofont-gift"}),t.jsx("p",{children:"No bonus earned yet"}),t.jsx("p",{style:{fontSize:"12px",color:"rgba(255,255,255,0.6)",marginTop:"8px"},children:"Start investing to earn bonus rewards!"})]}):V.filter(h=>(h.bonus||0)>0).slice(0,10).map((h,C)=>t.jsxs("div",{className:"activity-item",children:[t.jsx("div",{className:"activity-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:t.jsx("i",{className:"icofont-gift"})}),t.jsxs("div",{className:"activity-details",children:[t.jsxs("h4",{children:["Bonus from ",h.plan]}),t.jsx("p",{children:new Date(h.date||"").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),t.jsxs("div",{className:"activity-amount positive",children:["+$",(h.bonus||0).toLocaleString()]}),t.jsx("span",{className:"status-badge approved",children:"Earned"})]},C))})]}),t.jsxs("div",{className:"profile-card",style:{marginTop:"24px"},children:[t.jsx("div",{className:"profile-card-header",children:t.jsxs("h3",{children:[t.jsx("i",{className:"icofont-info-circle"})," How Bonus Works"]})}),t.jsx("div",{style:{padding:"20px"},children:t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[t.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"rgba(16, 185, 129, 0.1)",color:"#10b981",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",flexShrink:0},children:t.jsx("i",{className:"icofont-chart-growth"})}),t.jsxs("div",{children:[t.jsx("h4",{style:{margin:"0 0 4px 0",color:"#fff"},children:"Investment Bonus"}),t.jsx("p",{style:{margin:0,fontSize:"14px",color:"rgba(255,255,255,0.8)"},children:"Earn bonus rewards on your successful investments. Higher plans offer better bonus rates."})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[t.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"rgba(245, 158, 11, 0.1)",color:"#f59e0b",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",flexShrink:0},children:t.jsx("i",{className:"icofont-users-social"})}),t.jsxs("div",{children:[t.jsx("h4",{style:{margin:"0 0 4px 0",color:"#fff"},children:"Referral Bonus"}),t.jsx("p",{style:{margin:0,fontSize:"14px",color:"rgba(255,255,255,0.8)"},children:"Earn additional bonus when your referrals make investments. Build your network for more rewards."})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[t.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"rgba(99, 102, 241, 0.1)",color:"#6366f1",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",flexShrink:0},children:t.jsx("i",{className:"icofont-money"})}),t.jsxs("div",{children:[t.jsx("h4",{style:{margin:"0 0 4px 0",color:"#fff"},children:"Withdraw Anytime"}),t.jsx("p",{style:{margin:0,fontSize:"14px",color:"rgba(255,255,255,0.8)"},children:"Your bonus balance can be withdrawn at any time through the withdrawal section."})]})]})]})})]})]}),G==="Investments"&&t.jsxs("div",{className:"page-section",children:[t.jsxs("div",{className:"page-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"icofont-chart-line"})," Investments"]}),t.jsxs("button",{className:"primary-btn",onClick:()=>He(gt[0]),children:[t.jsx("i",{className:"icofont-plus"})," New Investment"]})]}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card primary",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-money-bag"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Total Invested"}),t.jsxs("h2",{className:"stat-value",children:["$",zt.reduce((h,C)=>h+(C.capital||0),0).toLocaleString()]}),t.jsx("p",{className:"stat-info",children:"Approved investments"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:t.jsx("i",{className:"icofont-chart-growth"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Active Plans"}),t.jsx("h2",{className:"stat-value",children:V.filter(h=>h.status==="active").length}),t.jsx("p",{className:"stat-info",children:"Currently earning"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6"},children:t.jsx("i",{className:"icofont-dollar-true"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Total Returns"}),t.jsxs("h2",{className:"stat-value",children:["$",zt.reduce((h,C)=>h+(C.roi||0),0).toLocaleString()]}),t.jsx("p",{className:"stat-info",children:"Profit earned"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(147, 51, 234, 0.1)",color:"#a855f7"},children:t.jsx("i",{className:"icofont-check-circled"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Completed"}),t.jsx("h2",{className:"stat-value",children:V.filter(h=>h.status==="completed").length}),t.jsx("p",{className:"stat-info",children:"Finished plans"})]})]})]}),V.length>0&&t.jsxs("div",{style:{marginTop:"24px",background:"linear-gradient(145deg, #1e2329 0%, #181a20 100%)",borderRadius:"16px",border:"1px solid rgba(240, 185, 11, 0.12)",overflow:"hidden"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"18px 20px",borderBottom:"1px solid rgba(240, 185, 11, 0.1)",background:"rgba(0,0,0,0.15)"},children:[t.jsxs("h3",{style:{color:"#fff",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"10px",margin:0},children:[t.jsx("i",{className:"icofont-clock-time",style:{color:"#f0b90b"}}),"Investment History"]}),t.jsxs("span",{style:{background:"rgba(240, 185, 11, 0.12)",color:"#f0b90b",padding:"5px 14px",borderRadius:"20px",fontSize:"12px",fontWeight:"600"},children:[V.length," investments"]})]}),t.jsx("div",{style:{padding:"12px"},children:V.map((h,C)=>t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",padding:"14px 16px",background:"rgba(255,255,255,0.02)",borderRadius:"12px",marginBottom:C<V.length-1?"10px":"0",border:"1px solid rgba(255,255,255,0.04)",transition:"background 0.2s, transform 0.2s",cursor:"pointer"},onMouseEnter:R=>{R.currentTarget.style.background="rgba(240, 185, 11, 0.06)",R.currentTarget.style.transform="translateX(4px)"},onMouseLeave:R=>{R.currentTarget.style.background="rgba(255,255,255,0.02)",R.currentTarget.style.transform="none"},children:[t.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",flexShrink:0,background:h.status==="active"?"rgba(16, 185, 129, 0.15)":h.status==="completed"?"rgba(59, 130, 246, 0.15)":"rgba(251, 191, 36, 0.15)",color:h.status==="active"?"#10b981":h.status==="completed"?"#3b82f6":"#fbbf24"},children:t.jsx("i",{className:h.status==="active"?"icofont-chart-growth":h.status==="completed"?"icofont-check-circled":"icofont-sand-clock"})}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("div",{style:{color:"#fff",fontSize:"14px",fontWeight:"600",marginBottom:"4px"},children:h.plan}),t.jsxs("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsxs("span",{style:{color:"#f0b90b"},children:["$",(h.capital||0).toLocaleString()]}),t.jsx("span",{children:"â€¢"}),t.jsxs("span",{children:[h.duration," days"]}),t.jsx("span",{children:"â€¢"}),t.jsx("span",{children:new Date(h.date||"").toLocaleDateString()})]})]}),t.jsxs("div",{style:{textAlign:"right",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"6px"},children:[t.jsx("div",{style:{color:"#4ade80",fontSize:"13px",fontWeight:"700"},children:h.status==="active"?`+$${(h.earnedRoi||h.roi||0).toLocaleString()} earned`:`+$${(h.totalExpectedRoi||h.roi||0).toLocaleString()}`}),h.status==="active"&&h.dailyRoi&&t.jsxs("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"10px"},children:["$",h.dailyRoi.toLocaleString(),"/day"]}),t.jsx("span",{style:{padding:"4px 12px",borderRadius:"20px",fontSize:"10px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",background:h.status==="active"?"rgba(16, 185, 129, 0.15)":h.status==="completed"?"rgba(59, 130, 246, 0.15)":"rgba(251, 191, 36, 0.15)",color:h.status==="active"?"#10b981":h.status==="completed"?"#3b82f6":"#fbbf24"},children:h.status==="active"&&h.daysCompleted!==void 0?`Day ${h.daysCompleted}/${h.duration}`:h.status})]})]},C))})]}),V.filter(h=>h.status==="active").length>0&&t.jsxs("div",{className:"profile-card",style:{marginTop:"24px"},children:[t.jsx("div",{className:"profile-card-header",children:t.jsxs("h3",{children:[t.jsx("i",{className:"icofont-chart-growth"})," Active Investments"]})}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px",padding:"20px"},children:V.filter(h=>h.status==="active").map((h,C)=>{const R=h.daysCompleted||0,A=h.duration||30,X=Math.min(R/A*100,100),ee=h.dailyRoi||(h.capital||0)*.02,Ae=h.earnedRoi||h.roi||0,Rs=h.totalExpectedRoi||ee*A;return t.jsxs("div",{style:{background:"linear-gradient(145deg, rgba(26, 26, 26, 0.95), rgba(20, 20, 20, 0.95))",border:"1px solid rgba(240, 185, 11, 0.2)",borderRadius:"16px",width:"100%",display:"flex",flexDirection:"column",boxSizing:"border-box",padding:"20px",minHeight:"280px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsx("h4",{style:{color:"#f0b90b",fontSize:"15px",fontWeight:"600",margin:0},children:h.plan}),t.jsx("span",{style:{background:"rgba(16, 185, 129, 0.15)",color:"#10b981",padding:"4px 10px",borderRadius:"20px",fontSize:"11px",fontWeight:"600"},children:"Active"})]}),t.jsxs("div",{style:{marginBottom:"14px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[t.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px"},children:"Progress"}),t.jsxs("span",{style:{color:"#f0b90b",fontSize:"11px",fontWeight:"600"},children:[R,"/",A," days"]})]}),t.jsx("div",{style:{height:"6px",background:"rgba(255,255,255,0.1)",borderRadius:"3px",overflow:"hidden"},children:t.jsx("div",{style:{height:"100%",width:`${X}%`,background:"linear-gradient(90deg, #f0b90b, #4ade80)",borderRadius:"3px",transition:"width 0.3s ease"}})})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",flex:1},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 10px",background:"rgba(255,255,255,0.03)",borderRadius:"8px"},children:[t.jsx("span",{style:{color:"rgba(255,255,255,0.55)",fontSize:"12px"},children:"Capital"}),t.jsxs("span",{style:{color:"#fff",fontWeight:"600",fontSize:"12px"},children:["$",(h.capital||0).toLocaleString()]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 10px",background:"rgba(16, 185, 129, 0.08)",borderRadius:"8px"},children:[t.jsx("span",{style:{color:"rgba(255,255,255,0.55)",fontSize:"12px"},children:"Daily Earnings"}),t.jsxs("span",{style:{color:"#4ade80",fontWeight:"600",fontSize:"12px"},children:["+$",ee.toLocaleString(),"/day"]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 10px",background:"rgba(255,255,255,0.03)",borderRadius:"8px"},children:[t.jsx("span",{style:{color:"rgba(255,255,255,0.55)",fontSize:"12px"},children:"Earned So Far"}),t.jsxs("span",{style:{color:"#4ade80",fontWeight:"700",fontSize:"12px"},children:["+$",Ae.toLocaleString()]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 10px",background:"rgba(255,255,255,0.03)",borderRadius:"8px"},children:[t.jsx("span",{style:{color:"rgba(255,255,255,0.55)",fontSize:"12px"},children:"Total Expected"}),t.jsxs("span",{style:{color:"rgba(255,255,255,0.7)",fontSize:"12px"},children:["$",Rs.toLocaleString()]})]})]})]},C)})})]}),t.jsxs("div",{className:"profile-card",style:{marginTop:"24px"},children:[t.jsx("div",{className:"profile-card-header",children:t.jsxs("h3",{children:[t.jsx("i",{className:"icofont-star"})," Available Investment Plans"]})}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px",padding:"20px"},children:gt.map(h=>{var C;return t.jsxs("div",{style:{background:h.featured?"linear-gradient(145deg, rgba(240, 185, 11, 0.15), rgba(26, 26, 26, 0.98))":"linear-gradient(145deg, #1e2329 0%, #181a20 100%)",border:h.featured?"2px solid rgba(240, 185, 11, 0.5)":"1px solid rgba(240,185,11,0.12)",borderRadius:"16px",display:"flex",flexDirection:"column",position:"relative",overflow:"hidden",boxSizing:"border-box",padding:"18px 16px",boxShadow:h.featured?"0 6px 24px 0 rgba(240,185,11,0.12)":"0 2px 12px 0 rgba(0,0,0,0.15)",transition:"transform 0.2s, box-shadow 0.2s",cursor:"pointer"},onMouseEnter:R=>{R.currentTarget.style.transform="translateY(-4px)",R.currentTarget.style.boxShadow="0 12px 32px 0 rgba(240,185,11,0.15)"},onMouseLeave:R=>{R.currentTarget.style.transform="none",R.currentTarget.style.boxShadow=h.featured?"0 6px 24px 0 rgba(240,185,11,0.12)":"0 2px 12px 0 rgba(0,0,0,0.15)"},children:[h.featured&&t.jsx("div",{style:{position:"absolute",top:"12px",right:"-28px",background:"linear-gradient(135deg, #f0b90b, #d4a50a)",color:"#000",padding:"3px 36px",fontSize:"10px",fontWeight:"700",transform:"rotate(45deg)",textTransform:"uppercase"},children:"Popular"}),t.jsxs("div",{style:{textAlign:"center",marginBottom:"12px"},children:[t.jsx("h4",{style:{color:h.featured?"#f0b90b":"#fff",fontSize:"16px",fontWeight:"700",marginBottom:"2px",lineHeight:"1.2"},children:h.name}),t.jsx("p",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",margin:0},children:h.subtitle})]}),t.jsxs("div",{style:{textAlign:"center",marginBottom:"12px",padding:"10px 8px",background:"rgba(0, 0, 0, 0.25)",borderRadius:"10px"},children:[t.jsx("div",{style:{color:"#4ade80",fontSize:"24px",fontWeight:"700",lineHeight:"1"},children:tt(h.dailyRate)}),t.jsx("div",{style:{color:"rgba(255,255,255,0.55)",fontSize:"10px",marginTop:"2px"},children:"Daily ROI"})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",marginBottom:"12px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"6px 10px",background:"rgba(255,255,255,0.03)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"rgba(255,255,255,0.55)",fontSize:"11px"},children:"Duration"}),t.jsx("span",{style:{color:"#fff",fontWeight:"600",fontSize:"11px"},children:h.durationLabel})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"6px 10px",background:"rgba(255,255,255,0.03)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"rgba(255,255,255,0.55)",fontSize:"11px"},children:"Min"}),t.jsxs("span",{style:{color:"#f0b90b",fontWeight:"600",fontSize:"11px"},children:["$",h.minCapital.toLocaleString()]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"6px 10px",background:"rgba(255,255,255,0.03)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"rgba(255,255,255,0.55)",fontSize:"11px"},children:"Max"}),t.jsxs("span",{style:{color:"#f0b90b",fontWeight:"600",fontSize:"11px"},children:["$",((C=h.maxCapital)==null?void 0:C.toLocaleString())||"âˆž"]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"6px 10px",background:"rgba(255,255,255,0.03)",borderRadius:"6px"},children:[t.jsx("span",{style:{color:"rgba(255,255,255,0.55)",fontSize:"11px"},children:"Total ROI"}),t.jsx("span",{style:{color:"#4ade80",fontWeight:"600",fontSize:"11px"},children:tt(h.dailyRate*h.durationDays)})]})]}),t.jsxs("div",{style:{padding:"8px 10px",background:"rgba(16, 185, 129, 0.08)",borderRadius:"8px",marginBottom:"12px",textAlign:"center"},children:[t.jsxs("div",{style:{color:"rgba(255,255,255,0.55)",fontSize:"10px",marginBottom:"2px"},children:["Invest $",h.minCapital.toLocaleString()]}),t.jsxs("div",{style:{color:"#4ade80",fontSize:"13px",fontWeight:"700"},children:["Earn $",h.sampleEarning.toLocaleString()]})]}),t.jsxs("button",{onClick:()=>He(h),style:{width:"100%",padding:"10px",background:h.featured?"linear-gradient(135deg, #f0b90b, #d4a50a)":"linear-gradient(135deg, rgba(240, 185, 11, 0.18), rgba(240, 185, 11, 0.08))",border:h.featured?"none":"1px solid rgba(240, 185, 11, 0.25)",borderRadius:"8px",color:h.featured?"#000":"#f0b90b",fontWeight:"600",fontSize:"12px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",marginTop:"auto"},children:[t.jsx("i",{className:"icofont-plus-circle"})," Invest Now"]})]},h.id)})})]})]}),G==="Withdrawals"&&t.jsxs("div",{className:"page-section",children:[t.jsxs("div",{className:"page-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"icofont-pay"})," Withdrawals"]}),t.jsxs("button",{className:"primary-btn",onClick:Qt,children:[t.jsx("i",{className:"icofont-money"})," Request Withdrawal"]})]}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card primary",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-wallet"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Available Balance"}),t.jsxs("h2",{className:"stat-value",children:["$",Rt.toLocaleString()]}),t.jsx("p",{className:"stat-info",children:"Ready to withdraw"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:t.jsx("i",{className:"icofont-check-circled"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Total Withdrawn"}),t.jsx("h2",{className:"stat-value",children:"$0"}),t.jsx("p",{className:"stat-info",children:"All time"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6"},children:t.jsx("i",{className:"icofont-clock-time"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Pending"}),t.jsx("h2",{className:"stat-value",children:"$0"}),t.jsx("p",{className:"stat-info",children:"In progress"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(147, 51, 234, 0.1)",color:"#a855f7"},children:t.jsx("i",{className:"icofont-ui-settings"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Daily Limit"}),t.jsx("h2",{className:"stat-value",children:"$50,000"}),t.jsx("p",{className:"stat-info",children:"Min: $50"})]})]})]}),t.jsxs("div",{className:"profile-card",style:{marginTop:"1.5rem"},children:[t.jsxs("h4",{children:[t.jsx("i",{className:"icofont-info-circle"})," How It Works"]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[t.jsxs("div",{style:{padding:"1rem",background:"rgba(240,185,11,0.05)",borderRadius:"8px",border:"1px solid rgba(240,185,11,0.1)",textAlign:"center"},children:[t.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"rgba(240,185,11,0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem",color:"#f0b90b",fontWeight:700},children:"1"}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem"},children:"Request"}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.75rem",margin:0},children:"Enter amount & details"})]}),t.jsxs("div",{style:{padding:"1rem",background:"rgba(59,130,246,0.05)",borderRadius:"8px",border:"1px solid rgba(59,130,246,0.1)",textAlign:"center"},children:[t.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"rgba(59,130,246,0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem",color:"#3b82f6",fontWeight:700},children:"2"}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem"},children:"Verification"}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.75rem",margin:0},children:"Reviewed in 2-4 hours"})]}),t.jsxs("div",{style:{padding:"1rem",background:"rgba(147,51,234,0.05)",borderRadius:"8px",border:"1px solid rgba(147,51,234,0.1)",textAlign:"center"},children:[t.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"rgba(147,51,234,0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem",color:"#a855f7",fontWeight:700},children:"3"}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem"},children:"Processing"}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.75rem",margin:0},children:"Transferred in 24h"})]}),t.jsxs("div",{style:{padding:"1rem",background:"rgba(16,185,129,0.05)",borderRadius:"8px",border:"1px solid rgba(16,185,129,0.1)",textAlign:"center"},children:[t.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"rgba(16,185,129,0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem",color:"#10b981"},children:t.jsx("i",{className:"icofont-check"})}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem"},children:"Receive"}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.75rem",margin:0},children:"Funds in your wallet"})]})]})]}),t.jsxs("div",{className:"profile-card",style:{marginTop:"1.5rem"},children:[t.jsxs("h4",{children:[t.jsx("i",{className:"icofont-credit-card"})," Payment Methods"]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"1rem"},children:[t.jsxs("div",{style:{padding:"1rem",background:"rgba(247,147,26,0.05)",borderRadius:"8px",border:"1px solid rgba(247,147,26,0.1)",textAlign:"center"},children:[t.jsx("i",{className:"icofont-bitcoin",style:{color:"#f7931a",fontSize:"2rem",marginBottom:"0.5rem",display:"block"}}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem",fontSize:"0.875rem"},children:"Bitcoin"}),t.jsx("p",{style:{color:"#10b981",fontSize:"0.75rem",margin:0},children:"Instant"})]}),t.jsxs("div",{style:{padding:"1rem",background:"rgba(98,126,234,0.05)",borderRadius:"8px",border:"1px solid rgba(98,126,234,0.1)",textAlign:"center"},children:[t.jsx("i",{className:"icofont-ethereum",style:{color:"#627eea",fontSize:"2rem",marginBottom:"0.5rem",display:"block"}}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem",fontSize:"0.875rem"},children:"Ethereum"}),t.jsx("p",{style:{color:"#10b981",fontSize:"0.75rem",margin:0},children:"Instant"})]}),t.jsxs("div",{style:{padding:"1rem",background:"rgba(16,185,129,0.05)",borderRadius:"8px",border:"1px solid rgba(16,185,129,0.1)",textAlign:"center"},children:[t.jsx("i",{className:"icofont-cur-dollar",style:{color:"#10b981",fontSize:"2rem",marginBottom:"0.5rem",display:"block"}}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem",fontSize:"0.875rem"},children:"USDT"}),t.jsx("p",{style:{color:"#10b981",fontSize:"0.75rem",margin:0},children:"Instant"})]}),t.jsxs("div",{style:{padding:"1rem",background:"rgba(59,130,246,0.05)",borderRadius:"8px",border:"1px solid rgba(59,130,246,0.1)",textAlign:"center"},children:[t.jsx("i",{className:"icofont-bank-alt",style:{color:"#3b82f6",fontSize:"2rem",marginBottom:"0.5rem",display:"block"}}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem",fontSize:"0.875rem"},children:"Bank"}),t.jsx("p",{style:{color:"#64748b",fontSize:"0.75rem",margin:0},children:"1-2 days"})]})]})]}),t.jsxs("div",{className:"activity-section",style:{marginTop:"1.5rem"},children:[t.jsxs("div",{className:"section-header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"icofont-history"})," Withdrawal History"]}),t.jsx("button",{className:"view-all",children:"View All â†’"})]}),t.jsxs("div",{className:"empty-state",children:[t.jsx("i",{className:"icofont-pay"}),t.jsx("p",{children:"No withdrawal history"}),t.jsx("small",{style:{color:"#64748b"},children:"Your completed withdrawals will appear here"})]})]})]}),G==="Loans"&&t.jsxs("div",{className:"page-section",children:[t.jsxs("div",{className:"page-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"icofont-dollar-plus"})," Loan Management"]}),t.jsxs("button",{className:"primary-btn",onClick:ae,children:[t.jsx("i",{className:"icofont-plus"})," Request Loan"]})]}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card primary",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-money-bag"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Total Investment"}),t.jsxs("h2",{className:"stat-value",children:["$",Ye.toLocaleString()]}),t.jsx("p",{className:"stat-info",children:"Your collateral value"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6"},children:t.jsx("i",{className:"icofont-bank-alt"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Available to Borrow"}),t.jsxs("h2",{className:"stat-value",children:["$",(Ye*.5).toLocaleString()]}),t.jsx("p",{className:"stat-info",children:"Up to 50% of investment"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:t.jsx("i",{className:"icofont-percentage"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Interest Rate"}),t.jsx("h2",{className:"stat-value",children:"5%"}),t.jsx("p",{className:"stat-change positive",children:"Low monthly rate"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(147, 51, 234, 0.1)",color:"#a855f7"},children:t.jsx("i",{className:"icofont-tasks"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Active Loans"}),t.jsx("h2",{className:"stat-value",children:fe.filter(h=>h.status==="approved"||h.status==="active").length}),t.jsxs("p",{className:"stat-info",children:[fe.filter(h=>h.status==="pending").length," pending approval"]})]})]})]}),t.jsxs("div",{className:"profile-card",style:{marginTop:"1.5rem"},children:[t.jsxs("h4",{children:[t.jsx("i",{className:"icofont-star"})," Loan Benefits"]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[t.jsxs("div",{style:{padding:"1rem",background:"rgba(16,185,129,0.05)",borderRadius:"8px",border:"1px solid rgba(16,185,129,0.1)"},children:[t.jsx("i",{className:"icofont-flash",style:{color:"#10b981",fontSize:"1.5rem",marginBottom:"0.5rem",display:"block"}}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem"},children:"Instant Approval"}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.8125rem",margin:0},children:"Get funds within 24 hours"})]}),t.jsxs("div",{style:{padding:"1rem",background:"rgba(240,185,11,0.05)",borderRadius:"8px",border:"1px solid rgba(240,185,11,0.1)"},children:[t.jsx("i",{className:"icofont-percentage",style:{color:"#f0b90b",fontSize:"1.5rem",marginBottom:"0.5rem",display:"block"}}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem"},children:"Low Interest"}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.8125rem",margin:0},children:"Just 5% monthly rate"})]}),t.jsxs("div",{style:{padding:"1rem",background:"rgba(59,130,246,0.05)",borderRadius:"8px",border:"1px solid rgba(59,130,246,0.1)"},children:[t.jsx("i",{className:"icofont-calendar",style:{color:"#3b82f6",fontSize:"1.5rem",marginBottom:"0.5rem",display:"block"}}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem"},children:"Flexible Terms"}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.8125rem",margin:0},children:"30, 60, or 90 day terms"})]})]})]}),t.jsxs("div",{className:"activity-section",style:{marginTop:"1.5rem"},children:[t.jsx("div",{className:"section-header",children:t.jsxs("h3",{children:[t.jsx("i",{className:"icofont-tasks"})," Your Loans"]})}),fe.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("i",{className:"icofont-dollar-plus"}),t.jsx("p",{children:"No loan requests yet"}),t.jsxs("button",{className:"cta-btn",onClick:ae,children:[t.jsx("i",{className:"icofont-plus-circle"})," Request Your First Loan"]})]}):t.jsx("div",{className:"table-container",children:t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Amount"}),t.jsx("th",{children:"Duration"}),t.jsx("th",{children:"Interest"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Date"})]})}),t.jsx("tbody",{children:fe.map((h,C)=>{var R;return t.jsxs("tr",{children:[t.jsxs("td",{style:{fontWeight:600,color:"#f0b90b"},children:["$",((R=h.amount)==null?void 0:R.toLocaleString())||"0"]}),t.jsxs("td",{children:[h.duration||30," days"]}),t.jsxs("td",{children:[h.interestRate||5,"%"]}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${h.status==="approved"||h.status==="active"?"success":h.status==="rejected"?"danger":"pending"}`,children:h.status||"Pending"})}),t.jsx("td",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:h.date?new Date(h.date).toLocaleDateString():"N/A"})]},h.id||C)})})]})})]})]}),G==="KYC"&&t.jsxs("div",{className:"page-section",children:[t.jsxs("div",{className:"page-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"icofont-id-card"})," KYC Verification"]}),t.jsxs("button",{className:"primary-btn",onClick:kt,children:[t.jsx("i",{className:"icofont-verification-check"})," Start Verification"]})]}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card primary",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-verification-check"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Verification Status"}),t.jsx("h2",{className:"stat-value",children:"Pending"}),t.jsx("p",{className:"stat-info",children:"Complete verification to unlock features"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:t.jsx("i",{className:"icofont-check-circled"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Steps Completed"}),t.jsx("h2",{className:"stat-value",children:"1/4"}),t.jsx("p",{className:"stat-info",children:"Personal info submitted"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6"},children:t.jsx("i",{className:"icofont-unlock"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Withdrawal Limit"}),t.jsx("h2",{className:"stat-value",children:"$1,000"}),t.jsx("p",{className:"stat-change positive",children:"+$9,000 after KYC"})]})]})]}),t.jsxs("div",{className:"profile-card",style:{marginTop:"1.5rem"},children:[t.jsxs("h4",{children:[t.jsx("i",{className:"icofont-tasks-alt"})," Verification Progress"]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[t.jsxs("div",{className:"info-row",style:{background:"rgba(16,185,129,0.1)",borderRadius:"8px",padding:"1rem",border:"1px solid rgba(16,185,129,0.2)"},children:[t.jsxs("span",{className:"label",style:{color:"#10b981"},children:[t.jsx("i",{className:"icofont-check-circled"})," Personal Information"]}),t.jsx("span",{className:"value",style:{color:"#10b981"},children:"Completed"})]}),t.jsxs("div",{className:"info-row",style:{background:"rgba(148,163,184,0.1)",borderRadius:"8px",padding:"1rem",border:"1px solid rgba(148,163,184,0.2)"},children:[t.jsxs("span",{className:"label",children:[t.jsx("i",{className:"icofont-clock-time"})," Identity Document"]}),t.jsx("span",{className:"value",style:{color:"#94a3b8"},children:"Pending"})]}),t.jsxs("div",{className:"info-row",style:{background:"rgba(148,163,184,0.1)",borderRadius:"8px",padding:"1rem",border:"1px solid rgba(148,163,184,0.2)"},children:[t.jsxs("span",{className:"label",children:[t.jsx("i",{className:"icofont-clock-time"})," Proof of Address"]}),t.jsx("span",{className:"value",style:{color:"#94a3b8"},children:"Pending"})]}),t.jsxs("div",{className:"info-row",style:{background:"rgba(148,163,184,0.1)",borderRadius:"8px",padding:"1rem",border:"1px solid rgba(148,163,184,0.2)"},children:[t.jsxs("span",{className:"label",children:[t.jsx("i",{className:"icofont-clock-time"})," Selfie Verification"]}),t.jsx("span",{className:"value",style:{color:"#94a3b8"},children:"Pending"})]})]})]}),t.jsxs("div",{className:"profile-card",style:{marginTop:"1.5rem"},children:[t.jsxs("h4",{children:[t.jsx("i",{className:"icofont-gift"})," KYC Benefits"]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[t.jsxs("div",{style:{padding:"1rem",background:"rgba(240,185,11,0.05)",borderRadius:"8px",border:"1px solid rgba(240,185,11,0.1)"},children:[t.jsx("i",{className:"icofont-wallet",style:{color:"#f0b90b",fontSize:"1.5rem",marginBottom:"0.5rem",display:"block"}}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem"},children:"Higher Limits"}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.8125rem",margin:0},children:"Withdraw up to $10,000/day"})]}),t.jsxs("div",{style:{padding:"1rem",background:"rgba(16,185,129,0.05)",borderRadius:"8px",border:"1px solid rgba(16,185,129,0.1)"},children:[t.jsx("i",{className:"icofont-lock",style:{color:"#10b981",fontSize:"1.5rem",marginBottom:"0.5rem",display:"block"}}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem"},children:"Enhanced Security"}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.8125rem",margin:0},children:"Additional account protection"})]}),t.jsxs("div",{style:{padding:"1rem",background:"rgba(59,130,246,0.05)",borderRadius:"8px",border:"1px solid rgba(59,130,246,0.1)"},children:[t.jsx("i",{className:"icofont-star",style:{color:"#3b82f6",fontSize:"1.5rem",marginBottom:"0.5rem",display:"block"}}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem"},children:"Premium Features"}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.8125rem",margin:0},children:"Access exclusive investment plans"})]})]})]})]}),G==="Profile"&&t.jsxs("div",{className:"page-section",children:[t.jsxs("div",{className:"page-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"icofont-user-alt-7"})," Profile Settings"]}),t.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[P&&t.jsxs("button",{className:"secondary-btn",onClick:()=>{Y(!1),ke({email:(p==null?void 0:p.email)||"",phoneNumber:(p==null?void 0:p.phoneNumber)||"",address:(p==null?void 0:p.address)||""})},style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)"},children:[t.jsx("i",{className:"icofont-close"})," Cancel"]}),t.jsxs("button",{className:"primary-btn",onClick:ue,children:[t.jsx("i",{className:P?"icofont-save":"icofont-edit"})," ",P?"Save Changes":"Edit Profile"]})]})]}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card primary",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-user"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Account Status"}),t.jsx("h2",{className:"stat-value",children:"Active"}),t.jsxs("p",{className:"stat-change positive",children:[t.jsx("i",{className:"icofont-check-circled"})," Verified email"]})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-id-card"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"KYC Status"}),t.jsx("h2",{className:"stat-value",children:"Pending"}),t.jsx("p",{className:"stat-info",children:"Complete verification"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-calendar"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Member Since"}),t.jsx("h2",{className:"stat-value",children:new Date().toLocaleDateString("en-US",{month:"short",year:"numeric"})}),t.jsx("p",{className:"stat-info",children:"Account created"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-users"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Referrals"}),t.jsx("h2",{className:"stat-value",children:(p==null?void 0:p.referralCount)||0}),t.jsx("p",{className:"stat-info",children:"Network members"})]})]})]}),t.jsxs("div",{className:"profile-card",style:{marginTop:"1.5rem",marginBottom:"1.5rem"},children:[t.jsxs("h4",{children:[t.jsx("i",{className:"icofont-info-circle"})," Account Information"]}),t.jsxs("div",{className:"info-row",children:[t.jsxs("span",{className:"label",children:[t.jsx("i",{className:"icofont-user"})," Full Name"]}),t.jsx("span",{className:"value",children:(p==null?void 0:p.name)||"Not provided"})]}),t.jsxs("div",{className:"info-row",children:[t.jsxs("span",{className:"label",children:[t.jsx("i",{className:"icofont-ui-user"})," Username"]}),t.jsx("span",{className:"value",children:(p==null?void 0:p.userName)||"Not provided"})]}),t.jsxs("div",{className:"info-row",children:[t.jsxs("span",{className:"label",children:[t.jsx("i",{className:"icofont-email"})," Email"]}),P?t.jsx("input",{type:"email",value:I.email,onChange:h=>ke({...I,email:h.target.value}),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(240,185,11,0.3)",padding:"0.5rem",borderRadius:"6px",color:"#f8fafc",width:"300px"}}):t.jsx("span",{className:"value",children:(p==null?void 0:p.email)||"Not provided"})]}),t.jsxs("div",{className:"info-row",children:[t.jsxs("span",{className:"label",children:[t.jsx("i",{className:"icofont-id"})," Account ID"]}),t.jsx("span",{className:"value",style:{fontFamily:"monospace"},children:(p==null?void 0:p.id)||"N/A"})]}),t.jsxs("div",{className:"info-row",children:[t.jsxs("span",{className:"label",children:[t.jsx("i",{className:"icofont-barcode"})," Register ID"]}),t.jsx("span",{className:"value",style:{fontFamily:"monospace"},children:(p==null?void 0:p.idnum)||"N/A"})]}),t.jsxs("div",{className:"info-row",children:[t.jsxs("span",{className:"label",children:[t.jsx("i",{className:"icofont-phone"})," Phone Number"]}),P?t.jsx("input",{type:"tel",value:I.phoneNumber,onChange:h=>ke({...I,phoneNumber:h.target.value}),placeholder:"Enter phone number",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(240,185,11,0.3)",padding:"0.5rem",borderRadius:"6px",color:"#f8fafc",width:"300px"}}):t.jsx("span",{className:"value",children:(p==null?void 0:p.phoneNumber)||"Not provided"})]}),t.jsxs("div",{className:"info-row",children:[t.jsxs("span",{className:"label",children:[t.jsx("i",{className:"icofont-flag"})," Country"]}),t.jsx("span",{className:"value",children:(p==null?void 0:p.country)||"Not provided"})]}),t.jsxs("div",{className:"info-row",children:[t.jsxs("span",{className:"label",children:[t.jsx("i",{className:"icofont-location-pin"})," City"]}),t.jsx("span",{className:"value",children:(p==null?void 0:p.city)||"Not provided"})]}),t.jsxs("div",{className:"info-row",children:[t.jsxs("span",{className:"label",children:[t.jsx("i",{className:"icofont-home"})," Address"]}),P?t.jsx("input",{type:"text",value:I.address,onChange:h=>ke({...I,address:h.target.value}),placeholder:"Enter address",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(240,185,11,0.3)",padding:"0.5rem",borderRadius:"6px",color:"#f8fafc",width:"300px"}}):t.jsx("span",{className:"value",children:(p==null?void 0:p.address)||"Not provided"})]})]}),t.jsxs("div",{className:"profile-card",style:{marginBottom:"1.5rem"},children:[t.jsxs("h4",{children:[t.jsx("i",{className:"icofont-link-alt"})," Referral Link"]}),t.jsxs("p",{className:"text-muted",style:{marginBottom:"1rem",fontSize:"0.875rem"},children:[t.jsx("i",{className:"icofont-share"})," Share this link to invite friends and earn commissions"]}),t.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[t.jsx("input",{type:"text",value:`${window.location.origin}/signup?ref=${(p==null?void 0:p.referralCode)||(p==null?void 0:p.idnum)}`,readOnly:!0,style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",padding:"0.75rem",borderRadius:"8px",color:"#cbd5e1",fontFamily:"monospace",fontSize:"0.875rem"}}),t.jsx("button",{onClick:M,className:"primary-btn",style:{whiteSpace:"nowrap",background:D?"rgba(16,185,129,0.2)":void 0,color:D?"#10b981":void 0,border:D?"1px solid rgba(16,185,129,0.3)":void 0},children:D?"âœ“ Copied!":t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"icofont-copy"})," Copy Link"]})})]})]}),P&&t.jsxs("div",{className:"profile-card",style:{marginBottom:"1.5rem"},children:[t.jsxs("h4",{children:[t.jsx("i",{className:"icofont-camera"})," Choose Avatar"]}),t.jsx("p",{className:"text-muted",style:{marginBottom:"1rem",fontSize:"0.875rem"},children:"Select your profile picture"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.75rem",maxWidth:"400px"},children:[t.jsxs("div",{className:`avatar-option ${((p==null?void 0:p.avatar)||"avatar_male_1")==="avatar_male_1"?"selected":""}`,onClick:()=>{p&&(U({...p,avatar:"avatar_male_1"}),localStorage.setItem("activeUser",JSON.stringify({...p,avatar:"avatar_male_1"})))},style:{cursor:"pointer",padding:"0.75rem",border:((p==null?void 0:p.avatar)||"avatar_male_1")==="avatar_male_1"?"2px solid #f0b90b":"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",background:((p==null?void 0:p.avatar)||"avatar_male_1")==="avatar_male_1"?"rgba(240,185,11,0.1)":"rgba(255,255,255,0.03)",transition:"all 0.2s ease",textAlign:"center"},children:[t.jsx("img",{src:"/images/avatar_male_1.svg",alt:"Male Avatar 1",style:{width:"60px",height:"60px",borderRadius:"50%",marginBottom:"0.5rem",objectFit:"cover"}}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#94a3b8",display:"block"},children:"Male 1"})]}),t.jsxs("div",{className:`avatar-option ${(p==null?void 0:p.avatar)==="avatar_male_2"?"selected":""}`,onClick:()=>{p&&(U({...p,avatar:"avatar_male_2"}),localStorage.setItem("activeUser",JSON.stringify({...p,avatar:"avatar_male_2"})))},style:{cursor:"pointer",padding:"0.75rem",border:(p==null?void 0:p.avatar)==="avatar_male_2"?"2px solid #f0b90b":"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",background:(p==null?void 0:p.avatar)==="avatar_male_2"?"rgba(240,185,11,0.1)":"rgba(255,255,255,0.03)",transition:"all 0.2s ease",textAlign:"center"},children:[t.jsx("img",{src:"/images/avatar_male_2.svg",alt:"Male Avatar 2",style:{width:"60px",height:"60px",borderRadius:"50%",marginBottom:"0.5rem",objectFit:"cover"}}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#94a3b8",display:"block"},children:"Male 2"})]}),t.jsxs("div",{className:`avatar-option ${(p==null?void 0:p.avatar)==="avatar_female_1"?"selected":""}`,onClick:()=>{p&&(U({...p,avatar:"avatar_female_1"}),localStorage.setItem("activeUser",JSON.stringify({...p,avatar:"avatar_female_1"})))},style:{cursor:"pointer",padding:"0.75rem",border:(p==null?void 0:p.avatar)==="avatar_female_1"?"2px solid #f0b90b":"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",background:(p==null?void 0:p.avatar)==="avatar_female_1"?"rgba(240,185,11,0.1)":"rgba(255,255,255,0.03)",transition:"all 0.2s ease",textAlign:"center"},children:[t.jsx("img",{src:"/images/avatar_female_1.svg",alt:"Female Avatar",style:{width:"60px",height:"60px",borderRadius:"50%",marginBottom:"0.5rem",objectFit:"cover"}}),t.jsx("span",{style:{fontSize:"0.75rem",color:"#94a3b8",display:"block"},children:"Female"})]})]})]}),t.jsxs("div",{className:"profile-card",style:{marginBottom:"1.5rem"},children:[t.jsxs("h4",{children:[t.jsx("i",{className:"icofont-verification-check"})," KYC Verification"]}),t.jsxs("div",{className:"kyc-status-card",children:[t.jsxs("div",{className:"status-header",style:{marginBottom:"1.5rem"},children:[t.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:(N==null?void 0:N.status)==="approved"?"rgba(34,197,94,0.1)":(N==null?void 0:N.status)==="rejected"?"rgba(239,68,68,0.1)":"rgba(234,179,8,0.1)",border:(N==null?void 0:N.status)==="approved"?"1px solid rgba(34,197,94,0.3)":(N==null?void 0:N.status)==="rejected"?"1px solid rgba(239,68,68,0.3)":"1px solid rgba(234,179,8,0.3)",borderRadius:"8px",color:(N==null?void 0:N.status)==="approved"?"#22c55e":(N==null?void 0:N.status)==="rejected"?"#ef4444":"#eab308",fontSize:"0.875rem",fontWeight:600,marginBottom:"0.75rem"},children:[t.jsx("i",{className:(N==null?void 0:N.status)==="approved"?"icofont-verification-check":(N==null?void 0:N.status)==="rejected"?"icofont-close":"icofont-clock-time"}),t.jsx("span",{children:(N==null?void 0:N.status)==="approved"?"Verified":(N==null?void 0:N.status)==="rejected"?"Rejected":(N==null?void 0:N.status)==="pending"?"Pending Verification":"Not Submitted"})]}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.875rem",lineHeight:"1.5"},children:(N==null?void 0:N.status)==="approved"?"Your KYC verification has been approved. You can now access all features including withdrawals and higher investment limits.":(N==null?void 0:N.status)==="rejected"?`Your KYC verification was rejected. ${N.rejectionReason?"Reason: "+N.rejectionReason:"Please contact support for more details."}`:(N==null?void 0:N.status)==="pending"?"Your KYC verification is being reviewed. We will notify you once the review is complete.":"Complete KYC verification to unlock all features including withdrawals and higher investment limits."})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsx("h5",{style:{color:"#f8fafc",fontSize:"0.875rem",marginBottom:"0.75rem",fontWeight:600},children:"Verification Progress"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"rgba(16,185,129,0.1)",borderRadius:"8px",border:"1px solid rgba(16,185,129,0.2)"},children:[t.jsx("i",{className:"icofont-check-circled",style:{color:"#10b981",fontSize:"1.25rem"}}),t.jsx("span",{style:{color:"#10b981",fontWeight:500},children:"Personal Information"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"rgba(148,163,184,0.1)",borderRadius:"8px",border:"1px solid rgba(148,163,184,0.2)"},children:[t.jsx("i",{className:"icofont-clock-time",style:{color:"#94a3b8",fontSize:"1.25rem"}}),t.jsx("span",{style:{color:"#94a3b8",fontWeight:500},children:"Identity Document"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"rgba(148,163,184,0.1)",borderRadius:"8px",border:"1px solid rgba(148,163,184,0.2)"},children:[t.jsx("i",{className:"icofont-clock-time",style:{color:"#94a3b8",fontSize:"1.25rem"}}),t.jsx("span",{style:{color:"#94a3b8",fontWeight:500},children:"Proof of Address"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"rgba(148,163,184,0.1)",borderRadius:"8px",border:"1px solid rgba(148,163,184,0.2)"},children:[t.jsx("i",{className:"icofont-clock-time",style:{color:"#94a3b8",fontSize:"1.25rem"}}),t.jsx("span",{style:{color:"#94a3b8",fontWeight:500},children:"Selfie Verification"})]})]})]}),t.jsxs("button",{className:"primary-btn",onClick:kt,disabled:(N==null?void 0:N.status)==="approved"||(N==null?void 0:N.status)==="pending",style:{width:"100%",padding:"1rem",marginTop:"1rem",opacity:(N==null?void 0:N.status)==="approved"||(N==null?void 0:N.status)==="pending"?.6:1,cursor:(N==null?void 0:N.status)==="approved"||(N==null?void 0:N.status)==="pending"?"not-allowed":"pointer"},children:[t.jsx("i",{className:"icofont-verification-check"}),(N==null?void 0:N.status)==="approved"?"KYC Verified":(N==null?void 0:N.status)==="pending"?"KYC Under Review":(N==null?void 0:N.status)==="rejected"?"Resubmit KYC":"Start KYC Verification"]})]})]}),t.jsxs("div",{className:"profile-card",style:{marginBottom:"1.5rem"},children:[t.jsxs("h4",{children:[t.jsx("i",{className:"icofont-lock"})," Change Password"]}),t.jsxs("form",{onSubmit:Ce,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#94a3b8",fontSize:"0.875rem"},children:[t.jsx("i",{className:"icofont-key"})," Current Password"]}),t.jsx("input",{type:"password",value:le.currentPassword,onChange:h=>Le({...le,currentPassword:h.target.value}),required:!0,style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",padding:"0.75rem",borderRadius:"8px",color:"#f8fafc"}})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#94a3b8",fontSize:"0.875rem"},children:[t.jsx("i",{className:"icofont-key"})," New Password"]}),t.jsx("input",{type:"password",value:le.newPassword,onChange:h=>Le({...le,newPassword:h.target.value}),required:!0,style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",padding:"0.75rem",borderRadius:"8px",color:"#f8fafc"}})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#94a3b8",fontSize:"0.875rem"},children:[t.jsx("i",{className:"icofont-check"})," Confirm New Password"]}),t.jsx("input",{type:"password",value:le.confirmPassword,onChange:h=>Le({...le,confirmPassword:h.target.value}),required:!0,style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",padding:"0.75rem",borderRadius:"8px",color:"#f8fafc"}})]}),t.jsxs("button",{type:"submit",className:"primary-btn",style:{alignSelf:"flex-start"},children:[t.jsx("i",{className:"icofont-check-circled"})," Update Password"]})]})]}),t.jsxs("div",{className:"profile-card",style:{borderColor:"rgba(239,68,68,0.3)"},children:[t.jsxs("h4",{style:{color:"#ef4444"},children:[t.jsx("i",{className:"icofont-warning"})," Danger Zone"]}),t.jsxs("p",{style:{color:"#94a3b8",marginBottom:"1rem"},children:[t.jsx("i",{className:"icofont-exclamation-circle"})," Once you delete your account, there is no going back. Please be certain."]}),t.jsxs("button",{onClick:be,style:{padding:"0.75rem 1.5rem",background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"8px",color:"#ef4444",fontWeight:600,cursor:"pointer"},children:[t.jsx("i",{className:"icofont-trash"})," Delete Account"]})]})]}),G==="Downline"&&t.jsxs("div",{className:"page-section",children:[t.jsxs("div",{className:"page-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"icofont-users-alt-3"})," Downline Network"]}),t.jsxs("button",{className:"primary-btn",onClick:M,children:[t.jsx("i",{className:"icofont-share"})," ",D?"Copied!":"Share Link"]})]}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card primary",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-users-alt-3"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Total Downline"}),t.jsx("h2",{className:"stat-value",children:(p==null?void 0:p.referralCount)||0}),t.jsx("p",{className:"stat-info",children:"Network members"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:t.jsx("i",{className:"icofont-dollar"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Downline Earnings"}),t.jsx("h2",{className:"stat-value",children:"$0"}),t.jsx("p",{className:"stat-info",children:"Total commissions"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6"},children:t.jsx("i",{className:"icofont-chart-growth"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Commission Rate"}),t.jsx("h2",{className:"stat-value",children:"5%"}),t.jsx("p",{className:"stat-change positive",children:"Per referral investment"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(147, 51, 234, 0.1)",color:"#a855f7"},children:t.jsx("i",{className:"icofont-gift"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Pending Rewards"}),t.jsx("h2",{className:"stat-value",children:"$0"}),t.jsx("p",{className:"stat-info",children:"Awaiting payout"})]})]})]}),t.jsxs("div",{className:"profile-card",style:{marginTop:"1.5rem"},children:[t.jsxs("h4",{children:[t.jsx("i",{className:"icofont-link"})," Your Referral Link"]}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.875rem",marginBottom:"1rem"},children:"Share this link to invite friends and earn commissions"}),t.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[t.jsx("input",{type:"text",value:`${window.location.origin}/signup?ref=${(p==null?void 0:p.referralCode)||(p==null?void 0:p.idnum)}`,readOnly:!0,style:{flex:1,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",padding:"0.75rem",borderRadius:"8px",color:"#cbd5e1",fontFamily:"monospace",fontSize:"0.875rem"}}),t.jsx("button",{onClick:M,className:"primary-btn",style:{whiteSpace:"nowrap",background:D?"rgba(16,185,129,0.2)":void 0,color:D?"#10b981":void 0,border:D?"1px solid rgba(16,185,129,0.3)":void 0},children:D?"âœ“ Copied!":t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"icofont-copy"})," Copy"]})})]})]}),t.jsxs("div",{className:"activity-section",style:{marginTop:"1.5rem"},children:[t.jsxs("div",{className:"section-header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"icofont-history"})," Referral History"]}),t.jsx("button",{className:"view-all",children:"View All â†’"})]}),p!=null&&p.referralCount&&p.referralCount>0?t.jsx("div",{className:"activity-list",children:t.jsxs("div",{className:"activity-item",children:[t.jsx("div",{className:"activity-icon",children:t.jsx("i",{className:"icofont-user"})}),t.jsxs("div",{className:"activity-details",children:[t.jsxs("h4",{children:["user***",Math.floor(Math.random()*1e3)]}),t.jsx("p",{children:new Date().toLocaleDateString()})]}),t.jsx("div",{className:"activity-amount positive",children:"+$25.00"}),t.jsx("span",{className:"status-badge active",children:"Active"})]})}):t.jsxs("div",{className:"empty-state",children:[t.jsx("i",{className:"icofont-users-alt-3"}),t.jsx("p",{children:"No referrals yet"}),t.jsx("small",{style:{color:"#64748b"},children:"Share your referral link to start earning commissions"})]})]}),t.jsxs("div",{className:"profile-card",style:{marginTop:"1.5rem"},children:[t.jsxs("h4",{children:[t.jsx("i",{className:"icofont-info-circle"})," How It Works"]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[t.jsxs("div",{style:{padding:"1rem",background:"rgba(240,185,11,0.05)",borderRadius:"8px",border:"1px solid rgba(240,185,11,0.1)",textAlign:"center"},children:[t.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"rgba(240,185,11,0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem",color:"#f0b90b",fontWeight:700},children:"1"}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem"},children:"Share Link"}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.8125rem",margin:0},children:"Copy & share your unique referral link"})]}),t.jsxs("div",{style:{padding:"1rem",background:"rgba(16,185,129,0.05)",borderRadius:"8px",border:"1px solid rgba(16,185,129,0.1)",textAlign:"center"},children:[t.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"rgba(16,185,129,0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem",color:"#10b981",fontWeight:700},children:"2"}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem"},children:"Friend Invests"}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.8125rem",margin:0},children:"They sign up & make an investment"})]}),t.jsxs("div",{style:{padding:"1rem",background:"rgba(59,130,246,0.05)",borderRadius:"8px",border:"1px solid rgba(59,130,246,0.1)",textAlign:"center"},children:[t.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"rgba(59,130,246,0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.75rem",color:"#3b82f6",fontWeight:700},children:"3"}),t.jsx("h5",{style:{color:"#f8fafc",marginBottom:"0.25rem"},children:"Earn Rewards"}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.8125rem",margin:0},children:"Get 5% of their investment"})]})]})]})]}),G==="Support"&&t.jsxs("div",{className:"page-section",children:[t.jsxs("div",{className:"page-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"icofont-headphone-alt"})," Support Center"]}),t.jsxs("button",{className:"primary-btn",onClick:()=>window.location.href="mailto:support@binance-clone.com",children:[t.jsx("i",{className:"icofont-envelope"})," Contact Us"]})]}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card primary",children:[t.jsx("div",{className:"stat-icon",children:t.jsx("i",{className:"icofont-live-support"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Live Chat"}),t.jsx("h2",{className:"stat-value",children:"Online"}),t.jsxs("p",{className:"stat-change positive",children:[t.jsx("i",{className:"icofont-ui-check"})," Available Now"]})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6"},children:t.jsx("i",{className:"icofont-email"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Email Response"}),t.jsx("h2",{className:"stat-value",children:"24h"}),t.jsx("p",{className:"stat-info",children:"Average response time"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:t.jsx("i",{className:"icofont-ticket"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Open Tickets"}),t.jsx("h2",{className:"stat-value",children:"0"}),t.jsx("p",{className:"stat-info",children:"No pending issues"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",style:{background:"rgba(147, 51, 234, 0.1)",color:"#a855f7"},children:t.jsx("i",{className:"icofont-clock-time"})}),t.jsxs("div",{className:"stat-details",children:[t.jsx("p",{className:"stat-label",children:"Availability"}),t.jsx("h2",{className:"stat-value",children:"24/7"}),t.jsx("p",{className:"stat-info",children:"Round the clock support"})]})]})]}),t.jsxs("div",{className:"profile-card",style:{marginTop:"1.5rem"},children:[t.jsxs("h4",{children:[t.jsx("i",{className:"icofont-options"})," Contact Options"]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[t.jsxs("div",{style:{padding:"1.25rem",background:"rgba(240,185,11,0.05)",borderRadius:"8px",border:"1px solid rgba(240,185,11,0.1)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[t.jsx("i",{className:"icofont-live-support",style:{color:"#f0b90b",fontSize:"1.5rem"}}),t.jsxs("div",{children:[t.jsx("h5",{style:{color:"#f8fafc",margin:0},children:"Live Chat"}),t.jsx("span",{style:{color:"#10b981",fontSize:"0.75rem"},children:"Online"})]})]}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.8125rem",marginBottom:"1rem"},children:"Chat with our team in real-time"}),t.jsxs("button",{className:"primary-btn",style:{width:"100%",padding:"0.75rem"},children:[t.jsx("i",{className:"icofont-speech-comments"})," Start Chat"]})]}),t.jsxs("div",{style:{padding:"1.25rem",background:"rgba(59,130,246,0.05)",borderRadius:"8px",border:"1px solid rgba(59,130,246,0.1)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[t.jsx("i",{className:"icofont-email",style:{color:"#3b82f6",fontSize:"1.5rem"}}),t.jsxs("div",{children:[t.jsx("h5",{style:{color:"#f8fafc",margin:0},children:"Email"}),t.jsx("span",{style:{color:"#64748b",fontSize:"0.75rem"},children:"24h response"})]})]}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.8125rem",marginBottom:"1rem"},children:"Send us a detailed message"}),t.jsxs("button",{className:"secondary-btn",style:{width:"100%",padding:"0.75rem"},onClick:()=>window.location.href="mailto:support@binance-clone.com",children:[t.jsx("i",{className:"icofont-envelope"})," Send Email"]})]}),t.jsxs("div",{style:{padding:"1.25rem",background:"rgba(16,185,129,0.05)",borderRadius:"8px",border:"1px solid rgba(16,185,129,0.1)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem"},children:[t.jsx("i",{className:"icofont-ticket",style:{color:"#10b981",fontSize:"1.5rem"}}),t.jsxs("div",{children:[t.jsx("h5",{style:{color:"#f8fafc",margin:0},children:"Ticket"}),t.jsx("span",{style:{color:"#64748b",fontSize:"0.75rem"},children:"Track issues"})]})]}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.8125rem",marginBottom:"1rem"},children:"Create and track support tickets"}),t.jsxs("button",{className:"secondary-btn",style:{width:"100%",padding:"0.75rem"},children:[t.jsx("i",{className:"icofont-plus"})," Create Ticket"]})]})]})]}),t.jsxs("div",{className:"profile-card",style:{marginTop:"1.5rem"},children:[t.jsxs("h4",{children:[t.jsx("i",{className:"icofont-question-circle"})," Frequently Asked Questions"]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[t.jsxs("div",{className:"info-row",style:{background:"rgba(255,255,255,0.03)",borderRadius:"8px",padding:"1rem",border:"1px solid rgba(255,255,255,0.05)",flexDirection:"column",alignItems:"flex-start"},children:[t.jsxs("span",{className:"label",style:{color:"#f8fafc",fontWeight:500,marginBottom:"0.5rem"},children:[t.jsx("i",{className:"icofont-simple-right",style:{color:"#f0b90b",marginRight:"0.5rem"}}),"How do I make my first investment?"]}),t.jsx("span",{className:"value",style:{color:"#94a3b8",fontSize:"0.875rem",paddingLeft:"1.5rem"},children:"Go to Investments, select a plan, choose payment method, and follow instructions."})]}),t.jsxs("div",{className:"info-row",style:{background:"rgba(255,255,255,0.03)",borderRadius:"8px",padding:"1rem",border:"1px solid rgba(255,255,255,0.05)",flexDirection:"column",alignItems:"flex-start"},children:[t.jsxs("span",{className:"label",style:{color:"#f8fafc",fontWeight:500,marginBottom:"0.5rem"},children:[t.jsx("i",{className:"icofont-simple-right",style:{color:"#f0b90b",marginRight:"0.5rem"}}),"When can I withdraw my earnings?"]}),t.jsx("span",{className:"value",style:{color:"#94a3b8",fontSize:"0.875rem",paddingLeft:"1.5rem"},children:"Request withdrawal anytime from Withdrawals section. Processing takes 24-48 hours."})]}),t.jsxs("div",{className:"info-row",style:{background:"rgba(255,255,255,0.03)",borderRadius:"8px",padding:"1rem",border:"1px solid rgba(255,255,255,0.05)",flexDirection:"column",alignItems:"flex-start"},children:[t.jsxs("span",{className:"label",style:{color:"#f8fafc",fontWeight:500,marginBottom:"0.5rem"},children:[t.jsx("i",{className:"icofont-simple-right",style:{color:"#f0b90b",marginRight:"0.5rem"}}),"What documents do I need for KYC?"]}),t.jsx("span",{className:"value",style:{color:"#94a3b8",fontSize:"0.875rem",paddingLeft:"1.5rem"},children:"Government ID, proof of address, and a selfie holding your ID."})]}),t.jsxs("div",{className:"info-row",style:{background:"rgba(255,255,255,0.03)",borderRadius:"8px",padding:"1rem",border:"1px solid rgba(255,255,255,0.05)",flexDirection:"column",alignItems:"flex-start"},children:[t.jsxs("span",{className:"label",style:{color:"#f8fafc",fontWeight:500,marginBottom:"0.5rem"},children:[t.jsx("i",{className:"icofont-simple-right",style:{color:"#f0b90b",marginRight:"0.5rem"}}),"How does the referral program work?"]}),t.jsx("span",{className:"value",style:{color:"#94a3b8",fontSize:"0.875rem",paddingLeft:"1.5rem"},children:"Share your referral link. When friends invest, you earn 5% commission."})]}),t.jsxs("div",{className:"info-row",style:{background:"rgba(255,255,255,0.03)",borderRadius:"8px",padding:"1rem",border:"1px solid rgba(255,255,255,0.05)",flexDirection:"column",alignItems:"flex-start"},children:[t.jsxs("span",{className:"label",style:{color:"#f8fafc",fontWeight:500,marginBottom:"0.5rem"},children:[t.jsx("i",{className:"icofont-simple-right",style:{color:"#f0b90b",marginRight:"0.5rem"}}),"What payment methods are accepted?"]}),t.jsx("span",{className:"value",style:{color:"#94a3b8",fontSize:"0.875rem",paddingLeft:"1.5rem"},children:"Bitcoin (BTC), Ethereum (ETH), USDT (Tether), and bank transfers."})]})]})]}),t.jsxs("div",{className:"profile-card",style:{marginTop:"1.5rem",borderColor:"rgba(240,185,11,0.2)"},children:[t.jsxs("h4",{children:[t.jsx("i",{className:"icofont-info-circle"})," Still Need Help?"]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[t.jsxs("div",{children:[t.jsx("p",{style:{color:"#64748b",fontSize:"0.8125rem",marginBottom:"0.25rem"},children:"Email"}),t.jsx("a",{href:"mailto:support@binance-clone.com",style:{color:"#f0b90b",textDecoration:"none",fontWeight:500},children:"support@binance-clone.com"})]}),t.jsxs("div",{children:[t.jsx("p",{style:{color:"#64748b",fontSize:"0.8125rem",marginBottom:"0.25rem"},children:"Response Time"}),t.jsx("p",{style:{color:"#f8fafc",margin:0,fontWeight:500},children:"Within 24 hours"})]}),t.jsxs("div",{children:[t.jsx("p",{style:{color:"#64748b",fontSize:"0.8125rem",marginBottom:"0.25rem"},children:"Availability"}),t.jsxs("p",{style:{color:"#10b981",margin:0,fontWeight:500},children:[t.jsx("i",{className:"icofont-clock-time"})," 24/7"]})]})]})]})]}),G==="Stocks"&&t.jsx("div",{className:"page-section",children:t.jsx(wl,{})})]})}),t.jsxs("button",{className:"mobile-menu-btn",onClick:()=>Z(!Q),"aria-label":"Toggle menu",children:[t.jsx("span",{}),t.jsx("span",{}),t.jsx("span",{})]}),Q&&t.jsx("div",{className:"mobile-overlay",onClick:()=>Z(!1)}),se&&T&&t.jsx("div",{className:"modal-overlay",onClick:Me,children:t.jsxs("div",{className:"modal-container",onClick:h=>h.stopPropagation(),children:[t.jsx("button",{className:"modal-close",onClick:Me,children:t.jsx("i",{className:"icofont-close"})}),De==="select"&&t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"icofont-chart-growth"})," Create Investment"]}),t.jsxs("p",{children:["Configure your investment in ",T.name]})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"investment-summary-card",children:[t.jsx("h3",{children:T.name}),t.jsxs("div",{className:"summary-grid",children:[t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Daily ROI"}),t.jsx("span",{className:"value",children:tt(T.dailyRate)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Duration"}),t.jsx("span",{className:"value",children:T.durationLabel})]}),t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Total Return"}),t.jsx("span",{className:"value",children:tt(T.dailyRate*T.durationDays)})]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Investment Amount (USD)"}),t.jsx("input",{type:"number",value:F.capital,onChange:h=>Ie({...F,capital:h.target.value}),min:T.minCapital,max:T.maxCapital||void 0,placeholder:`Min: $${T.minCapital.toLocaleString()}`,className:"modal-input"}),t.jsxs("small",{className:"input-hint",children:["Range: $",T.minCapital.toLocaleString(),T.maxCapital&&` - $${T.maxCapital.toLocaleString()}`]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Payment Method"}),t.jsx("div",{className:"payment-methods-grid",children:Object.entries(me).map(([h,C])=>t.jsxs("button",{className:`payment-method-card ${F.paymentMethod===h?"active":""}`,onClick:()=>Ie({...F,paymentMethod:h}),children:[t.jsx("span",{className:"method-icon",children:C.icon}),t.jsx("span",{className:"method-name",children:C.name})]},h))})]}),F.capital&&parseFloat(F.capital)>=T.minCapital&&t.jsxs("div",{className:"earnings-preview",children:[t.jsx("h4",{children:"Daily Earnings Projection"}),t.jsxs("div",{className:"preview-grid",children:[t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"You Invest"}),t.jsxs("span",{className:"value",children:["$",parseFloat(F.capital).toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Daily Earnings"}),t.jsxs("span",{className:"value positive",children:["+$",(parseFloat(F.capital)*T.dailyRate).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),"/day"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"label",children:"Duration"}),t.jsxs("span",{className:"value",children:[T.durationDays," days"]})]}),t.jsxs("div",{children:[t.jsxs("span",{className:"label",children:["Total Expected (after ",T.durationDays," days)"]}),t.jsxs("span",{className:"value",children:["$",(parseFloat(F.capital)*T.dailyRate*T.durationDays).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn-secondary",onClick:Me,children:"Cancel"}),t.jsxs("button",{className:"btn-primary",onClick:nt,children:["Continue ",t.jsx("i",{className:"icofont-arrow-right"})]})]})]}),De==="confirm"&&t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"icofont-verify"})," Confirm Investment"]}),t.jsx("p",{children:"Review your investment details"})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"confirmation-card",children:[t.jsx("h3",{children:"Investment Summary"}),t.jsxs("div",{className:"confirm-row",children:[t.jsx("span",{children:"Plan"}),t.jsx("strong",{children:T.name})]}),t.jsxs("div",{className:"confirm-row",children:[t.jsx("span",{children:"Investment Amount"}),t.jsxs("strong",{children:["$",parseFloat(F.capital).toLocaleString()]})]}),t.jsxs("div",{className:"confirm-row",children:[t.jsx("span",{children:"Daily Earnings"}),t.jsxs("strong",{className:"positive",children:["+$",(parseFloat(F.capital)*T.dailyRate).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),"/day"]})]}),t.jsxs("div",{className:"confirm-row",children:[t.jsx("span",{children:"Duration"}),t.jsx("strong",{children:T.durationLabel})]}),t.jsxs("div",{className:"confirm-row",children:[t.jsx("span",{children:"Total Expected (credited daily)"}),t.jsxs("strong",{children:["$",(parseFloat(F.capital)*T.dailyRate*T.durationDays).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"confirm-row",children:[t.jsx("span",{children:"Payment Method"}),t.jsx("strong",{children:me[F.paymentMethod].name})]})]}),t.jsxs("div",{className:"warning-box",children:[t.jsx("i",{className:"icofont-warning"}),t.jsxs("div",{children:[t.jsx("strong",{children:"How it works:"})," Your earnings are credited daily to your balance. You'll receive $",(parseFloat(F.capital)*T.dailyRate).toLocaleString()," every day for ",T.durationDays," days."]})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsxs("button",{className:"btn-secondary",onClick:Gt,children:[t.jsx("i",{className:"icofont-arrow-left"})," Back"]}),t.jsxs("button",{className:"btn-primary",onClick:nt,children:["Proceed to Payment ",t.jsx("i",{className:"icofont-arrow-right"})]})]})]}),De==="payment"&&t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"icofont-pay"})," Complete Payment"]}),t.jsx("p",{children:"Send payment to activate your investment"})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"payment-instructions",children:[t.jsxs("div",{className:"payment-amount-box",children:[t.jsx("div",{className:"amount-label",children:"Amount to Pay"}),t.jsxs("div",{className:"amount-value",children:["$",parseFloat(F.capital).toLocaleString()]}),t.jsxs("div",{className:"amount-method",children:["via ",me[F.paymentMethod].name]})]}),F.paymentMethod!=="Bank"?t.jsxs("div",{className:"crypto-payment-details",children:[t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{className:"detail-label",children:"Network"}),t.jsx("span",{className:"detail-value",children:"network"in me[F.paymentMethod]?me[F.paymentMethod].network:""})]}),t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{className:"detail-label",children:"Wallet Address"}),t.jsxs("div",{className:"address-box",children:[t.jsx("code",{children:"address"in me[F.paymentMethod]?me[F.paymentMethod].address:""}),t.jsx("button",{className:"copy-btn",onClick:ze,children:Ut?t.jsx("i",{className:"icofont-check"}):t.jsx("i",{className:"icofont-copy"})})]})]}),t.jsx("div",{className:"qr-placeholder",children:t.jsxs("div",{className:"qr-box",children:[t.jsx("i",{className:"icofont-qr-code"}),t.jsx("p",{children:"QR Code"})]})}),t.jsxs("div",{className:"detail-row",style:{marginTop:"1.5rem"},children:[t.jsxs("span",{className:"detail-label",children:["Transaction Hash / TXID ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",className:"modal-input",placeholder:"Enter transaction hash (e.g., 0x1234...abcd)",value:F.transactionHash,onChange:h=>Ie({...F,transactionHash:h.target.value}),style:{width:"100%",marginTop:"0.5rem"},required:!0})]}),t.jsxs("div",{className:"detail-row",style:{marginTop:"1.5rem"},children:[t.jsxs("span",{className:"detail-label",children:["Upload Payment Proof ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"file",accept:"image/*",className:"modal-input",onChange:h=>Ie({...F,bankSlip:h.target.files?h.target.files[0]:null}),style:{width:"100%",marginTop:"0.5rem"},required:!0}),F.bankSlip&&t.jsxs("span",{style:{color:"#10b981",fontSize:"0.85rem",marginTop:"0.5rem",display:"block"},children:[t.jsx("i",{className:"icofont-check-circled"})," ",F.bankSlip.name]})]})]}):t.jsxs("div",{className:"bank-payment-details",children:[t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{className:"detail-label",children:"Account Name"}),t.jsx("span",{className:"detail-value",children:me.Bank.accountName})]}),t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{className:"detail-label",children:"Account Number"}),t.jsxs("div",{className:"address-box",children:[t.jsx("code",{children:me.Bank.accountNumber}),t.jsx("button",{className:"copy-btn",onClick:ze,children:Ut?t.jsx("i",{className:"icofont-check"}):t.jsx("i",{className:"icofont-copy"})})]})]}),t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{className:"detail-label",children:"Bank Name"}),t.jsx("span",{className:"detail-value",children:me.Bank.bankName})]}),t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{className:"detail-label",children:"Routing Number"}),t.jsx("span",{className:"detail-value",children:me.Bank.routingNumber})]}),t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{className:"detail-label",children:"SWIFT Code"}),t.jsx("span",{className:"detail-value",children:me.Bank.swiftCode})]}),t.jsxs("div",{className:"detail-row",style:{marginTop:"1.5rem"},children:[t.jsxs("span",{className:"detail-label",children:["Transaction Reference ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",className:"modal-input",placeholder:"Enter transaction reference/ID",value:F.transactionHash,onChange:h=>Ie({...F,transactionHash:h.target.value}),style:{width:"100%",marginTop:"0.5rem"},required:!0})]}),t.jsxs("div",{className:"detail-row",style:{marginTop:"1.5rem"},children:[t.jsxs("span",{className:"detail-label",children:["Upload Payment Proof ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"file",accept:"image/*",className:"modal-input",onChange:h=>Ie({...F,bankSlip:h.target.files?h.target.files[0]:null}),style:{width:"100%",marginTop:"0.5rem"},required:!0}),F.bankSlip&&t.jsxs("span",{style:{color:"#10b981",fontSize:"0.85rem",marginTop:"0.5rem",display:"block"},children:[t.jsx("i",{className:"icofont-check-circled"})," ",F.bankSlip.name]})]})]}),t.jsxs("div",{className:"payment-notes",children:[t.jsxs("h4",{children:[t.jsx("i",{className:"icofont-info-circle"})," Important Notes"]}),t.jsxs("ul",{children:[t.jsx("li",{children:"Send the exact amount specified above"}),t.jsx("li",{children:"Your investment will be activated after payment confirmation"}),t.jsx("li",{children:"Processing time: 1-3 confirmations for crypto, 1-2 business days for bank transfer"}),t.jsx("li",{children:"Contact support if you have any issues"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsxs("button",{className:"btn-secondary",onClick:Gt,children:[t.jsx("i",{className:"icofont-arrow-left"})," Back"]}),t.jsxs("button",{className:"btn-primary",onClick:O,children:[t.jsx("i",{className:"icofont-check"})," I've Made Payment"]})]})]})]})}),ks&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,backdropFilter:"blur(8px)",padding:"1rem"},children:t.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"16px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.5)",border:"1px solid rgba(240,185,11,0.2)"},children:[t.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600,marginBottom:"0.25rem"},children:"KYC Verification"}),t.jsxs("p",{style:{color:"#94a3b8",fontSize:"0.875rem",margin:0},children:["Step ",ie==="intro"?"1":ie==="personal"?"2":ie==="documents"?"3":ie==="review"?"4":"5"," of 5"]})]}),t.jsx("button",{onClick:Ct,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#f8fafc",fontSize:"1.25rem"},children:"Ã—"})]}),t.jsxs("div",{style:{padding:"2rem"},children:[ie==="intro"&&t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #f0b90b 0%, #f8d12f 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(240,185,11,0.3)"},children:t.jsx("i",{className:"icofont-verification-check",style:{fontSize:"2.5rem",color:"#0f172a"}})}),t.jsx("h4",{style:{color:"#f8fafc",fontSize:"1.5rem",fontWeight:600,marginBottom:"1rem"},children:"Verify Your Identity"}),t.jsx("p",{style:{color:"#cbd5e1",fontSize:"1rem",lineHeight:"1.6",marginBottom:"1.5rem"},children:"To comply with regulations and ensure account security, we need to verify your identity."}),t.jsxs("div",{style:{textAlign:"left",background:"rgba(255,255,255,0.05)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[t.jsx("h5",{style:{color:"#f0b90b",fontSize:"0.875rem",fontWeight:600,marginBottom:"1rem",textTransform:"uppercase"},children:"What You'll Need:"}),t.jsxs("ul",{style:{color:"#cbd5e1",fontSize:"0.875rem",lineHeight:"2",paddingLeft:"1.5rem",margin:0},children:[t.jsx("li",{children:"Valid government-issued ID (Passport, Driver's License, or National ID)"}),t.jsx("li",{children:"Proof of address (Utility bill or bank statement less than 3 months old)"}),t.jsx("li",{children:"A clear selfie holding your ID document"}),t.jsx("li",{children:"5-10 minutes of your time"})]})]}),t.jsx("div",{style:{background:"rgba(59,130,246,0.1)",border:"1px solid rgba(59,130,246,0.3)",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:t.jsxs("small",{style:{color:"#93c5fd",fontSize:"0.75rem",lineHeight:"1.5"},children:[t.jsx("i",{className:"icofont-lock",style:{marginRight:"0.5rem"}}),"Your information is encrypted and securely stored. We never share your data with third parties."]})})]}),ie==="personal"&&t.jsxs("div",{children:[t.jsx("h4",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600,marginBottom:"1.5rem"},children:"Personal Information"}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#cbd5e1",fontSize:"0.875rem",fontWeight:500},children:["ID Type ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("select",{value:K.idType,onChange:h=>St({...K,idType:h.target.value}),style:{width:"100%",padding:"0.75rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#f8fafc",fontSize:"0.875rem"},children:[t.jsx("option",{value:"passport",children:"Passport"}),t.jsx("option",{value:"drivers_license",children:"Driver's License"}),t.jsx("option",{value:"national_id",children:"National ID Card"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#cbd5e1",fontSize:"0.875rem",fontWeight:500},children:["ID Number ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:K.idNumber,onChange:h=>St({...K,idNumber:h.target.value}),placeholder:"Enter your ID number",style:{width:"100%",padding:"0.75rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#f8fafc",fontSize:"0.875rem"}})]})]}),ie==="documents"&&t.jsxs("div",{children:[t.jsx("h4",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600,marginBottom:"1.5rem"},children:"Upload Documents"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#cbd5e1",fontSize:"0.875rem",fontWeight:500},children:["Identity Document ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"2px dashed rgba(255,255,255,0.1)",borderRadius:"8px",padding:"1.5rem",textAlign:"center",cursor:"pointer",transition:"all 0.3s ease"},children:[t.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:h=>_t("idDocument",h),style:{display:"none"},id:"kyc-id-upload"}),t.jsx("label",{htmlFor:"kyc-id-upload",style:{cursor:"pointer",display:"block"},children:K.idDocument?t.jsxs("div",{children:[t.jsx("i",{className:"icofont-file-document",style:{fontSize:"2rem",color:"#10b981",display:"block",marginBottom:"0.5rem"}}),t.jsx("span",{style:{color:"#10b981",fontSize:"0.875rem"},children:K.idDocument.name})]}):t.jsxs("div",{children:[t.jsx("i",{className:"icofont-upload-alt",style:{fontSize:"2rem",color:"#f0b90b",display:"block",marginBottom:"0.5rem"}}),t.jsx("span",{style:{display:"block",color:"#cbd5e1",fontSize:"0.875rem"},children:"Choose file or drag here"}),t.jsx("small",{style:{color:"#64748b",fontSize:"0.75rem"},children:"JPG, PNG or PDF (Max 5MB)"})]})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#cbd5e1",fontSize:"0.875rem",fontWeight:500},children:["Proof of Address ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"2px dashed rgba(255,255,255,0.1)",borderRadius:"8px",padding:"1.5rem",textAlign:"center",cursor:"pointer"},children:[t.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:h=>_t("addressDocument",h),style:{display:"none"},id:"kyc-address-upload"}),t.jsx("label",{htmlFor:"kyc-address-upload",style:{cursor:"pointer",display:"block"},children:K.addressDocument?t.jsxs("div",{children:[t.jsx("i",{className:"icofont-file-document",style:{fontSize:"2rem",color:"#10b981",display:"block",marginBottom:"0.5rem"}}),t.jsx("span",{style:{color:"#10b981",fontSize:"0.875rem"},children:K.addressDocument.name})]}):t.jsxs("div",{children:[t.jsx("i",{className:"icofont-upload-alt",style:{fontSize:"2rem",color:"#f0b90b",display:"block",marginBottom:"0.5rem"}}),t.jsx("span",{style:{display:"block",color:"#cbd5e1",fontSize:"0.875rem"},children:"Choose file or drag here"}),t.jsx("small",{style:{color:"#64748b",fontSize:"0.75rem"},children:"Utility bill or bank statement"})]})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#cbd5e1",fontSize:"0.875rem",fontWeight:500},children:["Selfie with ID ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"2px dashed rgba(255,255,255,0.1)",borderRadius:"8px",padding:"1.5rem",textAlign:"center",cursor:"pointer"},children:[t.jsx("input",{type:"file",accept:"image/*",onChange:h=>_t("selfieDocument",h),style:{display:"none"},id:"kyc-selfie-upload"}),t.jsx("label",{htmlFor:"kyc-selfie-upload",style:{cursor:"pointer",display:"block"},children:K.selfieDocument?t.jsxs("div",{children:[t.jsx("i",{className:"icofont-file-document",style:{fontSize:"2rem",color:"#10b981",display:"block",marginBottom:"0.5rem"}}),t.jsx("span",{style:{color:"#10b981",fontSize:"0.875rem"},children:K.selfieDocument.name})]}):t.jsxs("div",{children:[t.jsx("i",{className:"icofont-upload-alt",style:{fontSize:"2rem",color:"#f0b90b",display:"block",marginBottom:"0.5rem"}}),t.jsx("span",{style:{display:"block",color:"#cbd5e1",fontSize:"0.875rem"},children:"Choose file or drag here"}),t.jsx("small",{style:{color:"#64748b",fontSize:"0.75rem"},children:"Clear photo holding your ID"})]})})]})]})]})]}),ie==="review"&&t.jsxs("div",{children:[t.jsx("h4",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600,marginBottom:"1.5rem"},children:"Review Your Information"}),t.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem"},children:[t.jsxs("div",{style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[t.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.25rem"},children:"ID Type"}),t.jsx("span",{style:{color:"#f8fafc",fontSize:"0.875rem",fontWeight:500},children:K.idType==="passport"?"Passport":K.idType==="drivers_license"?"Driver's License":"National ID Card"})]}),t.jsxs("div",{style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[t.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.25rem"},children:"ID Number"}),t.jsx("span",{style:{color:"#f8fafc",fontSize:"0.875rem",fontWeight:500},children:K.idNumber})]}),t.jsxs("div",{style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[t.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.25rem"},children:"Documents Uploaded"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginTop:"0.5rem"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("i",{className:"icofont-check-circled",style:{color:"#10b981",fontSize:"1rem"}}),t.jsx("span",{style:{color:"#cbd5e1",fontSize:"0.875rem"},children:(fi=K.idDocument)==null?void 0:fi.name})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("i",{className:"icofont-check-circled",style:{color:"#10b981",fontSize:"1rem"}}),t.jsx("span",{style:{color:"#cbd5e1",fontSize:"0.875rem"},children:(pi=K.addressDocument)==null?void 0:pi.name})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[t.jsx("i",{className:"icofont-check-circled",style:{color:"#10b981",fontSize:"1rem"}}),t.jsx("span",{style:{color:"#cbd5e1",fontSize:"0.875rem"},children:(gi=K.selfieDocument)==null?void 0:gi.name})]})]})]})]}),t.jsx("div",{style:{background:"rgba(34,197,94,0.1)",border:"1px solid rgba(34,197,94,0.3)",borderRadius:"8px",padding:"1rem"},children:t.jsxs("small",{style:{color:"#86efac",fontSize:"0.75rem",lineHeight:"1.5"},children:[t.jsx("i",{className:"icofont-info-circle",style:{marginRight:"0.5rem"}}),"Please ensure all information is correct before submitting. Our team will review your documents within 24-48 hours."]})})]}),ie==="success"&&t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #10b981 0%, #34d399 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(16,185,129,0.3)"},children:t.jsx("i",{className:"icofont-check",style:{fontSize:"2.5rem",color:"#fff"}})}),t.jsx("h4",{style:{color:"#f8fafc",fontSize:"1.5rem",fontWeight:600,marginBottom:"1rem"},children:"Documents Submitted!"}),t.jsx("p",{style:{color:"#cbd5e1",fontSize:"1rem",lineHeight:"1.6",marginBottom:"1.5rem"},children:"Thank you for submitting your verification documents. Our team will review them within 24-48 hours."}),t.jsxs("div",{style:{background:"rgba(59,130,246,0.1)",border:"1px solid rgba(59,130,246,0.3)",borderRadius:"12px",padding:"1.5rem",textAlign:"left"},children:[t.jsx("h5",{style:{color:"#93c5fd",fontSize:"0.875rem",fontWeight:600,marginBottom:"0.75rem"},children:"What happens next?"}),t.jsxs("ul",{style:{color:"#cbd5e1",fontSize:"0.875rem",lineHeight:"1.8",paddingLeft:"1.5rem",margin:0},children:[t.jsx("li",{children:"We'll verify your documents"}),t.jsx("li",{children:"You'll receive an email notification"}),t.jsx("li",{children:"Once approved, you can access all platform features"})]})]})]})]}),t.jsxs("div",{style:{padding:"1.5rem",borderTop:"1px solid rgba(255,255,255,0.1)",display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[ie!=="intro"&&ie!=="success"&&t.jsx("button",{onClick:Kt,style:{padding:"0.75rem 1.5rem",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"#f8fafc",fontSize:"0.875rem",fontWeight:500,cursor:"pointer",transition:"all 0.3s ease"},children:"Back"}),ie!=="success"&&t.jsx("button",{onClick:Jt,style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #f0b90b 0%, #f8d12f 100%)",border:"none",borderRadius:"8px",color:"#0f172a",fontSize:"0.875rem",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 12px rgba(240,185,11,0.3)",transition:"all 0.3s ease"},children:ie==="review"?"Submit Documents":"Continue"}),ie==="success"&&t.jsx("button",{onClick:Ct,style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #f0b90b 0%, #f8d12f 100%)",border:"none",borderRadius:"8px",color:"#0f172a",fontSize:"0.875rem",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 12px rgba(240,185,11,0.3)"},children:"Close"})]})]})}),Qe&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,backdropFilter:"blur(8px)",padding:"1rem"},children:t.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"16px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.5)",border:"1px solid rgba(240,185,11,0.2)"},children:[t.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600,marginBottom:"0.25rem"},children:"Request Withdrawal"}),t.jsxs("p",{style:{color:"#94a3b8",fontSize:"0.875rem",margin:0},children:["Step ",ne==="amount"?"1":ne==="method"?"2":ne==="details"?"3":ne==="confirm"?"4":"5"," of 5"]})]}),t.jsx("button",{onClick:Zt,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#f8fafc",fontSize:"1.25rem"},children:"Ã—"})]}),t.jsxs("div",{style:{padding:"2rem"},children:[ne==="amount"&&t.jsxs("div",{children:[t.jsx("h4",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600,marginBottom:"1.5rem"},children:"Enter Withdrawal Amount"}),t.jsxs("div",{style:{background:"rgba(240,185,11,0.1)",border:"1px solid rgba(240,185,11,0.3)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.875rem",marginBottom:"0.5rem"},children:"Available Balance"}),t.jsxs("h2",{style:{color:"#f0b90b",fontSize:"2rem",fontWeight:700,margin:0},children:["$",Rt.toLocaleString()]})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#cbd5e1",fontSize:"0.875rem",fontWeight:500},children:["Amount (USD) ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",value:E.amount,onChange:h=>Te({...E,amount:h.target.value}),placeholder:"Enter amount",min:"50",style:{width:"100%",padding:"0.75rem 1rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#f8fafc",fontSize:"1rem",fontWeight:500}}),t.jsx("small",{style:{color:"#94a3b8",fontSize:"0.75rem",marginTop:"0.5rem",display:"block"},children:"Min: $50 | Max: $50,000 per day"})]}),t.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[[100,500,1e3,5e3].map(h=>t.jsxs("button",{onClick:()=>Te({...E,amount:h.toString()}),style:{padding:"0.5rem 1rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#f0b90b",fontSize:"0.875rem",cursor:"pointer",fontWeight:500},children:["$",h.toLocaleString()]},h)),t.jsx("button",{onClick:()=>Te({...E,amount:Rt.toString()}),style:{padding:"0.5rem 1rem",background:"rgba(240,185,11,0.1)",border:"1px solid rgba(240,185,11,0.3)",borderRadius:"8px",color:"#f0b90b",fontSize:"0.875rem",cursor:"pointer",fontWeight:600},children:"All"})]})]}),ne==="method"&&t.jsxs("div",{children:[t.jsx("h4",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600,marginBottom:"1.5rem"},children:"Select Payment Method"}),t.jsx("div",{style:{display:"grid",gap:"1rem"},children:["Bitcoin","Ethereum","USDT","Bank Transfer"].map(h=>t.jsxs("button",{onClick:()=>Te({...E,method:h}),style:{padding:"1.5rem",background:E.method===h?"rgba(240,185,11,0.1)":"rgba(255,255,255,0.03)",border:E.method===h?"2px solid #f0b90b":"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",textAlign:"left",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"1rem"},children:[t.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"rgba(240,185,11,0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",color:"#f0b90b"},children:h==="Bitcoin"?"â‚¿":h==="Ethereum"?"Îž":h==="USDT"?"â‚®":"ðŸ¦"}),t.jsxs("div",{children:[t.jsx("div",{style:{color:"#f8fafc",fontWeight:600,fontSize:"1rem"},children:h}),t.jsx("div",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:h==="Bank Transfer"?"1-2 business days":"Instant transfer"})]})]},h))})]}),ne==="details"&&t.jsxs("div",{children:[t.jsx("h4",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600,marginBottom:"1.5rem"},children:E.method==="Bank Transfer"?"Bank Account Details":"Wallet Details"}),E.method==="Bank Transfer"?t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#cbd5e1",fontSize:"0.875rem",fontWeight:500},children:["Bank Name ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:E.bankName,onChange:h=>Te({...E,bankName:h.target.value}),placeholder:"Enter bank name",style:{width:"100%",padding:"0.75rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#f8fafc",fontSize:"0.875rem"}})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#cbd5e1",fontSize:"0.875rem",fontWeight:500},children:["Account Name ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:E.accountName,onChange:h=>Te({...E,accountName:h.target.value}),placeholder:"Enter account holder name",style:{width:"100%",padding:"0.75rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#f8fafc",fontSize:"0.875rem"}})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#cbd5e1",fontSize:"0.875rem",fontWeight:500},children:["Account Number ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:E.accountNumber,onChange:h=>Te({...E,accountNumber:h.target.value}),placeholder:"Enter account number",style:{width:"100%",padding:"0.75rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#f8fafc",fontSize:"0.875rem"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#cbd5e1",fontSize:"0.875rem",fontWeight:500},children:"Routing Number"}),t.jsx("input",{type:"text",value:E.routingNumber,onChange:h=>Te({...E,routingNumber:h.target.value}),placeholder:"Enter routing number (optional)",style:{width:"100%",padding:"0.75rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#f8fafc",fontSize:"0.875rem"}})]})]}):t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#cbd5e1",fontSize:"0.875rem",fontWeight:500},children:["Wallet Address ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"text",value:E.walletAddress,onChange:h=>Te({...E,walletAddress:h.target.value}),placeholder:`Enter your ${E.method} wallet address`,style:{width:"100%",padding:"0.75rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#f8fafc",fontSize:"0.875rem",fontFamily:"monospace"}}),t.jsx("small",{style:{color:"#94a3b8",fontSize:"0.75rem",marginTop:"0.5rem",display:"block"},children:"Make sure to double-check your wallet address. Transactions cannot be reversed."})]})]}),ne==="confirm"&&t.jsxs("div",{children:[t.jsx("h4",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600,marginBottom:"1.5rem"},children:"Confirm Withdrawal Request"}),t.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem"},children:[t.jsxs("div",{style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[t.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.25rem"},children:"Amount"}),t.jsxs("span",{style:{color:"#f8fafc",fontSize:"1.5rem",fontWeight:700},children:["$",parseFloat(E.amount).toLocaleString()]})]}),t.jsxs("div",{style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[t.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.25rem"},children:"Payment Method"}),t.jsx("span",{style:{color:"#f8fafc",fontSize:"0.875rem",fontWeight:500},children:E.method})]}),E.method==="Bank Transfer"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[t.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.25rem"},children:"Bank Name"}),t.jsx("span",{style:{color:"#f8fafc",fontSize:"0.875rem",fontWeight:500},children:E.bankName})]}),t.jsxs("div",{style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[t.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.25rem"},children:"Account Name"}),t.jsx("span",{style:{color:"#f8fafc",fontSize:"0.875rem",fontWeight:500},children:E.accountName})]}),t.jsxs("div",{style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[t.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.25rem"},children:"Account Number"}),t.jsx("span",{style:{color:"#f8fafc",fontSize:"0.875rem",fontWeight:500},children:E.accountNumber})]})]}):t.jsxs("div",{style:{marginBottom:"1rem"},children:[t.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.25rem"},children:"Wallet Address"}),t.jsx("span",{style:{color:"#f8fafc",fontSize:"0.75rem",fontFamily:"monospace",wordBreak:"break-all"},children:E.walletAddress})]})]}),t.jsx("div",{style:{background:"rgba(251,191,36,0.1)",border:"1px solid rgba(251,191,36,0.3)",borderRadius:"8px",padding:"1rem"},children:t.jsxs("small",{style:{color:"#fbbf24",fontSize:"0.75rem",lineHeight:"1.5"},children:[t.jsx("i",{className:"icofont-warning",style:{marginRight:"0.5rem"}}),"Your withdrawal will be reviewed within 2-4 hours. Funds will be transferred to your ",E.method==="Bank Transfer"?"bank account":"wallet"," within 24 hours after approval."]})})]}),ne==="success"&&t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #10b981 0%, #34d399 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(16,185,129,0.3)"},children:t.jsx("i",{className:"icofont-check",style:{fontSize:"2.5rem",color:"#fff"}})}),t.jsx("h4",{style:{color:"#f8fafc",fontSize:"1.5rem",fontWeight:600,marginBottom:"1rem"},children:"Withdrawal Requested!"}),t.jsxs("p",{style:{color:"#cbd5e1",fontSize:"1rem",lineHeight:"1.6",marginBottom:"1.5rem"},children:["Your withdrawal request of ",t.jsxs("strong",{style:{color:"#f0b90b"},children:["$",parseFloat(E.amount).toLocaleString()]})," has been submitted successfully."]}),t.jsxs("div",{style:{background:"rgba(59,130,246,0.1)",border:"1px solid rgba(59,130,246,0.3)",borderRadius:"12px",padding:"1.5rem",textAlign:"left",marginBottom:"1rem"},children:[t.jsx("h5",{style:{color:"#93c5fd",fontSize:"0.875rem",fontWeight:600,marginBottom:"0.75rem"},children:"What's Next?"}),t.jsxs("ul",{style:{color:"#cbd5e1",fontSize:"0.875rem",lineHeight:"1.8",paddingLeft:"1.5rem",margin:0},children:[t.jsx("li",{children:"Our team will review your request (2-4 hours)"}),t.jsx("li",{children:"You'll receive an email notification once approved"}),t.jsx("li",{children:"Funds will be transferred within 24 hours"}),t.jsx("li",{children:"Check your withdrawal history for status updates"})]})]})]})]}),t.jsxs("div",{style:{padding:"1.5rem",borderTop:"1px solid rgba(255,255,255,0.1)",display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[ne!=="amount"&&ne!=="success"&&t.jsx("button",{onClick:zs,style:{padding:"0.75rem 1.5rem",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"#f8fafc",fontSize:"0.875rem",fontWeight:500,cursor:"pointer"},children:"Back"}),ne!=="success"&&t.jsx("button",{onClick:_s,style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #f0b90b 0%, #f8d12f 100%)",border:"none",borderRadius:"8px",color:"#0f172a",fontSize:"0.875rem",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 12px rgba(240,185,11,0.3)"},children:ne==="confirm"?"Submit Request":"Continue"}),ne==="success"&&t.jsx("button",{onClick:Zt,style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #f0b90b 0%, #f8d12f 100%)",border:"none",borderRadius:"8px",color:"#0f172a",fontSize:"0.875rem",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 12px rgba(240,185,11,0.3)"},children:"Close"})]})]})}),Cs&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,backdropFilter:"blur(8px)",padding:"1rem"},children:t.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"16px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.5)",border:"1px solid rgba(59,130,246,0.3)"},children:[t.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600,marginBottom:"0.25rem"},children:"Request Loan"}),t.jsxs("p",{style:{color:"#94a3b8",fontSize:"0.875rem",margin:0},children:["Step ",ge==="amount"?"1":ge==="terms"?"2":ge==="confirm"?"3":"4"," of 4"]})]}),t.jsx("button",{onClick:$e,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#f8fafc",fontSize:"1.25rem"},children:"Ã—"})]}),t.jsxs("div",{style:{padding:"2rem"},children:[ge==="amount"&&t.jsxs("div",{children:[t.jsx("h4",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600,marginBottom:"1.5rem"},children:"How Much Do You Need?"}),t.jsxs("div",{style:{background:"rgba(59,130,246,0.1)",border:"1px solid rgba(59,130,246,0.3)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.875rem",marginBottom:"0.5rem"},children:"Maximum Available"}),t.jsxs("h2",{style:{color:"#60a5fa",fontSize:"2rem",fontWeight:700,margin:0},children:["$",(Ye*.5).toLocaleString()]}),t.jsx("p",{style:{color:"#94a3b8",fontSize:"0.75rem",marginTop:"0.25rem"},children:"Based on 50% of your total investment"})]}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#cbd5e1",fontSize:"0.875rem",fontWeight:500},children:["Loan Amount (USD) ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("input",{type:"number",value:u.amount,onChange:h=>w({...u,amount:h.target.value}),placeholder:"Enter loan amount",min:"100",max:Ye*.5,style:{width:"100%",padding:"0.75rem 1rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#f8fafc",fontSize:"1rem",fontWeight:500}}),t.jsxs("small",{style:{color:"#94a3b8",fontSize:"0.75rem",marginTop:"0.5rem",display:"block"},children:["Min: $100 | Max: $",(Ye*.5).toLocaleString()]})]}),t.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[[500,1e3,2500,5e3].map(h=>h<=Ye*.5&&t.jsxs("button",{onClick:()=>w({...u,amount:h.toString()}),style:{padding:"0.5rem 1rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#60a5fa",fontSize:"0.875rem",cursor:"pointer",fontWeight:500},children:["$",h.toLocaleString()]},h)),t.jsx("button",{onClick:()=>w({...u,amount:(Ye*.5).toString()}),style:{padding:"0.5rem 1rem",background:"rgba(59,130,246,0.1)",border:"1px solid rgba(59,130,246,0.3)",borderRadius:"8px",color:"#60a5fa",fontSize:"0.875rem",cursor:"pointer",fontWeight:600},children:"Max"})]}),u.amount&&parseFloat(u.amount)>=100&&t.jsxs("div",{style:{marginTop:"1.5rem",background:"rgba(240,185,11,0.1)",border:"1px solid rgba(240,185,11,0.3)",borderRadius:"12px",padding:"1rem"},children:[t.jsx("h5",{style:{color:"#f0b90b",fontSize:"0.875rem",fontWeight:600,marginBottom:"0.75rem"},children:"Loan Calculation"}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[t.jsx("span",{style:{color:"#cbd5e1",fontSize:"0.875rem"},children:"Principal:"}),t.jsxs("span",{style:{color:"#f8fafc",fontSize:"0.875rem",fontWeight:600},children:["$",parseFloat(u.amount).toLocaleString()]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[t.jsx("span",{style:{color:"#cbd5e1",fontSize:"0.875rem"},children:"Interest (5%):"}),t.jsxs("span",{style:{color:"#f8fafc",fontSize:"0.875rem",fontWeight:600},children:["$",(parseFloat(u.amount)*.05).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"0.75rem",borderTop:"1px solid rgba(240,185,11,0.3)"},children:[t.jsx("span",{style:{color:"#f0b90b",fontSize:"0.875rem",fontWeight:600},children:"Total Repayment:"}),t.jsxs("span",{style:{color:"#f0b90b",fontSize:"1rem",fontWeight:700},children:["$",(parseFloat(u.amount)*1.05).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}),ge==="terms"&&t.jsxs("div",{children:[t.jsx("h4",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600,marginBottom:"1.5rem"},children:"Loan Terms & Purpose"}),t.jsxs("div",{style:{marginBottom:"1.5rem"},children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#cbd5e1",fontSize:"0.875rem",fontWeight:500},children:["Loan Duration ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("div",{style:{display:"grid",gap:"1rem"},children:[{value:"30",label:"30 Days",interest:"5%"},{value:"60",label:"60 Days",interest:"10%"},{value:"90",label:"90 Days",interest:"15%"}].map(h=>t.jsxs("button",{onClick:()=>w({...u,duration:h.value}),style:{padding:"1.25rem",background:u.duration===h.value?"rgba(59,130,246,0.1)":"rgba(255,255,255,0.03)",border:u.duration===h.value?"2px solid #60a5fa":"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",textAlign:"left",cursor:"pointer",transition:"all 0.3s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{color:"#f8fafc",fontWeight:600,fontSize:"1rem",marginBottom:"0.25rem"},children:h.label}),t.jsxs("div",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:["Total Interest: ",h.interest]})]}),t.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",border:u.duration===h.value?"2px solid #60a5fa":"2px solid rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:u.duration===h.value&&t.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:"#60a5fa"}})})]},h.value))})]}),t.jsxs("div",{children:[t.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#cbd5e1",fontSize:"0.875rem",fontWeight:500},children:["Loan Purpose ",t.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),t.jsx("textarea",{value:u.purpose,onChange:h=>w({...u,purpose:h.target.value}),placeholder:"Please describe how you plan to use this loan...",rows:4,style:{width:"100%",padding:"0.75rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#f8fafc",fontSize:"0.875rem",resize:"vertical"}})]})]}),ge==="confirm"&&t.jsxs("div",{children:[t.jsx("h4",{style:{color:"#f8fafc",fontSize:"1.25rem",fontWeight:600,marginBottom:"1.5rem"},children:"Review Loan Application"}),t.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem"},children:[t.jsxs("div",{style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[t.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.25rem"},children:"Loan Amount"}),t.jsxs("span",{style:{color:"#f8fafc",fontSize:"1.5rem",fontWeight:700},children:["$",parseFloat(u.amount).toLocaleString()]})]}),t.jsxs("div",{style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[t.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.25rem"},children:"Duration"}),t.jsxs("span",{style:{color:"#f8fafc",fontSize:"0.875rem",fontWeight:500},children:[u.duration," Days"]})]}),t.jsxs("div",{style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[t.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.25rem"},children:"Interest Rate"}),t.jsx("span",{style:{color:"#f8fafc",fontSize:"0.875rem",fontWeight:500},children:u.duration==="30"?"5%":u.duration==="60"?"10%":"15%"})]}),t.jsxs("div",{style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[t.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.25rem"},children:"Total Interest"}),t.jsxs("span",{style:{color:"#f8fafc",fontSize:"0.875rem",fontWeight:500},children:["$",(parseFloat(u.amount)*(u.duration==="30"?.05:u.duration==="60"?.1:.15)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[t.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.25rem"},children:"Total Repayment"}),t.jsxs("span",{style:{color:"#60a5fa",fontSize:"1.25rem",fontWeight:700},children:["$",(parseFloat(u.amount)*(u.duration==="30"?1.05:u.duration==="60"?1.1:1.15)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{children:[t.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",display:"block",marginBottom:"0.5rem"},children:"Purpose"}),t.jsx("p",{style:{color:"#cbd5e1",fontSize:"0.875rem",lineHeight:"1.6",margin:0},children:u.purpose})]})]}),t.jsx("div",{style:{background:"rgba(59,130,246,0.1)",border:"1px solid rgba(59,130,246,0.3)",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:t.jsxs("small",{style:{color:"#93c5fd",fontSize:"0.75rem",lineHeight:"1.5"},children:[t.jsx("i",{className:"icofont-info-circle",style:{marginRight:"0.5rem"}}),"By submitting this application, you agree to repay the full amount plus interest within the specified duration. Failure to repay may result in liquidation of your investments."]})})]}),ge==="success"&&t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #10b981 0%, #34d399 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(16,185,129,0.3)"},children:t.jsx("i",{className:"icofont-check",style:{fontSize:"2.5rem",color:"#fff"}})}),t.jsx("h4",{style:{color:"#f8fafc",fontSize:"1.5rem",fontWeight:600,marginBottom:"1rem"},children:"Loan Approved!"}),t.jsxs("p",{style:{color:"#cbd5e1",fontSize:"1rem",lineHeight:"1.6",marginBottom:"1.5rem"},children:["Your loan of ",t.jsxs("strong",{style:{color:"#60a5fa"},children:["$",parseFloat(u.amount).toLocaleString()]})," has been approved and will be credited to your wallet within 24 hours."]}),t.jsxs("div",{style:{background:"rgba(240,185,11,0.1)",border:"1px solid rgba(240,185,11,0.3)",borderRadius:"12px",padding:"1.5rem",textAlign:"left",marginBottom:"1rem"},children:[t.jsx("h5",{style:{color:"#f0b90b",fontSize:"0.875rem",fontWeight:600,marginBottom:"0.75rem"},children:"Repayment Details"}),t.jsxs("div",{style:{color:"#cbd5e1",fontSize:"0.875rem",lineHeight:"1.8"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[t.jsx("span",{children:"Due Date:"}),t.jsx("strong",{style:{color:"#f8fafc"},children:new Date(Date.now()+parseInt(u.duration)*24*60*60*1e3).toLocaleDateString()})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[t.jsx("span",{children:"Total to Repay:"}),t.jsxs("strong",{style:{color:"#f0b90b"},children:["$",(parseFloat(u.amount)*(u.duration==="30"?1.05:u.duration==="60"?1.1:1.15)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}),t.jsx("div",{style:{background:"rgba(59,130,246,0.1)",border:"1px solid rgba(59,130,246,0.3)",borderRadius:"8px",padding:"1rem"},children:t.jsxs("small",{style:{color:"#93c5fd",fontSize:"0.75rem",lineHeight:"1.5"},children:[t.jsx("i",{className:"icofont-bell",style:{marginRight:"0.5rem"}}),"You'll receive email and SMS reminders before the due date. Track your loan status in the Loans section."]})})]})]}),t.jsxs("div",{style:{padding:"1.5rem",borderTop:"1px solid rgba(255,255,255,0.1)",display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[ge!=="amount"&&ge!=="success"&&t.jsx("button",{onClick:ye,style:{padding:"0.75rem 1.5rem",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"#f8fafc",fontSize:"0.875rem",fontWeight:500,cursor:"pointer"},children:"Back"}),ge!=="success"&&t.jsx("button",{onClick:W,style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%)",border:"none",borderRadius:"8px",color:"#fff",fontSize:"0.875rem",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 12px rgba(59,130,246,0.3)"},children:ge==="confirm"?"Submit Application":"Continue"}),ge==="success"&&t.jsx("button",{onClick:$e,style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #10b981 0%, #34d399 100%)",border:"none",borderRadius:"8px",color:"#fff",fontSize:"0.875rem",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 12px rgba(16,185,129,0.3)"},children:"Close"})]})]})}),a&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99999,animation:"fadeIn 0.3s ease-out"},children:t.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b 0%, #334155 100%)",borderRadius:"16px",padding:"2rem",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 20px 40px rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.1)"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"1rem"},children:[t.jsx("h2",{style:{color:"#f8fafc",fontSize:"1.5rem",fontWeight:700,margin:0},children:"Notifications"}),t.jsx("button",{onClick:()=>n(!1),style:{background:"none",border:"none",color:"#94a3b8",fontSize:"1.5rem",cursor:"pointer",padding:"0.25rem",borderRadius:"4px",transition:"all 0.2s ease"},onMouseEnter:h=>h.currentTarget.style.background="rgba(255,255,255,0.1)",onMouseLeave:h=>h.currentTarget.style.background="none",children:t.jsx("i",{className:"icofont-close"})})]}),t.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",marginBottom:"1.5rem"},children:r.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#94a3b8"},children:[t.jsx("i",{className:"icofont-notification",style:{fontSize:"3rem",marginBottom:"1rem",display:"block"}}),t.jsx("p",{children:"No notifications yet"})]}):r.map(h=>t.jsxs("div",{style:{display:"flex",alignItems:"flex-start",padding:"1rem",marginBottom:"0.5rem",borderRadius:"8px",background:h.read?"rgba(255,255,255,0.05)":"rgba(59,130,246,0.1)",border:h.read?"1px solid rgba(255,255,255,0.05)":"1px solid rgba(59,130,246,0.3)",cursor:h.read?"default":"pointer",transition:"all 0.2s ease"},onClick:async()=>{if(!h.read)try{await $.markNotificationAsRead(String(h.id)),e(C=>C.map(R=>R.id===h.id?{...R,read:!0}:R))}catch(C){console.log("Could not mark notification as read:",C)}},children:[t.jsxs("div",{style:{marginRight:"1rem",marginTop:"0.25rem"},children:[h.type==="success"&&t.jsx("i",{className:"icofont-check-circled",style:{color:"#10b981",fontSize:"1.25rem"}}),h.type==="error"&&t.jsx("i",{className:"icofont-close-circled",style:{color:"#ef4444",fontSize:"1.25rem"}}),h.type==="warning"&&t.jsx("i",{className:"icofont-warning",style:{color:"#f59e0b",fontSize:"1.25rem"}}),h.type==="info"&&t.jsx("i",{className:"icofont-info-circle",style:{color:"#3b82f6",fontSize:"1.25rem"}}),!["success","error","warning","info"].includes(h.type)&&t.jsx("i",{className:"icofont-notification",style:{color:"#94a3b8",fontSize:"1.25rem"}})]}),t.jsxs("div",{style:{flex:1},children:[t.jsx("h4",{style:{color:"#f8fafc",fontSize:"0.875rem",fontWeight:600,margin:"0 0 0.25rem 0"},children:h.title?h.title:"Notification"}),t.jsx("p",{style:{color:"#cbd5e1",fontSize:"0.875rem",lineHeight:"1.4",margin:"0 0 0.5rem 0"},children:h.message}),t.jsx("span",{style:{color:"#64748b",fontSize:"0.75rem"},children:typeof h.created_at=="string"&&h.created_at?new Date(h.created_at).toLocaleString():""})]}),!h.read&&t.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#3b82f6",marginTop:"0.5rem"}})]},h.id))}),r.length>0&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("span",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:[r.filter(h=>!h.read).length," unread"]}),t.jsxs("div",{children:[t.jsx("button",{onClick:async()=>{try{await $.markAllNotificationsAsRead((p==null?void 0:p.idnum)||""),e(h=>h.map(C=>({...C,read:!0})))}catch(h){console.log("Could not mark all notifications as read:",h)}},style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%)",border:"none",borderRadius:"6px",color:"#fff",fontSize:"0.875rem",fontWeight:600,cursor:"pointer",marginRight:"0.5rem",transition:"all 0.2s ease"},onMouseEnter:h=>h.currentTarget.style.transform="translateY(-1px)",onMouseLeave:h=>h.currentTarget.style.transform="translateY(0)",children:"Mark All Read"}),t.jsx("button",{onClick:()=>n(!1),style:{padding:"0.5rem 1rem",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"6px",color:"#cbd5e1",fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:h=>h.currentTarget.style.background="rgba(255,255,255,0.2)",onMouseLeave:h=>h.currentTarget.style.background="rgba(255,255,255,0.1)",children:"Close"})]})]})]})}),v.show&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99998,animation:"fadeIn 0.3s ease-out"},children:t.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"16px",padding:"1.5rem",maxWidth:"400px",width:"90%",boxShadow:"0 20px 40px rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.05)"},children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[t.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",boxShadow:"0 8px 20px rgba(245,158,11,0.3)"},children:t.jsx("i",{className:"icofont-warning",style:{fontSize:"2rem",color:"#fff"}})}),t.jsx("h2",{style:{color:"#f8fafc",fontSize:"1.5rem",fontWeight:700,margin:"0 0 1rem 0"},children:v.title}),t.jsx("p",{style:{color:"#cbd5e1",fontSize:"1rem",lineHeight:"1.6",margin:0},children:v.message})]}),t.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[t.jsx("button",{onClick:()=>{v.onConfirm(),k()},style:{flex:1,padding:"1rem",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",border:"none",borderRadius:"12px",color:"#fff",fontSize:"1rem",fontWeight:700,cursor:"pointer",boxShadow:"0 8px 20px rgba(239,68,68,0.3)",transition:"all 0.3s ease"},onMouseEnter:h=>{h.currentTarget.style.transform="translateY(-2px)",h.currentTarget.style.boxShadow="0 12px 30px rgba(239,68,68,0.4)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateY(0)",h.currentTarget.style.boxShadow="0 8px 20px rgba(239,68,68,0.3)"},children:v.confirmText}),t.jsx("button",{onClick:()=>{v.onCancel&&v.onCancel(),k()},style:{flex:1,padding:"1rem",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",color:"#cbd5e1",fontSize:"1rem",fontWeight:700,cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:h=>{h.currentTarget.style.background="rgba(255,255,255,0.2)",h.currentTarget.style.borderColor="rgba(255,255,255,0.3)"},onMouseLeave:h=>{h.currentTarget.style.background="rgba(255,255,255,0.1)",h.currentTarget.style.borderColor="rgba(255,255,255,0.2)"},children:v.cancelText})]})]})}),g.show&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,backdropFilter:"blur(8px)",padding:"1rem",animation:"fadeIn 0.3s ease"},children:t.jsxs("div",{style:{background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderRadius:"16px",maxWidth:"500px",width:"100%",boxShadow:"0 25px 50px rgba(0,0,0,0.5)",border:`1px solid ${g.type==="success"?"rgba(16,185,129,0.3)":g.type==="error"?"rgba(239,68,68,0.3)":g.type==="warning"?"rgba(251,191,36,0.3)":"rgba(59,130,246,0.3)"}`,overflow:"hidden",animation:"slideUp 0.3s ease"},children:[t.jsxs("div",{style:{background:g.type==="success"?"linear-gradient(135deg, rgba(16,185,129,0.1) 0%, rgba(5,150,105,0.1) 100%)":g.type==="error"?"linear-gradient(135deg, rgba(239,68,68,0.1) 0%, rgba(220,38,38,0.1) 100%)":g.type==="warning"?"linear-gradient(135deg, rgba(251,191,36,0.1) 0%, rgba(245,158,11,0.1) 100%)":"linear-gradient(135deg, rgba(59,130,246,0.1) 0%, rgba(37,99,235,0.1) 100%)",padding:"1.5rem",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",borderBottom:`1px solid ${g.type==="success"?"rgba(16,185,129,0.2)":g.type==="error"?"rgba(239,68,68,0.2)":g.type==="warning"?"rgba(251,191,36,0.2)":"rgba(59,130,246,0.2)"}`},children:[t.jsxs("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:g.type==="success"?"rgba(16,185,129,0.2)":g.type==="error"?"rgba(239,68,68,0.2)":g.type==="warning"?"rgba(251,191,36,0.2)":"rgba(59,130,246,0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.5rem",animation:"pulse 2s infinite"},children:[g.type==="success"&&"âœ…",g.type==="error"&&"âŒ",g.type==="warning"&&"âš ï¸",g.type==="info"&&"â„¹ï¸"]}),t.jsx("h2",{style:{color:"#f8fafc",fontSize:"1.5rem",fontWeight:700,margin:0,textAlign:"center"},children:g.title})]}),t.jsxs("div",{style:{padding:"1.5rem",textAlign:"center"},children:[t.jsx("p",{style:{color:"#cbd5e1",fontSize:"1rem",lineHeight:"1.6",margin:"0 0 2rem 0"},children:g.message}),t.jsx("button",{onClick:b,style:{width:"100%",padding:"1rem",background:g.type==="success"?"linear-gradient(135deg, #10b981 0%, #34d399 100%)":g.type==="error"?"linear-gradient(135deg, #ef4444 0%, #f87171 100%)":g.type==="warning"?"linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%)":"linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%)",border:"none",borderRadius:"12px",color:"#fff",fontSize:"1rem",fontWeight:700,cursor:"pointer",boxShadow:"0 8px 20px rgba(0,0,0,0.3)",transition:"all 0.3s ease"},onMouseEnter:h=>{h.currentTarget.style.transform="translateY(-2px)",h.currentTarget.style.boxShadow="0 12px 30px rgba(0,0,0,0.4)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateY(0)",h.currentTarget.style.boxShadow="0 8px 20px rgba(0,0,0,0.3)"},children:g.type==="success"?"Great!":"Got it"})]})]})}),t.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes pulse {
          0%, 100% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.05);
          }
        }
      `})]})}function Sl(){const[r,e]=j.useState([]),[s,i]=j.useState(!0),[a,n]=j.useState(null),[o,l]=j.useState(null),[c,d]=j.useState("market_cap"),[m,f]=j.useState("desc");j.useEffect(()=>{async function b(){try{n(null);const y=await ni();y.length===0?n("Unable to fetch prices. Please try again later."):(e(y),l(new Date))}catch(y){n("Failed to load cryptocurrency prices"),console.error(y)}finally{i(!1)}}b();const v=setInterval(b,3e4);return()=>clearInterval(v)},[]);const g=[...r].sort((b,v)=>{let y,k;switch(c){case"price":y=b.current_price,k=v.current_price;break;case"change":y=b.price_change_percentage_24h,k=v.price_change_percentage_24h;break;default:y=b.market_cap,k=v.market_cap}return m==="desc"?k-y:y-k}),x=b=>{c===b?f(m==="desc"?"asc":"desc"):(d(b),f("desc"))};return s&&r.length===0?t.jsx("div",{className:"markets-page",style:{minHeight:"100vh",background:"linear-gradient(180deg, #0b0e11 0%, #1a1d21 100%)",padding:"40px 20px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"60px",height:"60px",border:"4px solid rgba(240,185,11,0.2)",borderTop:"4px solid #f0b90b",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),t.jsx("p",{style:{color:"#f0b90b",fontSize:"18px"},children:"Loading live market data..."}),t.jsx("style",{children:"@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }"})]})}):a&&r.length===0?t.jsx("div",{className:"markets-page",style:{minHeight:"100vh",background:"linear-gradient(180deg, #0b0e11 0%, #1a1d21 100%)",padding:"40px 20px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsxs("div",{style:{textAlign:"center",background:"linear-gradient(145deg, #1e2329, #181a20)",padding:"40px",borderRadius:"16px",border:"1px solid rgba(248,113,113,0.3)"},children:[t.jsx("i",{className:"icofont-warning",style:{fontSize:"48px",color:"#f87171",marginBottom:"16px",display:"block"}}),t.jsx("h2",{style:{color:"#fff",marginBottom:"12px"},children:"Unable to Load Prices"}),t.jsx("p",{style:{color:"rgba(255,255,255,0.6)",marginBottom:"20px"},children:a}),t.jsxs("button",{onClick:()=>window.location.reload(),style:{background:"linear-gradient(135deg, #f0b90b, #d4a00a)",color:"#000",border:"none",padding:"12px 28px",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},children:[t.jsx("i",{className:"icofont-refresh",style:{marginRight:"8px"}})," Retry"]})]})}):t.jsx("div",{className:"markets-page",style:{minHeight:"100vh",background:"linear-gradient(180deg, #0b0e11 0%, #1a1d21 100%)",padding:"40px 20px"},children:t.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[t.jsxs("div",{style:{marginBottom:"32px"},children:[t.jsxs("h1",{style:{color:"#fff",fontSize:"32px",fontWeight:"700",marginBottom:"8px"},children:[t.jsx("i",{className:"icofont-chart-line-alt",style:{color:"#f0b90b",marginRight:"12px"}}),"Live Crypto Markets"]}),t.jsx("p",{style:{color:"rgba(255,255,255,0.6)",fontSize:"15px"},children:"Real-time cryptocurrency prices powered by Binance"}),o&&t.jsxs("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"12px",marginTop:"8px"},children:[t.jsx("i",{className:"icofont-refresh"})," Last updated: ",o.toLocaleTimeString()," â€¢ Auto-refreshes every 30s"]})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"32px"},children:r.slice(0,4).map(b=>t.jsxs("div",{style:{background:"linear-gradient(145deg, #1e2329, #181a20)",border:"1px solid rgba(240, 185, 11, 0.1)",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"14px"},children:[t.jsx("img",{src:b.image,alt:b.name,style:{width:"48px",height:"48px",borderRadius:"50%"}}),t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:"12px",marginBottom:"4px"},children:b.symbol.toUpperCase()}),t.jsxs("div",{style:{color:"#fff",fontSize:"20px",fontWeight:"700"},children:["$",Ee(b.current_price)]}),t.jsxs("div",{style:{color:b.price_change_percentage_24h>=0?"#4ade80":"#f87171",fontSize:"13px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("i",{className:b.price_change_percentage_24h>=0?"icofont-arrow-up":"icofont-arrow-down"}),Math.abs(b.price_change_percentage_24h).toFixed(2),"%"]})]})]},b.id))}),t.jsxs("div",{style:{background:"linear-gradient(145deg, #1e2329, #181a20)",border:"1px solid rgba(240, 185, 11, 0.1)",borderRadius:"16px",overflow:"hidden"},children:[t.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid rgba(255,255,255,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("h2",{style:{color:"#fff",fontSize:"18px",fontWeight:"600",margin:0},children:"All Cryptocurrencies"}),s&&t.jsxs("span",{style:{color:"#f0b90b",fontSize:"13px"},children:[t.jsx("i",{className:"icofont-refresh icofont-spin"})," Updating..."]})]}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"800px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"rgba(0,0,0,0.2)"},children:[t.jsx("th",{style:{padding:"14px 20px",textAlign:"left",color:"rgba(255,255,255,0.5)",fontSize:"12px",fontWeight:"600"},children:"#"}),t.jsx("th",{style:{padding:"14px 20px",textAlign:"left",color:"rgba(255,255,255,0.5)",fontSize:"12px",fontWeight:"600"},children:"Name"}),t.jsxs("th",{style:{padding:"14px 20px",textAlign:"right",color:"rgba(255,255,255,0.5)",fontSize:"12px",fontWeight:"600",cursor:"pointer"},onClick:()=>x("price"),children:["Price ",c==="price"&&(m==="desc"?"â†“":"â†‘")]}),t.jsxs("th",{style:{padding:"14px 20px",textAlign:"right",color:"rgba(255,255,255,0.5)",fontSize:"12px",fontWeight:"600",cursor:"pointer"},onClick:()=>x("change"),children:["24h Change ",c==="change"&&(m==="desc"?"â†“":"â†‘")]}),t.jsx("th",{style:{padding:"14px 20px",textAlign:"right",color:"rgba(255,255,255,0.5)",fontSize:"12px",fontWeight:"600"},children:"24h High"}),t.jsx("th",{style:{padding:"14px 20px",textAlign:"right",color:"rgba(255,255,255,0.5)",fontSize:"12px",fontWeight:"600"},children:"24h Low"}),t.jsxs("th",{style:{padding:"14px 20px",textAlign:"right",color:"rgba(255,255,255,0.5)",fontSize:"12px",fontWeight:"600",cursor:"pointer"},onClick:()=>x("market_cap"),children:["Market Cap ",c==="market_cap"&&(m==="desc"?"â†“":"â†‘")]}),t.jsx("th",{style:{padding:"14px 20px",textAlign:"right",color:"rgba(255,255,255,0.5)",fontSize:"12px",fontWeight:"600"},children:"Volume (24h)"})]})}),t.jsx("tbody",{children:g.map((b,v)=>t.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",transition:"background 0.2s"},onMouseEnter:y=>y.currentTarget.style.background="rgba(240,185,11,0.05)",onMouseLeave:y=>y.currentTarget.style.background="transparent",children:[t.jsx("td",{style:{padding:"16px 20px",color:"rgba(255,255,255,0.5)",fontSize:"14px"},children:v+1}),t.jsx("td",{style:{padding:"16px 20px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("img",{src:b.image,alt:b.name,style:{width:"32px",height:"32px",borderRadius:"50%"}}),t.jsxs("div",{children:[t.jsx("div",{style:{color:"#fff",fontWeight:"600",fontSize:"14px"},children:b.name}),t.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",textTransform:"uppercase"},children:b.symbol})]})]})}),t.jsxs("td",{style:{padding:"16px 20px",textAlign:"right",color:"#fff",fontWeight:"600",fontSize:"15px"},children:["$",Ee(b.current_price)]}),t.jsx("td",{style:{padding:"16px 20px",textAlign:"right"},children:t.jsxs("span",{style:{color:b.price_change_percentage_24h>=0?"#4ade80":"#f87171",fontWeight:"600",fontSize:"14px",display:"inline-flex",alignItems:"center",gap:"4px",background:b.price_change_percentage_24h>=0?"rgba(74,222,128,0.1)":"rgba(248,113,113,0.1)",padding:"4px 10px",borderRadius:"6px"},children:[t.jsx("i",{className:b.price_change_percentage_24h>=0?"icofont-arrow-up":"icofont-arrow-down"}),Math.abs(b.price_change_percentage_24h).toFixed(2),"%"]})}),t.jsxs("td",{style:{padding:"16px 20px",textAlign:"right",color:"#4ade80",fontSize:"14px"},children:["$",Ee(b.high_24h)]}),t.jsxs("td",{style:{padding:"16px 20px",textAlign:"right",color:"#f87171",fontSize:"14px"},children:["$",Ee(b.low_24h)]}),t.jsx("td",{style:{padding:"16px 20px",textAlign:"right",color:"rgba(255,255,255,0.8)",fontSize:"14px"},children:Ks(b.market_cap)}),t.jsx("td",{style:{padding:"16px 20px",textAlign:"right",color:"rgba(255,255,255,0.6)",fontSize:"14px"},children:Ks(b.total_volume)})]},b.id))})]})})]}),t.jsx("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"12px",textAlign:"center",marginTop:"24px"},children:"Prices are provided by Binance API. Data may be delayed by a few seconds. This is not financial advice."})]})})}function ui({children:r,requiredRole:e,allowedRoles:s,fallbackRoute:i}){const{user:a,isAuthenticated:n,loading:o}=wt(),c=wa().pathname.startsWith("/admin");if(o)return t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)"},children:[t.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid rgba(255,255,255,0.1)",borderTop:"4px solid #f0b90b",borderRadius:"50%",animation:"spin 1s linear infinite"}}),t.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]});if(!n||!a){const d=c?"/admin/login":"/login";return t.jsx(et,{to:d,replace:!0})}if(e&&!a.role){const d=c?"/admin/login":"/login";return t.jsx(et,{to:d,replace:!0})}if(e&&!Ma(a.role,e)){if(c&&a.role==="user")return t.jsx(et,{to:"/admin/login",replace:!0});const d=i||us(a.role);return t.jsx(et,{to:d,replace:!0})}if(s&&s.length>0&&!s.includes(a.role)){const d=i||us(a.role);return t.jsx(et,{to:d,replace:!0})}return t.jsx(t.Fragment,{children:r})}function ls({children:r}){return t.jsx(ui,{requiredRole:"admin",children:r})}function kl({children:r}){return t.jsx(ui,{requiredRole:"superadmin",children:r})}function Cl({children:r}){return t.jsx(ui,{allowedRoles:["user"],children:r})}const va="ciphervault-theme",_l=j.createContext(void 0);function zl({children:r}){const[e,s]=j.useState(()=>{if(typeof window>"u")return"dark";const a=window.localStorage.getItem(va);return a==="light"||a==="dark"?a:"dark"});j.useEffect(()=>{document.documentElement.dataset.theme=e,window.localStorage.setItem(va,e)},[e]);const i=j.useMemo(()=>({theme:e,toggleTheme:()=>s(a=>a==="light"?"dark":"light")}),[e]);return t.jsx(_l.Provider,{value:i,children:r})}function Rl(){const{user:r,isAuthenticated:e}=wt();if(!e||!r)return t.jsx(et,{to:"/",replace:!0});const s=us(r.role);return t.jsx(et,{to:s,replace:!0})}function Pl(){return console.log("ðŸŽ¨ App component rendering..."),t.jsx(zl,{children:t.jsx(Lr,{children:t.jsxs(lr,{children:[t.jsx(Se,{path:"/",element:t.jsxs("div",{className:"app-layout",children:[t.jsx(ct,{}),t.jsx("main",{className:"app-layout__content",children:t.jsx(Gr,{})}),t.jsx(dt,{})]})}),t.jsx(Se,{path:"/about",element:t.jsxs("div",{className:"app-layout",children:[t.jsx(ct,{}),t.jsx("main",{className:"app-layout__content",children:t.jsx(Kr,{})}),t.jsx(dt,{})]})}),t.jsx(Se,{path:"/contact",element:t.jsxs("div",{className:"app-layout",children:[t.jsx(ct,{}),t.jsx("main",{className:"app-layout__content",children:t.jsx(Qr,{})}),t.jsx(dt,{})]})}),t.jsx(Se,{path:"/packages",element:t.jsxs("div",{className:"app-layout",children:[t.jsx(ct,{}),t.jsx("main",{className:"app-layout__content",children:t.jsx(Xr,{})}),t.jsx(dt,{})]})}),t.jsx(Se,{path:"/faq",element:t.jsxs("div",{className:"app-layout",children:[t.jsx(ct,{}),t.jsx("main",{className:"app-layout__content",children:t.jsx(tn,{})}),t.jsx(dt,{})]})}),t.jsx(Se,{path:"/markets",element:t.jsxs("div",{className:"app-layout",children:[t.jsx(ct,{}),t.jsx("main",{className:"app-layout__content",children:t.jsx(Sl,{})}),t.jsx(dt,{})]})}),t.jsx(Se,{path:"/login",element:t.jsx(sn,{})}),t.jsx(Se,{path:"/signup",element:t.jsx(an,{})}),t.jsx(Se,{path:"/admin/login",element:t.jsx(nn,{})}),t.jsx(Se,{path:"/dashboard",element:t.jsx(Cl,{children:t.jsx(Nl,{})})}),t.jsx(Se,{path:"/admin",element:t.jsx(ls,{children:t.jsx(Tt,{})})}),t.jsx(Se,{path:"/admin/users-management",element:t.jsx(ls,{children:t.jsx(Tt,{})})}),t.jsx(Se,{path:"/admin/transactions",element:t.jsx(ls,{children:t.jsx(Tt,{})})}),t.jsx(Se,{path:"/admin/investment-plans",element:t.jsx(ls,{children:t.jsx(Tt,{})})}),t.jsx(Se,{path:"/admin/system-settings",element:t.jsx(kl,{children:t.jsx(Tt,{})})}),t.jsx(Se,{path:"*",element:t.jsx(Rl,{})})]})})})}const ir=document.getElementById("root");if(!ir)throw new Error("Root element not found");console.log("ðŸš€ React app starting...");Hs.createRoot(ir).render(t.jsx(nr.StrictMode,{children:t.jsx(cr,{children:t.jsx(Pl,{})})}));console.log("âœ… React app rendered");
